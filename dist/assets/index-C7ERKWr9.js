(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var im={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function JS(){if(bv)return Nl;bv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var Tv;function ZS(){return Tv||(Tv=1,im.exports=JS()),im.exports}var y=ZS(),sm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function e2(){if(Sv)return Ce;Sv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,L={};function F(V,Z,ue){this.props=V,this.context=Z,this.refs=L,this.updater=ue||B}F.prototype.isReactComponent={},F.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function z(){}z.prototype=F.prototype;function P(V,Z,ue){this.props=V,this.context=Z,this.refs=L,this.updater=ue||B}var re=P.prototype=new z;re.constructor=P,H(re,F.prototype),re.isPureReactComponent=!0;var ae=Array.isArray;function ce(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(V,Z,ue){var fe=ue.ref;return{$$typeof:n,type:V,key:Z,ref:fe!==void 0?fe:null,props:ue}}function I(V,Z){return R(V.type,Z,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function M(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return Z[ue]})}var N=/\/+/g;function ye(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Z.toString(36)}function we(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ce,ce):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Z,ue,fe,Te){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case n:case e:ke=!0;break;case E:return ke=V._init,G(ke(V._payload),Z,ue,fe,Te)}}if(ke)return Te=Te(V),ke=fe===""?"."+ye(V,0):fe,ae(Te)?(ue="",ke!=null&&(ue=ke.replace(N,"$&/")+"/"),G(Te,Z,ue,"",function(on){return on})):Te!=null&&(D(Te)&&(Te=I(Te,ue+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+ke)),Z.push(Te)),1;ke=0;var ot=fe===""?".":fe+":";if(ae(V))for(var Ye=0;Ye<V.length;Ye++)fe=V[Ye],xe=ot+ye(fe,Ye),ke+=G(fe,Z,ue,xe,Te);else if(Ye=k(V),typeof Ye=="function")for(V=Ye.call(V),Ye=0;!(fe=V.next()).done;)fe=fe.value,xe=ot+ye(fe,Ye++),ke+=G(fe,Z,ue,xe,Te);else if(xe==="object"){if(typeof V.then=="function")return G(we(V),Z,ue,fe,Te);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(V,Z,ue){if(V==null)return V;var fe=[],Te=0;return G(V,fe,"","",function(xe){return Z.call(ue,xe,Te++)}),fe}function oe(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var de=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},he={map:ie,forEach:function(V,Z,ue){ie(V,function(){Z.apply(this,arguments)},ue)},count:function(V){var Z=0;return ie(V,function(){Z++}),Z},toArray:function(V){return ie(V,function(Z){return Z})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ce.Activity=T,Ce.Children=he,Ce.Component=F,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=P,Ce.StrictMode=r,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(V,Z,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=H({},V.props),Te=V.key;if(Z!=null)for(xe in Z.key!==void 0&&(Te=""+Z.key),Z)!x.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(fe[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)fe.children=ue;else if(1<xe){for(var ke=Array(xe),ot=0;ot<xe;ot++)ke[ot]=arguments[ot+2];fe.children=ke}return R(V.type,Te,fe)},Ce.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ce.createElement=function(V,Z,ue){var fe,Te={},xe=null;if(Z!=null)for(fe in Z.key!==void 0&&(xe=""+Z.key),Z)x.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=Z[fe]);var ke=arguments.length-2;if(ke===1)Te.children=ue;else if(1<ke){for(var ot=Array(ke),Ye=0;Ye<ke;Ye++)ot[Ye]=arguments[Ye+2];Te.children=ot}if(V&&V.defaultProps)for(fe in ke=V.defaultProps,ke)Te[fe]===void 0&&(Te[fe]=ke[fe]);return R(V,xe,Te)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:m,render:V}},Ce.isValidElement=D,Ce.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:oe}},Ce.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Ce.startTransition=function(V){var Z=C.T,ue={};C.T=ue;try{var fe=V(),Te=C.S;Te!==null&&Te(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,de)}catch(xe){de(xe)}finally{Z!==null&&ue.types!==null&&(Z.types=ue.types),C.T=Z}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(V){return C.H.use(V)},Ce.useActionState=function(V,Z,ue){return C.H.useActionState(V,Z,ue)},Ce.useCallback=function(V,Z){return C.H.useCallback(V,Z)},Ce.useContext=function(V){return C.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,Z){return C.H.useDeferredValue(V,Z)},Ce.useEffect=function(V,Z){return C.H.useEffect(V,Z)},Ce.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(V,Z,ue){return C.H.useImperativeHandle(V,Z,ue)},Ce.useInsertionEffect=function(V,Z){return C.H.useInsertionEffect(V,Z)},Ce.useLayoutEffect=function(V,Z){return C.H.useLayoutEffect(V,Z)},Ce.useMemo=function(V,Z){return C.H.useMemo(V,Z)},Ce.useOptimistic=function(V,Z){return C.H.useOptimistic(V,Z)},Ce.useReducer=function(V,Z,ue){return C.H.useReducer(V,Z,ue)},Ce.useRef=function(V){return C.H.useRef(V)},Ce.useState=function(V){return C.H.useState(V)},Ce.useSyncExternalStore=function(V,Z,ue){return C.H.useSyncExternalStore(V,Z,ue)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.0",Ce}var wv;function Mh(){return wv||(wv=1,sm.exports=e2()),sm.exports}var Q=Mh(),rm={exports:{}},Il={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function t2(){return Av||(Av=1,(function(n){function e(G,ie){var oe=G.length;G.push(ie);e:for(;0<oe;){var de=oe-1>>>1,he=G[de];if(0<o(he,ie))G[de]=ie,G[oe]=he,oe=de;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],oe=G.pop();if(oe!==ie){G[0]=oe;e:for(var de=0,he=G.length,V=he>>>1;de<V;){var Z=2*(de+1)-1,ue=G[Z],fe=Z+1,Te=G[fe];if(0>o(ue,oe))fe<he&&0>o(Te,ue)?(G[de]=Te,G[fe]=oe,de=fe):(G[de]=ue,G[Z]=oe,de=Z);else if(fe<he&&0>o(Te,oe))G[de]=Te,G[fe]=oe,de=fe;else break e}}return ie}function o(G,ie){var oe=G.sortIndex-ie.sortIndex;return oe!==0?oe:G.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,k=!1,B=!1,H=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function re(G){for(var ie=i(g);ie!==null;){if(ie.callback===null)r(g);else if(ie.startTime<=G)r(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(g)}}function ae(G){if(H=!1,re(G),!B)if(i(p)!==null)B=!0,ce||(ce=!0,M());else{var ie=i(g);ie!==null&&we(ae,ie.startTime-G)}}var ce=!1,C=-1,x=5,R=-1;function I(){return L?!0:!(n.unstable_now()-R<x)}function D(){if(L=!1,ce){var G=n.unstable_now();R=G;var ie=!0;try{e:{B=!1,H&&(H=!1,z(C),C=-1),k=!0;var oe=w;try{t:{for(re(G),T=i(p);T!==null&&!(T.expirationTime>G&&I());){var de=T.callback;if(typeof de=="function"){T.callback=null,w=T.priorityLevel;var he=de(T.expirationTime<=G);if(G=n.unstable_now(),typeof he=="function"){T.callback=he,re(G),ie=!0;break t}T===i(p)&&r(p),re(G)}else r(p);T=i(p)}if(T!==null)ie=!0;else{var V=i(g);V!==null&&we(ae,V.startTime-G),ie=!1}}break e}finally{T=null,w=oe,k=!1}ie=void 0}}finally{ie?M():ce=!1}}}var M;if(typeof P=="function")M=function(){P(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ye=N.port2;N.port1.onmessage=D,M=function(){ye.postMessage(null)}}else M=function(){F(D,0)};function we(G,ie){C=F(function(){G(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(G){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var oe=w;w=ie;try{return G()}finally{w=oe}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=w;w=G;try{return ie()}finally{w=oe}},n.unstable_scheduleCallback=function(G,ie,oe){var de=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?de+oe:de):oe=de,G){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=oe+he,G={id:E++,callback:ie,priorityLevel:G,startTime:oe,expirationTime:he,sortIndex:-1},oe>de?(G.sortIndex=oe,e(g,G),i(p)===null&&G===i(g)&&(H?(z(C),C=-1):H=!0,we(ae,oe-de))):(G.sortIndex=he,e(p,G),B||k||(B=!0,ce||(ce=!0,M()))),G},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(G){var ie=w;return function(){var oe=w;w=ie;try{return G.apply(this,arguments)}finally{w=oe}}}})(om)),om}var xv;function n2(){return xv||(xv=1,am.exports=t2()),am.exports}var lm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function i2(){if(Rv)return $t;Rv=1;var n=Mh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,E)},$t.flushSync=function(p){var g=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=E,r.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&r.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},$t.requestFormReset=function(p){r.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Cv;function s2(){if(Cv)return lm.exports;Cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lm.exports=i2(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function r2(){if(Nv)return Il;Nv=1;var n=n2(),e=Mh(),i=s2();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function g(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function E(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=E(t),s!==null)return s;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),P=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case P:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case re:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:ye(t.type)||"Memo";case x:s=t._payload,t=t._init;try{return ye(t(s))}catch{}}return null}var we=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},de=[],he=-1;function V(t){return{current:t}}function Z(t){0>he||(t.current=de[he],de[he]=null,he--)}function ue(t,s){he++,de[he]=t.current,t.current=s}var fe=V(null),Te=V(null),xe=V(null),ke=V(null);function ot(t,s){switch(ue(xe,s),ue(Te,t),ue(fe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?F_(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=F_(s),t=G_(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(fe),ue(fe,t)}function Ye(){Z(fe),Z(Te),Z(xe)}function on(t){t.memoizedState!==null&&ue(ke,t);var s=fe.current,a=G_(s,t.type);s!==a&&(ue(Te,t),ue(fe,a))}function ui(t){Te.current===t&&(Z(fe),Z(Te)),ke.current===t&&(Z(ke),Al._currentValue=oe)}var Kn,Qn;function tn(t){if(Kn===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Kn=s&&s[1]||"",Qn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+t+Qn}var Nn=!1;function ln(t,s){if(!t||Nn)return"";Nn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(W){var $=W}Reflect.construct(t,[],te)}else{try{te.call()}catch(W){$=W}t.call(te.prototype)}}else{try{throw Error()}catch(W){$=W}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var O=v.split(`
`),Y=S.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===Y.length)for(l=O.length-1,f=Y.length-1;1<=l&&0<=f&&O[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==Y[f]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{Nn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?tn(a):""}function In(t,s){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==s&&s!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return ln(t.type,!1);case 11:return ln(t.type.render,!1);case 1:return ln(t.type,!0);case 31:return tn("Activity");default:return""}}function hi(t){try{var s="",a=null;do s+=In(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,xs=n.unstable_cancelCallback,rf=n.unstable_shouldYield,mc=n.unstable_requestPaint,nn=n.unstable_now,Ar=n.unstable_getCurrentPriorityLevel,Co=n.unstable_ImmediatePriority,No=n.unstable_UserBlockingPriority,Rs=n.unstable_NormalPriority,af=n.unstable_LowPriority,pc=n.unstable_IdlePriority,gc=n.log,yc=n.unstable_setDisableYieldValue,Yn=null,zt=null;function Dn(t){if(typeof gc=="function"&&yc(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Yn,t)}catch{}}var mt=Math.clz32?Math.clz32:vc,_c=Math.log,ga=Math.LN2;function vc(t){return t>>>=0,t===0?32:31-(_c(t)/ga|0)|0}var fi=256,xr=262144,bt=4194304;function di(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=di(l):(v&=S,v!==0?f=di(v):a||(a=S&~t,a!==0&&(f=di(a))))):(S=l&~d,S!==0?f=di(S):v!==0?f=di(v):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function $n(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function of(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function pi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Rr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lf(t,s,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,Y=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-mt(a),te=1<<J;S[J]=0,O[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var W=$[J];W!==null&&(W.lane&=-536870913)}a&=~te}l!==0&&Cr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~s))}function Cr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-mt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Io(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&s|t[l]&s&&(t[l]|=s),a&=~f}}function Do(t,s){var a=s&-s;return a=(a&42)!==0?1:Nr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bc(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function Xn(t,s){var a=ie.p;try{return ie.p=t,s()}finally{ie.p=a}}var Wn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Wn,jt="__reactProps$"+Wn,gi="__reactContainer$"+Wn,ya="__reactEvents$"+Wn,cf="__reactListeners$"+Wn,Tc="__reactHandles$"+Wn,Sc="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function _a(t){delete t[Tt],delete t[jt],delete t[ya],delete t[cf],delete t[Tc]}function _i(t){var s=t[Tt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[gi]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=J_(t);t!==null;){if(a=t[Tt])return a;t=J_(t)}return s}t=a,a=t.parentNode}return null}function On(t){if(t=t[Tt]||t[gi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function _n(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function vi(t){var s=t[Sc];return s||(s=t[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(t){t[yi]=!0}var Oo=new Set,ko={};function Ei(t,s){bi(t,s),bi(t+"Capture",s)}function bi(t,s){for(ko[t]=s,t=0;t<s.length;t++)Oo.add(s[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},jo={};function wc(t){return Et.call(jo,t)?!0:Et.call(Vo,t)?!1:Mo.test(t)?jo[t]=!0:(Vo[t]=!0,!1)}function va(t,s,a){if(wc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function vn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function wt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lo(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function $e(t){if(!t._valueTracker){var s=Cs(t)?"checked":"value";t._valueTracker=Lo(t,s,""+t[s])}}function Ir(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Cs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function cn(t){return t.replace(Dr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ea(t,s,a,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Lt(s)):t.value!==""+Lt(s)&&(t.value=""+Lt(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?Po(t,v,Lt(s)):a!=null?Po(t,v,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Ac(t,s,a,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){$e(t);return}a=a!=null?""+Lt(a):"",s=s!=null?""+Lt(s):a,S||s===t.value||(t.value=s),t.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function Po(t,s,a){s==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ns(t,s,a,l){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function xc(t,s,a){if(s!=null&&(s=""+Lt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Lt(a):""}function Is(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Lt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function un(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Rc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function zo(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&Uo(t,f,l)}else for(var d in s)s.hasOwnProperty(d)&&Uo(t,d,s[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Bo=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Si=null;function Or(t){var s=On(t);if(s&&(t=s.stateNode)){var a=t[jt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(r(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Ir(l)}break e;case"textarea":xc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ns(t,!!a.multiple,s,!1)}}}var Sa=!1;function ks(t,s,a){if(Sa)return t(s,a);Sa=!0;try{var l=t(s);return l}finally{if(Sa=!1,(Os!==null||Si!==null)&&(bu(),Os&&(s=Os,t=Si,Si=Os=null,Or(s),t)))for(s=0;s<t.length;s++)Or(t[s])}}function Zn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Mn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{kr=!1}var wi=null,qo=null,Mr=null;function Ho(){if(Mr)return Mr;var t,s=qo,a=s.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(t=0;t<a&&s[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===f[d-l];l++);return Mr=f.slice(t,1<l?1-l:void 0)}function Vr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ei(){return!1}function Bt(t){function s(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ei,this.isPropagationStopped=ei,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Bt(Wi),Ms=T({},Wi,{view:0,detail:0}),Fo=Bt(Ms),Vs,wa,xi,Aa=T({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Vs=t.screenX-xi.screenX,wa=t.screenY-xi.screenY):wa=Vs=0,xi=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Go=Bt(Aa),jr=T({},Aa,{dataTransfer:0}),Nc=Bt(jr),Ic=T({},Ms,{relatedTarget:0}),Lr=Bt(Ic),Ko=T({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=Bt(Ko),xa=T({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oc=Bt(xa),kc=T({},Wi,{data:0}),Ri=Bt(kc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=jc[t])?!!s[t]:!1}function js(){return Lc}var sn=T({},Ms,{key:function(t){if(t.key){var s=Mc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pc=Bt(sn),Uc=T({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Bt(Uc),u=T({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),_=Bt(u),b=T({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(b),q=T({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Bt(q),le=T({},Wi,{newState:0,oldState:0}),Ie=Bt(le),pt=[9,13,27,32],Ge=Mn&&"CompositionEvent"in window,lt=null;Mn&&"documentMode"in document&&(lt=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!lt,Ci=Mn&&(!Ge||lt&&8<lt&&11>=lt),ti=" ",ni=!1;function Pr(t,s){switch(t){case"keyup":return pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function TT(t,s){switch(t){case"compositionend":return Ra(s);case"keypress":return s.which!==32?null:(ni=!0,ti);case"textInput":return t=s.data,t===ti&&ni?null:t;default:return null}}function ST(t,s){if(Ca)return t==="compositionend"||!Ge&&Pr(t,s)?(t=Ho(),Mr=qo=wi=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ci&&s.locale!=="ko"?null:s.data;default:return null}}var wT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!wT[t.type]:s==="textarea"}function ng(t,s,a,l){Os?Si?Si.push(l):Si=[l]:Os=l,s=Cu(s,"onChange"),0<s.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Qo=null,Yo=null;function AT(t){P_(t,0)}function zc(t){var s=_n(t);if(Ir(s))return t}function ig(t,s){if(t==="change")return s}var sg=!1;if(Mn){var uf;if(Mn){var hf="oninput"in document;if(!hf){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),hf=typeof rg.oninput=="function"}uf=hf}else uf=!1;sg=uf&&(!document.documentMode||9<document.documentMode)}function ag(){Qo&&(Qo.detachEvent("onpropertychange",og),Yo=Qo=null)}function og(t){if(t.propertyName==="value"&&zc(Yo)){var s=[];ng(s,Yo,t,kn(t)),ks(AT,s)}}function xT(t,s,a){t==="focusin"?(ag(),Qo=s,Yo=a,Qo.attachEvent("onpropertychange",og)):t==="focusout"&&ag()}function RT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(Yo)}function CT(t,s){if(t==="click")return zc(s)}function NT(t,s){if(t==="input"||t==="change")return zc(s)}function IT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var En=typeof Object.is=="function"?Object.is:IT;function $o(t,s){if(En(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Et.call(s,f)||!En(t[f],s[f]))return!1}return!0}function lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cg(t,s){var a=lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lg(a)}}function ug(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ug(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ti(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ti(t.document)}return s}function ff(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var DT=Mn&&"documentMode"in document&&11>=document.documentMode,Na=null,df=null,Xo=null,mf=!1;function fg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||Na==null||Na!==Ti(l)||(l=Na,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&$o(Xo,l)||(Xo=l,l=Cu(df,"onSelect"),0<l.length&&(s=new Ai("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Na)))}function Ur(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ia={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},pf={},dg={};Mn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function zr(t){if(pf[t])return pf[t];if(!Ia[t])return t;var s=Ia[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in dg)return pf[t]=s[a];return t}var mg=zr("animationend"),pg=zr("animationiteration"),gg=zr("animationstart"),OT=zr("transitionrun"),kT=zr("transitionstart"),MT=zr("transitioncancel"),yg=zr("transitionend"),_g=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function ii(t,s){_g.set(t,s),Ei(s,[t])}var Bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Da=0,yf=0;function qc(){for(var t=Da,s=yf=Da=0;s<t;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var f=jn[s];jn[s++]=null;var d=jn[s];if(jn[s++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&vg(a,f,d)}}function Hc(t,s,a,l){jn[Da++]=t,jn[Da++]=s,jn[Da++]=a,jn[Da++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,s,a,l){return Hc(t,s,a,l),Fc(t)}function Br(t,s){return Hc(t,null,null,s),Fc(t)}function vg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&s!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function Fc(t){if(50<_l)throw _l=0,Rd=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Oa={};function VT(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,s,a,l){return new VT(t,s,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,s){var a=t.alternate;return a===null?(a=bn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Gc(t,s,a,l,f,d){var v=0;if(l=t,typeof t=="function")vf(t)&&(v=1);else if(typeof t=="string")v=zS(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=bn(31,a,s,f),t.elementType=R,t.lanes=d,t;case H:return qr(a.children,f,d,s);case L:v=8,f|=24;break;case F:return t=bn(12,a,s,f|2),t.elementType=F,t.lanes=d,t;case ae:return t=bn(13,a,s,f),t.elementType=ae,t.lanes=d,t;case ce:return t=bn(19,a,s,f),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:v=10;break e;case z:v=9;break e;case re:v=11;break e;case C:v=14;break e;case x:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=bn(v,a,s,f),s.elementType=t,s.type=l,s.lanes=d,s}function qr(t,s,a,l){return t=bn(7,t,l,s),t.lanes=a,t}function Ef(t,s,a){return t=bn(6,t,null,s),t.lanes=a,t}function bg(t){var s=bn(18,null,null,0);return s.stateNode=t,s}function bf(t,s,a){return s=bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Tg=new WeakMap;function Ln(t,s){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:hi(s)},Tg.set(t,s),s)}return{value:t,source:s,stack:hi(s)}}var ka=[],Ma=0,Kc=null,Wo=0,Pn=[],Un=0,Ls=null,Ni=1,Ii="";function es(t,s){ka[Ma++]=Wo,ka[Ma++]=Kc,Kc=t,Wo=s}function Sg(t,s,a){Pn[Un++]=Ni,Pn[Un++]=Ii,Pn[Un++]=Ls,Ls=t;var l=Ni;t=Ii;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(s)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ni=1<<32-mt(s)+f|a<<f|l,Ii=d+t}else Ni=1<<d|a<<f|l,Ii=t}function Tf(t){t.return!==null&&(es(t,1),Sg(t,1,0))}function Sf(t){for(;t===Kc;)Kc=ka[--Ma],ka[Ma]=null,Wo=ka[--Ma],ka[Ma]=null;for(;t===Ls;)Ls=Pn[--Un],Pn[Un]=null,Ii=Pn[--Un],Pn[Un]=null,Ni=Pn[--Un],Pn[Un]=null}function wg(t,s){Pn[Un++]=Ni,Pn[Un++]=Ii,Pn[Un++]=Ls,Ni=s.id,Ii=s.overflow,Ls=t}var qt=null,st=null,Be=!1,Ps=null,zn=!1,wf=Error(r(519));function Us(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Ln(s,t)),wf}function Ag(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Tt]=t,s[jt]=l,a){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(a=0;a<El.length;a++)Ve(El[a],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Ac(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Is(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||q_(s.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),l.onScroll!=null&&Ve("scroll",s),l.onScrollEnd!=null&&Ve("scrollend",s),l.onClick!=null&&(s.onclick=Jn),s=!0):s=!1,s||Us(t,!0)}function xg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:qt=qt.return}}function Va(t){if(t!==qt)return!1;if(!Be)return xg(t),Be=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&st&&Us(t),xg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=W_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=W_(t)}else s===27?(s=st,Zs(t.type)?(t=Qd,Qd=null,st=t):st=s):st=qt?qn(t.stateNode.nextSibling):null;return!0}function Hr(){st=qt=null,Be=!1}function Af(){var t=Ps;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ps=null),t}function Jo(t){Ps===null?Ps=[t]:Ps.push(t)}var xf=V(null),Fr=null,ts=null;function zs(t,s,a){ue(xf,s._currentValue),s._currentValue=a}function ns(t){t._currentValue=xf.current,Z(xf)}function Rf(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Cf(t,s,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var O=0;O<s.length;O++)if(S.context===s[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ja(t,s,a,l){t=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var S=f.type;En(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===ke.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}f=f.return}t!==null&&Cf(s,t,a,l),s.flags|=262144}function Qc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Fr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Rg(Fr,t)}function Yc(t,s){return Fr===null&&Gr(t),Rg(t,s)}function Rg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ts=ts.next=s;return a}var jT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},LT=n.unstable_scheduleCallback,PT=n.unstable_NormalPriority,At={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new jT,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&LT(PT,function(){t.controller.abort()})}var el=null,If=0,La=0,Pa=null;function UT(t,s){if(el===null){var a=el=[];If=0,La=kd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,s.then(Cg,Cg),s}function Cg(){if(--If===0&&el!==null){Pa!==null&&(Pa.status="fulfilled");var t=el;el=null,La=0,Pa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function zT(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ng=G.S;G.S=function(t,s){f_=nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&UT(t,s),Ng!==null&&Ng(t,s)};var Kr=V(null);function Df(){var t=Kr.current;return t!==null?t:nt.pooledCache}function $c(t,s){s===null?ue(Kr,Kr.current):ue(Kr,s.pool)}function Ig(){var t=Df();return t===null?null:{parent:At._currentValue,pool:t}}var Ua=Error(r(460)),Of=Error(r(474)),Xc=Error(r(542)),Wc={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Og(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Jn,Jn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Mg(t),t;default:if(typeof s.status=="string")s.then(Jn,Jn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Mg(t),t}throw Yr=s,Ua}}function Qr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,Ua):a}}var Yr=null;function kg(){if(Yr===null)throw Error(r(459));var t=Yr;return Yr=null,t}function Mg(t){if(t===Ua||t===Xc)throw Error(r(483))}var za=null,tl=0;function Jc(t){var s=tl;return tl+=1,za===null&&(za=[]),Og(za,t,s)}function nl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Zc(t,s){throw s.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Vg(t){function s(U,j){if(t){var K=U.deletions;K===null?(U.deletions=[j],U.flags|=16):K.push(j)}}function a(U,j){if(!t)return null;for(;j!==null;)s(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function f(U,j){return U=Zi(U,j),U.index=0,U.sibling=null,U}function d(U,j,K){return U.index=K,t?(K=U.alternate,K!==null?(K=K.index,K<j?(U.flags|=67108866,j):K):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,j,K,ee){return j===null||j.tag!==6?(j=Ef(K,U.mode,ee),j.return=U,j):(j=f(j,K),j.return=U,j)}function O(U,j,K,ee){var ve=K.type;return ve===H?J(U,j,K.props.children,ee,K.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Qr(ve)===j.type)?(j=f(j,K.props),nl(j,K),j.return=U,j):(j=Gc(K.type,K.key,K.props,null,U.mode,ee),nl(j,K),j.return=U,j)}function Y(U,j,K,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=bf(K,U.mode,ee),j.return=U,j):(j=f(j,K.children||[]),j.return=U,j)}function J(U,j,K,ee,ve){return j===null||j.tag!==7?(j=qr(K,U.mode,ee,ve),j.return=U,j):(j=f(j,K),j.return=U,j)}function te(U,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ef(""+j,U.mode,K),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return K=Gc(j.type,j.key,j.props,null,U.mode,K),nl(K,j),K.return=U,K;case B:return j=bf(j,U.mode,K),j.return=U,j;case x:return j=Qr(j),te(U,j,K)}if(we(j)||M(j))return j=qr(j,U.mode,K,null),j.return=U,j;if(typeof j.then=="function")return te(U,Jc(j),K);if(j.$$typeof===P)return te(U,Yc(U,j),K);Zc(U,j)}return null}function $(U,j,K,ee){var ve=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ve!==null?null:S(U,j,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case k:return K.key===ve?O(U,j,K,ee):null;case B:return K.key===ve?Y(U,j,K,ee):null;case x:return K=Qr(K),$(U,j,K,ee)}if(we(K)||M(K))return ve!==null?null:J(U,j,K,ee,null);if(typeof K.then=="function")return $(U,j,Jc(K),ee);if(K.$$typeof===P)return $(U,j,Yc(U,K),ee);Zc(U,K)}return null}function W(U,j,K,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(K)||null,S(j,U,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return U=U.get(ee.key===null?K:ee.key)||null,O(j,U,ee,ve);case B:return U=U.get(ee.key===null?K:ee.key)||null,Y(j,U,ee,ve);case x:return ee=Qr(ee),W(U,j,K,ee,ve)}if(we(ee)||M(ee))return U=U.get(K)||null,J(j,U,ee,ve,null);if(typeof ee.then=="function")return W(U,j,K,Jc(ee),ve);if(ee.$$typeof===P)return W(U,j,K,Yc(j,ee),ve);Zc(j,ee)}return null}function ge(U,j,K,ee){for(var ve=null,He=null,_e=j,Oe=j=0,Le=null;_e!==null&&Oe<K.length;Oe++){_e.index>Oe?(Le=_e,_e=null):Le=_e.sibling;var Fe=$(U,_e,K[Oe],ee);if(Fe===null){_e===null&&(_e=Le);break}t&&_e&&Fe.alternate===null&&s(U,_e),j=d(Fe,j,Oe),He===null?ve=Fe:He.sibling=Fe,He=Fe,_e=Le}if(Oe===K.length)return a(U,_e),Be&&es(U,Oe),ve;if(_e===null){for(;Oe<K.length;Oe++)_e=te(U,K[Oe],ee),_e!==null&&(j=d(_e,j,Oe),He===null?ve=_e:He.sibling=_e,He=_e);return Be&&es(U,Oe),ve}for(_e=l(_e);Oe<K.length;Oe++)Le=W(_e,U,Oe,K[Oe],ee),Le!==null&&(t&&Le.alternate!==null&&_e.delete(Le.key===null?Oe:Le.key),j=d(Le,j,Oe),He===null?ve=Le:He.sibling=Le,He=Le);return t&&_e.forEach(function(sr){return s(U,sr)}),Be&&es(U,Oe),ve}function be(U,j,K,ee){if(K==null)throw Error(r(151));for(var ve=null,He=null,_e=j,Oe=j=0,Le=null,Fe=K.next();_e!==null&&!Fe.done;Oe++,Fe=K.next()){_e.index>Oe?(Le=_e,_e=null):Le=_e.sibling;var sr=$(U,_e,Fe.value,ee);if(sr===null){_e===null&&(_e=Le);break}t&&_e&&sr.alternate===null&&s(U,_e),j=d(sr,j,Oe),He===null?ve=sr:He.sibling=sr,He=sr,_e=Le}if(Fe.done)return a(U,_e),Be&&es(U,Oe),ve;if(_e===null){for(;!Fe.done;Oe++,Fe=K.next())Fe=te(U,Fe.value,ee),Fe!==null&&(j=d(Fe,j,Oe),He===null?ve=Fe:He.sibling=Fe,He=Fe);return Be&&es(U,Oe),ve}for(_e=l(_e);!Fe.done;Oe++,Fe=K.next())Fe=W(_e,U,Oe,Fe.value,ee),Fe!==null&&(t&&Fe.alternate!==null&&_e.delete(Fe.key===null?Oe:Fe.key),j=d(Fe,j,Oe),He===null?ve=Fe:He.sibling=Fe,He=Fe);return t&&_e.forEach(function(WS){return s(U,WS)}),Be&&es(U,Oe),ve}function tt(U,j,K,ee){if(typeof K=="object"&&K!==null&&K.type===H&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case k:e:{for(var ve=K.key;j!==null;){if(j.key===ve){if(ve=K.type,ve===H){if(j.tag===7){a(U,j.sibling),ee=f(j,K.props.children),ee.return=U,U=ee;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Qr(ve)===j.type){a(U,j.sibling),ee=f(j,K.props),nl(ee,K),ee.return=U,U=ee;break e}a(U,j);break}else s(U,j);j=j.sibling}K.type===H?(ee=qr(K.props.children,U.mode,ee,K.key),ee.return=U,U=ee):(ee=Gc(K.type,K.key,K.props,null,U.mode,ee),nl(ee,K),ee.return=U,U=ee)}return v(U);case B:e:{for(ve=K.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){a(U,j.sibling),ee=f(j,K.children||[]),ee.return=U,U=ee;break e}else{a(U,j);break}else s(U,j);j=j.sibling}ee=bf(K,U.mode,ee),ee.return=U,U=ee}return v(U);case x:return K=Qr(K),tt(U,j,K,ee)}if(we(K))return ge(U,j,K,ee);if(M(K)){if(ve=M(K),typeof ve!="function")throw Error(r(150));return K=ve.call(K),be(U,j,K,ee)}if(typeof K.then=="function")return tt(U,j,Jc(K),ee);if(K.$$typeof===P)return tt(U,j,Yc(U,K),ee);Zc(U,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(a(U,j.sibling),ee=f(j,K),ee.return=U,U=ee):(a(U,j),ee=Ef(K,U.mode,ee),ee.return=U,U=ee),v(U)):a(U,j)}return function(U,j,K,ee){try{tl=0;var ve=tt(U,j,K,ee);return za=null,ve}catch(_e){if(_e===Ua||_e===Xc)throw _e;var He=bn(29,_e,null,U.mode);return He.lanes=ee,He.return=U,He}finally{}}}var $r=Vg(!0),jg=Vg(!1),Bs=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=Fc(t),vg(t,null,a),s}return Hc(t,l,s,a),Fc(t)}function il(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Io(t,a)}}function Vf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var jf=!1;function sl(){if(jf){var t=Pa;if(t!==null)throw t}}function rl(t,s,a,l){jf=!1;var f=t.updateQueue;Bs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,Y=O.next;O.next=null,v===null?d=Y:v.next=Y,v=O;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==v&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=O))}if(d!==null){var te=f.baseState;v=0,J=Y=O=null,S=d;do{var $=S.lane&-536870913,W=$!==S.lane;if(W?(je&$)===$:(l&$)===$){$!==0&&$===La&&(jf=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=t,be=S;$=s;var tt=a;switch(be.tag){case 1:if(ge=be.payload,typeof ge=="function"){te=ge.call(tt,te,$);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=be.payload,$=typeof ge=="function"?ge.call(tt,te,$):ge,$==null)break e;te=T({},te,$);break e;case 2:Bs=!0}}$=S.callback,$!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[$]:W.push($))}else W={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=W,O=te):J=J.next=W,v|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);J===null&&(O=te),f.baseState=O,f.firstBaseUpdate=Y,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Ys|=v,t.lanes=v,t.memoizedState=te}}function Lg(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Pg(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lg(a[t],s)}var Ba=V(null),eu=V(0);function Ug(t,s){t=hs,ue(eu,t),ue(Ba,s),hs=t|s.baseLanes}function Lf(){ue(eu,hs),ue(Ba,Ba.current)}function Pf(){hs=eu.current,Z(Ba),Z(eu)}var Tn=V(null),Bn=null;function Fs(t){var s=t.alternate;ue(gt,gt.current&1),ue(Tn,t),Bn===null&&(s===null||Ba.current!==null||s.memoizedState!==null)&&(Bn=t)}function Uf(t){ue(gt,gt.current),ue(Tn,t),Bn===null&&(Bn=t)}function zg(t){t.tag===22?(ue(gt,gt.current),ue(Tn,t),Bn===null&&(Bn=t)):Gs()}function Gs(){ue(gt,gt.current),ue(Tn,Tn.current)}function Sn(t){Z(Tn),Bn===t&&(Bn=null),Z(gt)}var gt=V(0);function tu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gd(a)||Kd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,De=null,Ze=null,xt=null,nu=!1,qa=!1,Xr=!1,iu=0,al=0,Ha=null,BT=0;function ft(){throw Error(r(321))}function zf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!En(t[a],s[a]))return!1;return!0}function Bf(t,s,a,l,f,d){return is=d,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?Sy:nd,Xr=!1,d=a(l,f),Xr=!1,qa&&(d=qg(s,a,l,f)),Bg(t),d}function Bg(t){G.H=cl;var s=Ze!==null&&Ze.next!==null;if(is=0,xt=Ze=De=null,nu=!1,al=0,Ha=null,s)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Qc(t)&&(Rt=!0))}function qg(t,s,a,l){De=t;var f=0;do{if(qa&&(Ha=null),al=0,qa=!1,25<=f)throw Error(r(301));if(f+=1,xt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=wy,d=s(a,l)}while(qa);return d}function qT(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?ol(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(De.flags|=1024),s}function qf(){var t=iu!==0;return iu=0,t}function Hf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Ff(t){if(nu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}nu=!1}is=0,xt=Ze=De=null,qa=!1,al=iu=0,Ha=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?De.memoizedState=xt=t:xt=xt.next=t,xt}function yt(){if(Ze===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=xt===null?De.memoizedState:xt.next;if(s!==null)xt=s,Ze=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?De.memoizedState=xt=t:xt=xt.next=t}return xt}function su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var s=al;return al+=1,Ha===null&&(Ha=[]),t=Og(Ha,t,s),s=De,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Sy:nd),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===P)return Ht(t)}throw Error(r(438,String(t)))}function Gf(t){var s=null,a=De.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=su(),De.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=I;return s.index++,a}function ss(t,s){return typeof s=="function"?s(t):s}function au(t){var s=yt();return Kf(s,Ze,t)}function Kf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}s.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{s=f.next;var S=v=null,O=null,Y=s,J=!1;do{var te=Y.lane&-536870913;if(te!==Y.lane?(je&te)===te:(is&te)===te){var $=Y.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),te===La&&(J=!0);else if((is&$)===$){Y=Y.next,$===La&&(J=!0);continue}else te={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(S=O=te,v=d):O=O.next=te,De.lanes|=$,Ys|=$;te=Y.action,Xr&&a(d,te),d=Y.hasEagerState?Y.eagerState:a(d,te)}else $={lane:te,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(S=O=$,v=d):O=O.next=$,De.lanes|=te,Ys|=te;Y=Y.next}while(Y!==null&&Y!==s);if(O===null?v=d:O.next=S,!En(d,t.memoizedState)&&(Rt=!0,J&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var s=yt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);En(d,s.memoizedState)||(Rt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function Hg(t,s,a){var l=De,f=yt(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!En((Ze||f).memoizedState,a);if(v&&(f.memoizedState=a,Rt=!0),f=f.queue,Xf(Kg.bind(null,l,f,t),[t]),f.getSnapshot!==s||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Gg.bind(null,l,f,a,s),null),nt===null)throw Error(r(349));d||(is&127)!==0||Fg(l,s,a)}return a}function Fg(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=De.updateQueue,s===null?(s=su(),De.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Gg(t,s,a,l){s.value=a,s.getSnapshot=l,Qg(s)&&Yg(t)}function Kg(t,s,a){return a(function(){Qg(s)&&Yg(t)})}function Qg(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!En(t,a)}catch{return!0}}function Yg(t){var s=Br(t,2);s!==null&&pn(s,t,2)}function Yf(t){var s=rn();if(typeof t=="function"){var a=t;if(t=a(),Xr){Dn(!0);try{a()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},s}function $g(t,s,a,l){return t.baseState=a,Kf(t,Ze,typeof l=="function"?l:ss)}function HT(t,s,a,l,f){if(cu(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Xg(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Xg(t,s){var a=s.action,l=s.payload,f=t.state;if(s.isTransition){var d=G.T,v={};G.T=v;try{var S=a(f,l),O=G.S;O!==null&&O(v,S),Wg(t,s,S)}catch(Y){$f(t,s,Y)}finally{d!==null&&v.types!==null&&(d.types=v.types),G.T=d}}else try{d=a(f,l),Wg(t,s,d)}catch(Y){$f(t,s,Y)}}function Wg(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,s,l)},function(l){return $f(t,s,l)}):Jg(t,s,a)}function Jg(t,s,a){s.status="fulfilled",s.value=a,Zg(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Xg(t,a)))}function $f(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Zg(s),s=s.next;while(s!==l)}t.action=null}function Zg(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function ey(t,s){return s}function ty(t,s){if(Be){var a=nt.formState;if(a!==null){e:{var l=De;if(Be){if(st){t:{for(var f=st,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=qn(f.nextSibling),l=f.data==="F!";break e}}Us(l)}l=!1}l&&(s=a[0])}}return a=rn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:s},a.queue=l,a=Ey.bind(null,De,l),l.dispatch=a,l=Yf(!1),d=td.bind(null,De,!1,l.queue),l=rn(),f={state:s,dispatch:null,action:t,pending:null},l.queue=f,a=HT.bind(null,De,f,d,a),f.dispatch=a,l.memoizedState=t,[s,a,!1]}function ny(t){var s=yt();return iy(s,Ze,t)}function iy(t,s,a){if(s=Kf(t,s,ey)[0],t=au(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ol(s)}catch(v){throw v===Ua?Xc:v}else l=s;s=yt();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(De.flags|=2048,Fa(9,{destroy:void 0},FT.bind(null,f,a),null)),[l,d,t]}function FT(t,s){t.action=s}function sy(t){var s=yt(),a=Ze;if(a!==null)return iy(s,a,t);yt(),s=s.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Fa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=De.updateQueue,s===null&&(s=su(),De.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function ry(){return yt().memoizedState}function ou(t,s,a,l){var f=rn();De.flags|=t,f.memoizedState=Fa(1|s,{destroy:void 0},a,l===void 0?null:l)}function lu(t,s,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&zf(l,Ze.memoizedState.deps)?f.memoizedState=Fa(s,d,a,l):(De.flags|=t,f.memoizedState=Fa(1|s,d,a,l))}function ay(t,s){ou(8390656,8,t,s)}function Xf(t,s){lu(2048,8,t,s)}function GT(t){De.flags|=4;var s=De.updateQueue;if(s===null)s=su(),De.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function oy(t){var s=yt().memoizedState;return GT({ref:s,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ly(t,s){return lu(4,2,t,s)}function cy(t,s){return lu(4,4,t,s)}function uy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function hy(t,s,a){a=a!=null?a.concat([t]):null,lu(4,4,uy.bind(null,s,t),a)}function Wf(){}function fy(t,s){var a=yt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&zf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function dy(t,s){var a=yt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&zf(s,l[1]))return l[0];if(l=t(),Xr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,s],l}function Jf(t,s,a){return a===void 0||(is&1073741824)!==0&&(je&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=m_(),De.lanes|=t,Ys|=t,a)}function my(t,s,a,l){return En(a,s)?a:Ba.current!==null?(t=Jf(t,a,l),En(t,s)||(Rt=!0),t):(is&42)===0||(is&1073741824)!==0&&(je&261930)===0?(Rt=!0,t.memoizedState=a):(t=m_(),De.lanes|=t,Ys|=t,s)}function py(t,s,a,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=G.T,S={};G.T=S,td(t,!1,s,a);try{var O=f(),Y=G.S;if(Y!==null&&Y(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=zT(O,l);ll(t,s,J,xn(t))}else ll(t,s,l,xn(t))}catch(te){ll(t,s,{then:function(){},status:"rejected",reason:te},xn())}finally{ie.p=d,v!==null&&S.types!==null&&(v.types=S.types),G.T=v}}function KT(){}function Zf(t,s,a,l){if(t.tag!==5)throw Error(r(476));var f=gy(t).queue;py(t,f,s,oe,a===null?KT:function(){return yy(t),a(l)})}function gy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:oe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function yy(t){var s=gy(t);s.next===null&&(s=t.alternate.memoizedState),ll(t,s.next.queue,{},xn())}function ed(){return Ht(Al)}function _y(){return yt().memoizedState}function vy(){return yt().memoizedState}function QT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=xn();t=qs(a);var l=Hs(s,t,a);l!==null&&(pn(l,s,a),il(l,s,a)),s={cache:Nf()},t.payload=s;return}s=s.return}}function YT(t,s,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},cu(t)?by(s,a):(a=_f(t,s,a,l),a!==null&&(pn(a,t,l),Ty(a,s,l)))}function Ey(t,s,a){var l=xn();ll(t,s,a,l)}function ll(t,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(cu(t))by(s,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var v=s.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,En(S,v))return Hc(t,s,f,0),nt===null&&qc(),!1}catch{}finally{}if(a=_f(t,s,f,l),a!==null)return pn(a,t,l),Ty(a,s,l),!0}return!1}function td(t,s,a,l){if(l={lane:2,revertLane:kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(s)throw Error(r(479))}else s=_f(t,a,l,2),s!==null&&pn(s,t,2)}function cu(t){var s=t.alternate;return t===De||s!==null&&s===De}function by(t,s){qa=nu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Ty(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Io(t,a)}}var cl={readContext:Ht,use:ru,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};cl.useEffectEvent=ft;var Sy={readContext:Ht,use:ru,useCallback:function(t,s){return rn().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:ay,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ou(4194308,4,uy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ou(4194308,4,t,s)},useInsertionEffect:function(t,s){ou(4,2,t,s)},useMemo:function(t,s){var a=rn();s=s===void 0?null:s;var l=t();if(Xr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=rn();if(a!==void 0){var f=a(s);if(Xr){Dn(!0);try{a(s)}finally{Dn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=YT.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var s=rn();return t={current:t},s.memoizedState=t},useState:function(t){t=Yf(t);var s=t.queue,a=Ey.bind(null,De,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Wf,useDeferredValue:function(t,s){var a=rn();return Jf(a,t,s)},useTransition:function(){var t=Yf(!1);return t=py.bind(null,De,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=De,f=rn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),nt===null)throw Error(r(349));(je&127)!==0||Fg(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,ay(Kg.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Gg.bind(null,l,d,a,s),null),a},useId:function(){var t=rn(),s=nt.identifierPrefix;if(Be){var a=Ii,l=Ni;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=iu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=BT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:ed,useFormState:ty,useActionState:ty,useOptimistic:function(t){var s=rn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=td.bind(null,De,!0,a),a.dispatch=s,[t,s]},useMemoCache:Gf,useCacheRefresh:function(){return rn().memoizedState=QT.bind(null,De)},useEffectEvent:function(t){var s=rn(),a={impl:t};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},nd={readContext:Ht,use:ru,useCallback:fy,useContext:Ht,useEffect:Xf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:cy,useMemo:dy,useReducer:au,useRef:ry,useState:function(){return au(ss)},useDebugValue:Wf,useDeferredValue:function(t,s){var a=yt();return my(a,Ze.memoizedState,t,s)},useTransition:function(){var t=au(ss)[0],s=yt().memoizedState;return[typeof t=="boolean"?t:ol(t),s]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:ed,useFormState:ny,useActionState:ny,useOptimistic:function(t,s){var a=yt();return $g(a,Ze,t,s)},useMemoCache:Gf,useCacheRefresh:vy};nd.useEffectEvent=oy;var wy={readContext:Ht,use:ru,useCallback:fy,useContext:Ht,useEffect:Xf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:cy,useMemo:dy,useReducer:Qf,useRef:ry,useState:function(){return Qf(ss)},useDebugValue:Wf,useDeferredValue:function(t,s){var a=yt();return Ze===null?Jf(a,t,s):my(a,Ze.memoizedState,t,s)},useTransition:function(){var t=Qf(ss)[0],s=yt().memoizedState;return[typeof t=="boolean"?t:ol(t),s]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:ed,useFormState:sy,useActionState:sy,useOptimistic:function(t,s){var a=yt();return Ze!==null?$g(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:vy};wy.useEffectEvent=oy;function id(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=xn(),f=qs(l);f.payload=s,a!=null&&(f.callback=a),s=Hs(t,f,l),s!==null&&(pn(s,t,l),il(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=xn(),f=qs(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Hs(t,f,l),s!==null&&(pn(s,t,l),il(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=xn(),l=qs(a);l.tag=2,s!=null&&(l.callback=s),s=Hs(t,l,a),s!==null&&(pn(s,t,a),il(s,t,a))}};function Ay(t,s,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):s.prototype&&s.prototype.isPureReactComponent?!$o(a,l)||!$o(f,d):!0}function xy(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&sd.enqueueReplaceState(s,s.state,null)}function Wr(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Ry(t){Bc(t)}function Cy(t){console.error(t)}function Ny(t){Bc(t)}function uu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rd(t,s,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){uu(t,s)},a}function Dy(t){return t=qs(t),t.tag=3,t}function Oy(t,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Iy(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Iy(s,a,l),typeof f!="function"&&($s===null?$s=new Set([this]):$s.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $T(t,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ja(s,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Tu():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Wc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Id(t,l,f)),!1;case 22:return a.flags|=65536,l===Wc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Id(t,l,f)),!1}throw Error(r(435,a.tag))}return Id(t,l,f),Tu(),!1}if(Be)return s=Tn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==wf&&(t=Error(r(422),{cause:l}),Jo(Ln(t,a)))):(l!==wf&&(s=Error(r(423),{cause:l}),Jo(Ln(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=rd(t.stateNode,l,f),Vf(t,f),dt!==4&&(dt=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),yl===null?yl=[d]:yl.push(d),dt!==4&&(dt=2),s===null)return!0;l=Ln(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=rd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Dy(f),Oy(f,t,a,l),Vf(a,f),!1}a=a.return}while(a!==null);return!1}var ad=Error(r(461)),Rt=!1;function Ft(t,s,a,l){s.child=t===null?jg(s,null,a,l):$r(s,t.child,a,l)}function ky(t,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Gr(s),l=Bf(t,s,a,v,d,f),S=qf(),t!==null&&!Rt?(Hf(t,s,f),rs(t,s,f)):(Be&&S&&Tf(s),s.flags|=1,Ft(t,s,l,f),s.child)}function My(t,s,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Vy(t,s,d,l,f)):(t=Gc(a.type,null,l,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!md(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(v,l)&&t.ref===s.ref)return rs(t,s,f)}return s.flags|=1,t=Zi(d,l),t.ref=s.ref,t.return=s,s.child=t}function Vy(t,s,a,l,f){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===s.ref)if(Rt=!1,s.pendingProps=l=d,md(t,f))(t.flags&131072)!==0&&(Rt=!0);else return s.lanes=t.lanes,rs(t,s,f)}return od(t,s,a,l,f)}function jy(t,s,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return Ly(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&$c(s,d!==null?d.cachePool:null),d!==null?Ug(s,d):Lf(),zg(s);else return l=s.lanes=536870912,Ly(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?($c(s,d.cachePool),Ug(s,d),Gs(),s.memoizedState=null):(t!==null&&$c(s,null),Lf(),Gs());return Ft(t,s,f,a),s.child}function ul(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ly(t,s,a,l,f){var d=Df();return d=d===null?null:{parent:At._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&$c(s,null),Lf(),zg(s),t!==null&&ja(t,s,l,!0),s.childLanes=f,null}function hu(t,s){return s=du({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Py(t,s,a){return $r(s,t.child,null,a),t=hu(s,s.pendingProps),t.flags|=2,Sn(s),s.memoizedState=null,t}function XT(t,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=hu(s,l),s.lanes=536870912,ul(null,t);if(Uf(s),(t=st)?(t=X_(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=s,s.child=a,qt=s,st=null)):t=null,t===null)throw Us(s);return s.lanes=536870912,null}return hu(s,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Uf(s),f)if(s.flags&256)s.flags&=-257,s=Py(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rt||ja(t,s,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=nt,l!==null&&(v=Do(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Br(t,v),pn(l,t,v),ad;Tu(),s=Py(t,s,a)}else t=d.treeContext,st=qn(v.nextSibling),qt=s,Be=!0,Ps=null,zn=!1,t!==null&&wg(s,t),s=hu(s,l),s.flags|=4096;return s}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function fu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function od(t,s,a,l,f){return Gr(s),a=Bf(t,s,a,l,void 0,f),l=qf(),t!==null&&!Rt?(Hf(t,s,f),rs(t,s,f)):(Be&&l&&Tf(s),s.flags|=1,Ft(t,s,a,f),s.child)}function Uy(t,s,a,l,f,d){return Gr(s),s.updateQueue=null,a=qg(s,l,a,f),Bg(t),l=qf(),t!==null&&!Rt?(Hf(t,s,d),rs(t,s,d)):(Be&&l&&Tf(s),s.flags|=1,Ft(t,s,a,d),s.child)}function zy(t,s,a,l,f){if(Gr(s),s.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ht(v)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},kf(s),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ht(v):Oa,d.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(s,a,v,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&sd.enqueueReplaceState(d,d.state,null),rl(s,l,d,f),sl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var S=s.memoizedProps,O=Wr(a,S);d.props=O;var Y=d.context,J=a.contextType;v=Oa,typeof J=="object"&&J!==null&&(v=Ht(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||Y!==v)&&xy(s,d,l,v),Bs=!1;var $=s.memoizedState;d.state=$,rl(s,l,d,f),sl(),Y=s.memoizedState,S||$!==Y||Bs?(typeof te=="function"&&(id(s,a,te,l),Y=s.memoizedState),(O=Bs||Ay(s,a,O,l,$,Y,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Mf(t,s),v=s.memoizedProps,J=Wr(a,v),d.props=J,te=s.pendingProps,$=d.context,Y=a.contextType,O=Oa,typeof Y=="object"&&Y!==null&&(O=Ht(Y)),S=a.getDerivedStateFromProps,(Y=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||$!==O)&&xy(s,d,l,O),Bs=!1,$=s.memoizedState,d.state=$,rl(s,l,d,f),sl();var W=s.memoizedState;v!==te||$!==W||Bs||t!==null&&t.dependencies!==null&&Qc(t.dependencies)?(typeof S=="function"&&(id(s,a,S,l),W=s.memoizedState),(J=Bs||Ay(s,a,J,l,$,W,O)||t!==null&&t.dependencies!==null&&Qc(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,O)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=W),d.props=l,d.state=W,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,fu(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=$r(s,t.child,null,f),s.child=$r(s,null,a,f)):Ft(t,s,a,f),s.memoizedState=d.state,t=s.child):t=rs(t,s,f),t}function By(t,s,a,l){return Hr(),s.flags|=256,Ft(t,s,a,l),s.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:Ig()}}function ud(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=An),t}function qy(t,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Be){if(f?Fs(s):Gs(),(t=st)?(t=X_(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=s,s.child=a,qt=s,st=null)):t=null,t===null)throw Us(s);return Kd(t)?s.lanes=32:s.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Gs(),f=s.mode,S=du({mode:"hidden",children:S},f),l=qr(l,f,a,null),S.return=s,l.return=s,S.sibling=l,s.child=S,l=s.child,l.memoizedState=cd(a),l.childLanes=ud(t,v,a),s.memoizedState=ld,ul(null,l)):(Fs(s),hd(s,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)s.flags&256?(Fs(s),s.flags&=-257,s=fd(t,s,a)):s.memoizedState!==null?(Gs(),s.child=t.child,s.flags|=128,s=null):(Gs(),S=l.fallback,f=s.mode,l=du({mode:"visible",children:l.children},f),S=qr(S,f,a,null),S.flags|=2,l.return=s,S.return=s,l.sibling=S,s.child=l,$r(s,t.child,null,a),l=s.child,l.memoizedState=cd(a),l.childLanes=ud(t,v,a),s.memoizedState=ld,s=ul(null,l));else if(Fs(s),Kd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(r(419)),l.stack="",l.digest=v,Jo({value:l,source:null,stack:null}),s=fd(t,s,a)}else if(Rt||ja(t,s,a,!1),v=(a&t.childLanes)!==0,Rt||v){if(v=nt,v!==null&&(l=Do(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Br(t,l),pn(v,t,l),ad;Gd(S)||Tu(),s=fd(t,s,a)}else Gd(S)?(s.flags|=192,s.child=t.child,s=null):(t=O.treeContext,st=qn(S.nextSibling),qt=s,Be=!0,Ps=null,zn=!1,t!==null&&wg(s,t),s=hd(s,l.children),s.flags|=4096);return s}return f?(Gs(),S=l.fallback,f=s.mode,O=t.child,Y=O.sibling,l=Zi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Y!==null?S=Zi(Y,S):(S=qr(S,f,a,null),S.flags|=2),S.return=s,l.return=s,l.sibling=S,s.child=l,ul(null,l),l=s.child,S=t.child.memoizedState,S===null?S=cd(a):(f=S.cachePool,f!==null?(O=At._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Ig(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=ud(t,v,a),s.memoizedState=ld,ul(t.child,l)):(Fs(s),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function hd(t,s){return s=du({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function du(t,s){return t=bn(22,t,null,s),t.lanes=0,t}function fd(t,s,a){return $r(s,t.child,null,a),t=hd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Hy(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Rf(t.return,s,a)}function dd(t,s,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Fy(t,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=gt.current,S=(v&2)!==0;if(S?(v=v&1|2,s.flags|=128):v&=1,ue(gt,v),Ft(t,s,l,a),l=Be?Wo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,s);else if(t.tag===19)Hy(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&tu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),dd(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&tu(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}dd(s,!0,a,null,d,l);break;case"together":dd(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function rs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ys|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ja(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Zi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function md(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qc(t)))}function WT(t,s,a){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),zs(s,At,t.memoizedState.cache),Hr();break;case 27:case 5:on(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Uf(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Fs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?qy(t,s,a):(Fs(s),t=rs(t,s,a),t!==null?t.sibling:null);Fs(s);break;case 19:var f=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ja(t,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return Fy(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(gt,gt.current),l)break;return null;case 22:return s.lanes=0,jy(t,s,a,s.pendingProps);case 24:zs(s,At,t.memoizedState.cache)}return rs(t,s,a)}function Gy(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Rt=!0;else{if(!md(t,a)&&(s.flags&128)===0)return Rt=!1,WT(t,s,a);Rt=(t.flags&131072)!==0}else Rt=!1,Be&&(s.flags&1048576)!==0&&Sg(s,Wo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Qr(s.elementType),s.type=t,typeof t=="function")vf(t)?(l=Wr(t,l),s.tag=1,s=zy(null,s,t,l,a)):(s.tag=0,s=od(null,s,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){s.tag=11,s=ky(null,s,t,l,a);break e}else if(f===C){s.tag=14,s=My(null,s,t,l,a);break e}}throw s=ye(t)||t,Error(r(306,s,""))}}return s;case 0:return od(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=Wr(l,s.pendingProps),zy(t,s,l,f,a);case 3:e:{if(ot(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,Mf(t,s),rl(s,l,null,a);var v=s.memoizedState;if(l=v.cache,zs(s,At,l),l!==d.cache&&Cf(s,[At],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=By(t,s,l,a);break e}else if(l!==f){f=Ln(Error(r(424)),s),Jo(f),s=By(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=qn(t.firstChild),qt=s,Be=!0,Ps=null,zn=!0,a=jg(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),l===f){s=rs(t,s,a);break e}Ft(t,s,l,a)}s=s.child}return s;case 26:return fu(t,s),t===null?(a=nv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Be||(a=s.type,t=s.pendingProps,l=Nu(xe.current).createElement(a),l[Tt]=s,l[jt]=t,Gt(l,a,t),St(l),s.stateNode=l):s.memoizedState=nv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return on(s),t===null&&Be&&(l=s.stateNode=Z_(s.type,s.pendingProps,xe.current),qt=s,zn=!0,f=st,Zs(s.type)?(Qd=f,st=qn(l.firstChild)):st=f),Ft(t,s,s.pendingProps.children,a),fu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Be&&((f=l=st)&&(l=RS(l,s.type,s.pendingProps,zn),l!==null?(s.stateNode=l,qt=s,st=qn(l.firstChild),zn=!1,f=!0):f=!1),f||Us(s)),on(s),f=s.type,d=s.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,qd(f,d)?l=null:v!==null&&qd(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=Bf(t,s,qT,null,null,a),Al._currentValue=f),fu(t,s),Ft(t,s,l,a),s.child;case 6:return t===null&&Be&&((t=a=st)&&(a=CS(a,s.pendingProps,zn),a!==null?(s.stateNode=a,qt=s,st=null,t=!0):t=!1),t||Us(s)),null;case 13:return qy(t,s,a);case 4:return ot(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=$r(s,null,l,a):Ft(t,s,l,a),s.child;case 11:return ky(t,s,s.type,s.pendingProps,a);case 7:return Ft(t,s,s.pendingProps,a),s.child;case 8:return Ft(t,s,s.pendingProps.children,a),s.child;case 12:return Ft(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,zs(s,s.type,l.value),Ft(t,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,Gr(s),f=Ht(f),l=l(f),s.flags|=1,Ft(t,s,l,a),s.child;case 14:return My(t,s,s.type,s.pendingProps,a);case 15:return Vy(t,s,s.type,s.pendingProps,a);case 19:return Fy(t,s,a);case 31:return XT(t,s,a);case 22:return jy(t,s,a,s.pendingProps);case 24:return Gr(s),l=Ht(At),t===null?(f=Df(),f===null&&(f=nt,d=Nf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},kf(s),zs(s,At,f)):((t.lanes&a)!==0&&(Mf(t,s),rl(s,null,null,a),sl()),f=t.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),zs(s,At,l)):(l=d.cache,zs(s,At,l),l!==f.cache&&Cf(s,[At],a,!0))),Ft(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function as(t){t.flags|=4}function pd(t,s,a,l,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(__())t.flags|=8192;else throw Yr=Wc,Of}else t.flags&=-16777217}function Ky(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ov(s))if(__())t.flags|=8192;else throw Yr=Wc,Of}function mu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Ec():536870912,t.lanes|=s,Ya|=s)}function hl(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function JT(t,s,a){var l=s.pendingProps;switch(Sf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ns(At),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(s)?as(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Af())),rt(s),null;case 26:var f=s.type,d=s.memoizedState;return t===null?(as(s),d!==null?(rt(s),Ky(s,d)):(rt(s),pd(s,f,null,l,a))):d?d!==t.memoizedState?(as(s),rt(s),Ky(s,d)):(rt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&as(s),rt(s),pd(s,f,t,l,a)),null;case 27:if(ui(s),a=xe.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return rt(s),null}t=fe.current,Va(s)?Ag(s):(t=Z_(f,l,a),s.stateNode=t,as(s))}return rt(s),null;case 5:if(ui(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(d=fe.current,Va(s))Ag(s);else{var v=Nu(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Tt]=s,d[jt]=l;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&as(s)}}return rt(s),pd(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&as(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=xe.current,Va(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||Us(s,!0)}else t=Nu(t).createTextNode(l),t[Tt]=s,s.stateNode=t}return rt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Va(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),t=!1}else a=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Sn(s),s):(Sn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(s),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Tt]=s}else Hr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),f=!1}else f=Af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Sn(s),s):(Sn(s),null)}return Sn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),mu(s,s.updateQueue),rt(s),null);case 4:return Ye(),t===null&&Ld(s.stateNode.containerInfo),rt(s),null;case 10:return ns(s.type),rt(s),null;case 19:if(Z(gt),l=s.memoizedState,l===null)return rt(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)hl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=tu(t),d!==null){for(s.flags|=128,hl(l,!1),t=d.updateQueue,s.updateQueue=t,mu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Eg(a,t),a=a.sibling;return ue(gt,gt.current&1|2),Be&&es(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&nn()>vu&&(s.flags|=128,f=!0,hl(l,!1),s.lanes=4194304)}else{if(!f)if(t=tu(d),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,mu(s,t),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return rt(s),null}else 2*nn()-l.renderingStartTime>vu&&a!==536870912&&(s.flags|=128,f=!0,hl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ue(gt,f?a&1|2:a&1),Be&&es(s,l.treeForkCount),t):(rt(s),null);case 22:case 23:return Sn(s),Pf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&mu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&Z(Kr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ns(At),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function ZT(t,s){switch(Sf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ns(At),Ye(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ui(s),null;case 31:if(s.memoizedState!==null){if(Sn(s),s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Sn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Hr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(gt),null;case 4:return Ye(),null;case 10:return ns(s.type),null;case 22:case 23:return Sn(s),Pf(),t!==null&&Z(Kr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ns(At),null;case 25:return null;default:return null}}function Qy(t,s){switch(Sf(s),s.tag){case 3:ns(At),Ye();break;case 26:case 27:case 5:ui(s);break;case 4:Ye();break;case 31:s.memoizedState!==null&&Sn(s);break;case 13:Sn(s);break;case 19:Z(gt);break;case 10:ns(s.type);break;case 22:case 23:Sn(s),Pf(),t!==null&&Z(Kr);break;case 24:ns(At)}}function fl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){We(s,s.return,S)}}function Ks(t,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=s;var O=a,Y=S;try{Y()}catch(J){We(f,O,J)}}}l=l.next}while(l!==d)}}catch(J){We(s,s.return,J)}}function Yy(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Pg(s,a)}catch(l){We(t,t.return,l)}}}function $y(t,s,a){a.props=Wr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,s,l)}}function dl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,s,f)}}function Di(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,s,f)}else a.current=null}function Xy(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function gd(t,s,a){try{var l=t.stateNode;bS(l,t.type,a,s),l[jt]=s}catch(f){We(t,t.return,f)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jn));else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(_d(t,s,a),t=t.sibling;t!==null;)_d(t,s,a),t=t.sibling}function pu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pu(t,s,a),t=t.sibling;t!==null;)pu(t,s,a),t=t.sibling}function Jy(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Gt(s,l,a),s[Tt]=t,s[jt]=a}catch(d){We(t,t.return,d)}}var os=!1,Ct=!1,vd=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function eS(t,s){if(t=t.containerInfo,zd=ju,t=hg(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,O=-1,Y=0,J=0,te=t,$=null;t:for(;;){for(var W;te!==a||f!==0&&te.nodeType!==3||(S=v+f),te!==d||l!==0&&te.nodeType!==3||(O=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(W=te.firstChild)!==null;)$=te,te=W;for(;;){if(te===t)break t;if($===a&&++Y===f&&(S=v),$===d&&++J===l&&(O=v),(W=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=W}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:t,selectionRange:a},ju=!1,Pt=s;Pt!==null;)if(s=Pt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Pt=t;else for(;Pt!==null;){switch(s=Pt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ge=Wr(a.type,f);t=l.getSnapshotBeforeUpdate(ge,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){We(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Pt=t;break}Pt=s.return}}function e_(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cs(t,a),l&4&&fl(5,a);break;case 1:if(cs(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var f=Wr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Yy(a),l&512&&dl(a,a.return);break;case 3:if(cs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Pg(t,s)}catch(v){We(a,a.return,v)}}break;case 27:s===null&&l&4&&Jy(a);case 26:case 5:cs(t,a),s===null&&l&4&&Xy(a),l&512&&dl(a,a.return);break;case 12:cs(t,a);break;case 31:cs(t,a),l&4&&i_(t,a);break;case 13:cs(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cS.bind(null,a),NS(t,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){s=s!==null&&s.memoizedState!==null||Ct,f=os;var d=Ct;os=l,(Ct=s)&&!d?us(t,a,(a.subtreeFlags&8772)!==0):cs(t,a),os=f,Ct=d}break;case 30:break;default:cs(t,a)}}function t_(t){var s=t.alternate;s!==null&&(t.alternate=null,t_(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&_a(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function ls(t,s,a){for(a=a.child;a!==null;)n_(t,s,a),a=a.sibling}function n_(t,s,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Ct||Di(a,s),ls(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Di(a,s);var l=ct,f=hn;Zs(a.type)&&(ct=a.stateNode,hn=!1),ls(t,s,a),Tl(a.stateNode),ct=l,hn=f;break;case 5:Ct||Di(a,s);case 6:if(l=ct,f=hn,ct=null,ls(t,s,a),ct=l,hn=f,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,s,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,s,d)}break;case 18:ct!==null&&(hn?(t=ct,Y_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):Y_(ct,a.stateNode));break;case 4:l=ct,f=hn,ct=a.stateNode.containerInfo,hn=!0,ls(t,s,a),ct=l,hn=f;break;case 0:case 11:case 14:case 15:Ks(2,a,s),Ct||Ks(4,a,s),ls(t,s,a);break;case 1:Ct||(Di(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,s,l)),ls(t,s,a);break;case 21:ls(t,s,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,ls(t,s,a),Ct=l;break;default:ls(t,s,a)}}function i_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){We(s,s.return,a)}}}function s_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){We(s,s.return,a)}}function tS(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Zy),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Zy),s;default:throw Error(r(435,t.tag))}}function gu(t,s){var a=tS(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=uS.bind(null,t,l);l.then(f,f)}})}function fn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Zs(S.type)){ct=S.stateNode,hn=!1;break e}break;case 5:ct=S.stateNode,hn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,hn=!0;break e}S=S.return}if(ct===null)throw Error(r(160));n_(d,v,f),ct=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)r_(s,t),s=s.sibling}var si=null;function r_(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(s,t),dn(t),l&4&&(Ks(3,t,t.return),fl(3,t),Ks(5,t,t.return));break;case 1:fn(s,t),dn(t),l&512&&(Ct||a===null||Di(a,a.return)),l&64&&os&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(fn(s,t),dn(t),l&512&&(Ct||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,St(d),l=d;break e;case"link":var v=rv("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=rv("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else av(f,t.type,t.stateNode);else t.stateNode=sv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?av(f,t.type,t.stateNode):sv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(s,t),dn(t),l&512&&(Ct||a===null||Di(a,a.return)),a!==null&&l&4&&gd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(s,t),dn(t),l&512&&(Ct||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{un(f,"")}catch(ge){We(t,t.return,ge)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,gd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(vd=!0);break;case 6:if(fn(s,t),dn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ge){We(t,t.return,ge)}}break;case 3:if(Ou=null,f=si,si=Iu(s.containerInfo),fn(s,t),si=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(s.containerInfo)}catch(ge){We(t,t.return,ge)}vd&&(vd=!1,a_(t));break;case 4:l=si,si=Iu(t.stateNode.containerInfo),fn(s,t),dn(t),si=l;break;case 12:fn(s,t),dn(t);break;case 31:fn(s,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gu(t,l)));break;case 13:fn(s,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_u=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gu(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,Y=os,J=Ct;if(os=Y||f,Ct=J||O,fn(s,t),Ct=J,os=Y,dn(t),l&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||os||Ct||Jr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(d=O.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var te=O.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ge){We(O,O.return,ge)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(ge){We(O,O.return,ge)}}}else if(s.tag===18){if(a===null){O=s;try{var W=O.stateNode;f?$_(W,!0):$_(O.stateNode,!1)}catch(ge){We(O,O.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gu(t,a))));break;case 19:fn(s,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gu(t,l)));break;case 30:break;case 21:break;default:fn(s,t),dn(t)}}function dn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=yd(t);pu(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(un(v,""),a.flags&=-33);var S=yd(t);pu(t,S,v);break;case 3:case 4:var O=a.stateNode.containerInfo,Y=yd(t);_d(t,Y,O);break;default:throw Error(r(161))}}catch(J){We(t,t.return,J)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function a_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;a_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function cs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e_(t,s.alternate,s),s=s.sibling}function Jr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ks(4,s,s.return),Jr(s);break;case 1:Di(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&$y(s,s.return,a),Jr(s);break;case 27:Tl(s.stateNode);case 26:case 5:Di(s,s.return),Jr(s);break;case 22:s.memoizedState===null&&Jr(s);break;case 30:Jr(s);break;default:Jr(s)}t=t.sibling}}function us(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=t,d=s,v=d.flags;switch(d.tag){case 0:case 11:case 15:us(f,d,a),fl(4,d);break;case 1:if(us(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){We(l,l.return,Y)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Lg(O[f],S)}catch(Y){We(l,l.return,Y)}}a&&v&64&&Yy(d),dl(d,d.return);break;case 27:Jy(d);case 26:case 5:us(f,d,a),a&&l===null&&v&4&&Xy(d),dl(d,d.return);break;case 12:us(f,d,a);break;case 31:us(f,d,a),a&&v&4&&i_(f,d);break;case 13:us(f,d,a),a&&v&4&&s_(f,d);break;case 22:d.memoizedState===null&&us(f,d,a),dl(d,d.return);break;case 30:break;default:us(f,d,a)}s=s.sibling}}function Ed(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function bd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zo(t))}function ri(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o_(t,s,a,l),s=s.sibling}function o_(t,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ri(t,s,a,l),f&2048&&fl(9,s);break;case 1:ri(t,s,a,l);break;case 3:ri(t,s,a,l),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Zo(t)));break;case 12:if(f&2048){ri(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){We(s,s.return,O)}}else ri(t,s,a,l);break;case 31:ri(t,s,a,l);break;case 13:ri(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,v=s.alternate,s.memoizedState!==null?d._visibility&2?ri(t,s,a,l):ml(t,s):d._visibility&2?ri(t,s,a,l):(d._visibility|=2,Ga(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Ed(v,s);break;case 24:ri(t,s,a,l),f&2048&&bd(s.alternate,s);break;default:ri(t,s,a,l)}}function Ga(t,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,v=s,S=a,O=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:Ga(d,v,S,O,f),fl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?Ga(d,v,S,O,f):ml(d,v):(J._visibility|=2,Ga(d,v,S,O,f)),f&&Y&2048&&Ed(v.alternate,v);break;case 24:Ga(d,v,S,O,f),f&&Y&2048&&bd(v.alternate,v);break;default:Ga(d,v,S,O,f)}s=s.sibling}}function ml(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,f=l.flags;switch(l.tag){case 22:ml(a,l),f&2048&&Ed(l.alternate,l);break;case 24:ml(a,l),f&2048&&bd(l.alternate,l);break;default:ml(a,l)}s=s.sibling}}var pl=8192;function Ka(t,s,a){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)l_(t,s,a),t=t.sibling}function l_(t,s,a){switch(t.tag){case 26:Ka(t,s,a),t.flags&pl&&t.memoizedState!==null&&BS(a,si,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,s,a);break;case 3:case 4:var l=si;si=Iu(t.stateNode.containerInfo),Ka(t,s,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=pl,pl=16777216,Ka(t,s,a),pl=l):Ka(t,s,a));break;default:Ka(t,s,a)}}function c_(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function gl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pt=l,h_(l,t)}c_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u_(t),t=t.sibling}function u_(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,yu(t)):gl(t);break;default:gl(t)}}function yu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Pt=l,h_(l,t)}c_(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ks(8,s,s.return),yu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,yu(s));break;default:yu(s)}t=t.sibling}}function h_(t,s){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(t_(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var nS={getCacheForType:function(t){var s=Ht(At),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},iS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Me=null,je=0,Xe=0,wn=null,Qs=!1,Qa=!1,Td=!1,hs=0,dt=0,Ys=0,Zr=0,Sd=0,An=0,Ya=0,yl=null,mn=null,wd=!1,_u=0,f_=0,vu=1/0,Eu=null,$s=null,Mt=0,Xs=null,$a=null,fs=0,Ad=0,xd=null,d_=null,_l=0,Rd=null;function xn(){return(Ke&2)!==0&&je!==0?je&-je:G.T!==null?kd():bc()}function m_(){if(An===0)if((je&536870912)===0||Be){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function pn(t,s,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Ws(t,je,An,!1)),Rr(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Zr|=a),dt===4&&Ws(t,je,An,!1)),Oi(t))}function p_(t,s,a){if((Ke&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||$n(t,s),f=l?aS(t,s):Nd(t,s,!0),d=l;do{if(f===0){Qa&&!l&&Ws(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!sS(a)){f=Nd(t,s,!1),d=!1;continue}if(f===2){if(d=s,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var S=t;f=yl;var O=S.current.memoizedState.isDehydrated;if(O&&(Xa(S,v).flags|=256),v=Nd(S,v,!1),v!==2){if(Td&&!O){S.errorRecoveryDisabledLanes|=d,Zr|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Xa(t,0),Ws(t,s,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ws(l,s,An,!Qs);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=_u+300-nn(),10<f)){if(Ws(l,s,An,!Qs),mi(l,0,!0)!==0)break e;fs=s,l.timeoutHandle=K_(g_.bind(null,l,a,mn,Eu,wd,s,An,Zr,Ya,Qs,d,"Throttled",-0,0),f);break e}g_(l,a,mn,Eu,wd,s,An,Zr,Ya,Qs,d,null,-0,0)}}break}while(!0);Oi(t)}function g_(t,s,a,l,f,d,v,S,O,Y,J,te,$,W){if(t.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},l_(s,d,te);var ge=(d&62914560)===d?_u-nn():(d&4194048)===d?f_-nn():0;if(ge=qS(te,ge),ge!==null){fs=d,t.cancelPendingCommit=ge(w_.bind(null,t,s,d,a,l,f,v,S,O,J,te,null,$,W)),Ws(t,d,v,!Y);return}}w_(t,s,d,a,l,f,v,S,O)}function sS(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(t,s,a,l){s&=~Sd,s&=~Zr,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var f=s;0<f;){var d=31-mt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Cr(t,a,s)}function bu(){return(Ke&6)===0?(vl(0),!1):!0}function Cd(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,ts=Fr=null,Ff(t),za=null,tl=0,t=Me;for(;t!==null;)Qy(t.alternate,t),t=t.return;Me=null}}function Xa(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,Cd(),nt=t,Me=a=Zi(t.current,null),je=s,Xe=0,wn=null,Qs=!1,Qa=$n(t,s),Td=!1,Ya=An=Sd=Zr=Ys=dt=0,mn=yl=null,wd=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var f=31-mt(l),d=1<<f;s|=t[f],l&=~d}return hs=s,qc(),a}function y_(t,s){De=null,G.H=cl,s===Ua||s===Xc?(s=kg(),Xe=3):s===Of?(s=kg(),Xe=4):Xe=s===ad?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Me===null&&(dt=1,uu(t,Ln(s,t.current)))}function __(){var t=Tn.current;return t===null?!0:(je&4194048)===je?Bn===null:(je&62914560)===je||(je&536870912)!==0?t===Bn:!1}function v_(){var t=G.H;return G.H=cl,t===null?cl:t}function E_(){var t=G.A;return G.A=nS,t}function Tu(){dt=4,Qs||(je&4194048)!==je&&Tn.current!==null||(Qa=!0),(Ys&134217727)===0&&(Zr&134217727)===0||nt===null||Ws(nt,je,An,!1)}function Nd(t,s,a){var l=Ke;Ke|=2;var f=v_(),d=E_();(nt!==t||je!==s)&&(Eu=null,Xa(t,s)),s=!1;var v=dt;e:do try{if(Xe!==0&&Me!==null){var S=Me,O=wn;switch(Xe){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(s=!0);var Y=Xe;if(Xe=0,wn=null,Wa(t,S,O,Y),a&&Qa){v=0;break e}break;default:Y=Xe,Xe=0,wn=null,Wa(t,S,O,Y)}}rS(),v=dt;break}catch(J){y_(t,J)}while(!0);return s&&t.shellSuspendCounter++,ts=Fr=null,Ke=l,G.H=f,G.A=d,Me===null&&(nt=null,je=0,qc()),v}function rS(){for(;Me!==null;)b_(Me)}function aS(t,s){var a=Ke;Ke|=2;var l=v_(),f=E_();nt!==t||je!==s?(Eu=null,vu=nn()+500,Xa(t,s)):Qa=$n(t,s);e:do try{if(Xe!==0&&Me!==null){s=Me;var d=wn;t:switch(Xe){case 1:Xe=0,wn=null,Wa(t,s,d,1);break;case 2:case 9:if(Dg(d)){Xe=0,wn=null,T_(s);break}s=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Oi(t)},d.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Dg(d)?(Xe=0,wn=null,T_(s)):(Xe=0,wn=null,Wa(t,s,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var S=Me;if(v?ov(v):S.stateNode.complete){Xe=0,wn=null;var O=S.sibling;if(O!==null)Me=O;else{var Y=S.return;Y!==null?(Me=Y,Su(Y)):Me=null}break t}}Xe=0,wn=null,Wa(t,s,d,5);break;case 6:Xe=0,wn=null,Wa(t,s,d,6);break;case 8:Cd(),dt=6;break e;default:throw Error(r(462))}}oS();break}catch(J){y_(t,J)}while(!0);return ts=Fr=null,G.H=l,G.A=f,Ke=a,Me!==null?0:(nt=null,je=0,qc(),dt)}function oS(){for(;Me!==null&&!rf();)b_(Me)}function b_(t){var s=Gy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,s===null?Su(t):Me=s}function T_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Uy(a,s,s.pendingProps,s.type,void 0,je);break;case 11:s=Uy(a,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Ff(s);default:Qy(a,s),s=Me=Eg(s,hs),s=Gy(a,s,hs)}t.memoizedProps=t.pendingProps,s===null?Su(t):Me=s}function Wa(t,s,a,l){ts=Fr=null,Ff(s),za=null,tl=0;var f=s.return;try{if($T(t,f,s,a,je)){dt=1,uu(t,Ln(a,t.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;dt=1,uu(t,Ln(a,t.current)),Me=null;return}s.flags&32768?(Be||l===1?t=!0:Qa||(je&536870912)!==0?t=!1:(Qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),S_(s,t)):Su(s)}function Su(t){var s=t;do{if((s.flags&32768)!==0){S_(s,Qs);return}t=s.return;var a=JT(s.alternate,s,hs);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=t}while(s!==null);dt===0&&(dt=5)}function S_(t,s){do{var a=ZT(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);dt=6,Me=null}function w_(t,s,a,l,f,d,v,S,O){t.cancelPendingCommit=null;do wu();while(Mt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=yf,lf(t,a,d,v,S,O),t===nt&&(Me=nt=null,je=0),$a=s,Xs=t,fs=a,Ad=d,xd=f,d_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hS(Rs,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ie.p,ie.p=2,v=Ke,Ke|=4;try{eS(t,s,a)}finally{Ke=v,ie.p=f,G.T=l}}Mt=1,A_(),x_(),R_()}}function A_(){if(Mt===1){Mt=0;var t=Xs,s=$a,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var f=Ke;Ke|=4;try{r_(s,t);var d=Bd,v=hg(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&ug(S.ownerDocument.documentElement,S)){if(O!==null&&ff(S)){var Y=O.start,J=O.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var W=$.getSelection(),ge=S.textContent.length,be=Math.min(O.start,ge),tt=O.end===void 0?be:Math.min(O.end,ge);!W.extend&&be>tt&&(v=tt,tt=be,be=v);var U=cg(S,be),j=cg(S,tt);if(U&&j&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var K=te.createRange();K.setStart(U.node,U.offset),W.removeAllRanges(),be>tt?(W.addRange(K),W.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),W.addRange(K))}}}}for(te=[],W=S;W=W.parentNode;)W.nodeType===1&&te.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}ju=!!zd,Bd=zd=null}finally{Ke=f,ie.p=l,G.T=a}}t.current=s,Mt=2}}function x_(){if(Mt===2){Mt=0;var t=Xs,s=$a,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ie.p;ie.p=2;var f=Ke;Ke|=4;try{e_(t,s.alternate,s)}finally{Ke=f,ie.p=l,G.T=a}}Mt=3}}function R_(){if(Mt===4||Mt===3){Mt=0,mc();var t=Xs,s=$a,a=fs,l=d_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mt=5:(Mt=0,$a=Xs=null,C_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&($s=null),$i(a),s=s.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=G.T,f=ie.p,ie.p=2,G.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{G.T=s,ie.p=f}}(fs&3)!==0&&wu(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Rd?_l++:(_l=0,Rd=t):_l=0,vl(0)}}function C_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Zo(s)))}function wu(){return A_(),x_(),R_(),N_()}function N_(){if(Mt!==5)return!1;var t=Xs,s=Ad;Ad=0;var a=$i(fs),l=G.T,f=ie.p;try{ie.p=32>a?32:a,G.T=null,a=xd,xd=null;var d=Xs,v=fs;if(Mt=0,$a=Xs=null,fs=0,(Ke&6)!==0)throw Error(r(331));var S=Ke;if(Ke|=4,u_(d.current),o_(d,d.current,v,a),Ke=S,vl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{ie.p=f,G.T=l,C_(t,s)}}function I_(t,s,a){s=Ln(a,s),s=rd(t.stateNode,s,2),t=Hs(t,s,2),t!==null&&(Rr(t,2),Oi(t))}function We(t,s,a){if(t.tag===3)I_(t,t,a);else for(;s!==null;){if(s.tag===3){I_(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=Ln(a,t),a=Dy(2),l=Hs(s,a,2),l!==null&&(Oy(a,l,s,t),Rr(l,2),Oi(l));break}}s=s.return}}function Id(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new iS;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Td=!0,f.add(a),t=lS.bind(null,t,s,a),s.then(t,t))}function lS(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(je&a)===a&&(dt===4||dt===3&&(je&62914560)===je&&300>nn()-_u?(Ke&2)===0&&Xa(t,0):Sd|=a,Ya===je&&(Ya=0)),Oi(t)}function D_(t,s){s===0&&(s=Ec()),t=Br(t,s),t!==null&&(Rr(t,s),Oi(t))}function cS(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),D_(t,a)}function uS(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),D_(t,a)}function hS(t,s){return kt(t,s)}var Au=null,Ja=null,Dd=!1,xu=!1,Od=!1,Js=0;function Oi(t){t!==Ja&&t.next===null&&(Ja===null?Au=Ja=t:Ja=Ja.next=t),xu=!0,Dd||(Dd=!0,dS())}function vl(t,s){if(!Od&&xu){Od=!0;do for(var a=!1,l=Au;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,V_(l,d))}else d=je,d=mi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,V_(l,d));l=l.next}while(a);Od=!1}}function fS(){O_()}function O_(){xu=Dd=!1;var t=0;Js!==0&&SS()&&(t=Js);for(var s=nn(),a=null,l=Au;l!==null;){var f=l.next,d=k_(l,s);d===0?(l.next=null,a===null?Au=f:a.next=f,f===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(xu=!0)),l=f}Mt!==0&&Mt!==5||vl(t),Js!==0&&(Js=0)}function k_(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),S=1<<v,O=f[v];O===-1?((S&a)===0||(S&l)!==0)&&(f[v]=of(S,s)):O<=s&&(t.expiredLanes|=S),d&=~S}if(s=nt,a=je,a=mi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&xs(l),$i(a)){case 2:case 8:a=No;break;case 32:a=Rs;break;case 268435456:a=pc;break;default:a=Rs}return l=M_.bind(null,t),a=kt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&xs(l),t.callbackPriority=2,t.callbackNode=null,2}function M_(t,s){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wu()&&t.callbackNode!==a)return null;var l=je;return l=mi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(p_(t,l,s),k_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?M_.bind(null,t):null)}function V_(t,s){if(wu())return null;p_(t,s,!0)}function dS(){AS(function(){(Ke&6)!==0?kt(Co,fS):O_()})}function kd(){if(Js===0){var t=La;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Js=t}return Js}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function L_(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function mS(t,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=j_((f[jt]||null).action),v=l.submitter;v&&(s=(s=v[jt]||null)?j_(s.formAction):v.getAttribute("formAction"),s!==null&&(d=s,v=null));var S=new Ai("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var O=v?L_(f,v):new FormData(f);Zf(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=v?L_(f,v):new FormData(f),Zf(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Md=0;Md<gf.length;Md++){var Vd=gf[Md],pS=Vd.toLowerCase(),gS=Vd[0].toUpperCase()+Vd.slice(1);ii(pS,"on"+gS)}ii(mg,"onAnimationEnd"),ii(pg,"onAnimationIteration"),ii(gg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(OT,"onTransitionRun"),ii(kT,"onTransitionStart"),ii(MT,"onTransitionCancel"),ii(yg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function P_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var v=l.length-1;0<=v;v--){var S=l[v],O=S.instance,Y=S.currentTarget;if(S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=Y;try{d(f)}catch(J){Bc(J)}f.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(S=l[v],O=S.instance,Y=S.currentTarget,S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=Y;try{d(f)}catch(J){Bc(J)}f.currentTarget=null,d=O}}}}function Ve(t,s){var a=s[ya];a===void 0&&(a=s[ya]=new Set);var l=t+"__bubble";a.has(l)||(U_(s,t,2,!1),a.add(l))}function jd(t,s,a){var l=0;s&&(l|=4),U_(a,t,l,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Ru]){t[Ru]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(yS.has(a)||jd(a,!1,t),jd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,jd("selectionchange",!1,s))}}function U_(t,s,a,l){switch(mv(s)){case 2:var f=GS;break;case 8:f=KS;break;default:f=Jd}a=f.bind(null,s,a,t),f=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function Pd(t,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=_i(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}S=S.parentNode}}l=l.return}ks(function(){var Y=d,J=kn(a),te=[];e:{var $=_g.get(t);if($!==void 0){var W=Ai,ge=t;switch(t){case"keypress":if(Vr(a)===0)break e;case"keydown":case"keyup":W=Pc;break;case"focusin":ge="focus",W=Lr;break;case"focusout":ge="blur",W=Lr;break;case"beforeblur":case"afterblur":W=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case mg:case pg:case gg:W=Dc;break;case yg:W=A;break;case"scroll":case"scrollend":W=Fo;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ji;break;case"toggle":case"beforetoggle":W=Ie}var be=(s&4)!==0,tt=!be&&(t==="scroll"||t==="scrollend"),U=be?$!==null?$+"Capture":null:$;be=[];for(var j=Y,K;j!==null;){var ee=j;if(K=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||K===null||U===null||(ee=Zn(j,U),ee!=null&&be.push(bl(j,ee,K))),tt)break;j=j.return}0<be.length&&($=new W($,ge,null,a,J),te.push({event:$,listeners:be}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",$&&a!==Bo&&(ge=a.relatedTarget||a.fromElement)&&(_i(ge)||ge[gi]))break e;if((W||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,W?(ge=a.relatedTarget||a.toElement,W=Y,ge=ge?_i(ge):null,ge!==null&&(tt=c(ge),be=ge.tag,ge!==tt||be!==5&&be!==27&&be!==6)&&(ge=null)):(W=null,ge=Y),W!==ge)){if(be=Go,ee="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ji,ee="onPointerLeave",U="onPointerEnter",j="pointer"),tt=W==null?$:_n(W),K=ge==null?$:_n(ge),$=new be(ee,j+"leave",W,a,J),$.target=tt,$.relatedTarget=K,ee=null,_i(J)===Y&&(be=new be(U,j+"enter",ge,a,J),be.target=K,be.relatedTarget=tt,ee=be),tt=ee,W&&ge)t:{for(be=_S,U=W,j=ge,K=0,ee=U;ee;ee=be(ee))K++;ee=0;for(var ve=j;ve;ve=be(ve))ee++;for(;0<K-ee;)U=be(U),K--;for(;0<ee-K;)j=be(j),ee--;for(;K--;){if(U===j||j!==null&&U===j.alternate){be=U;break t}U=be(U),j=be(j)}be=null}else be=null;W!==null&&z_(te,$,W,be,!1),ge!==null&&tt!==null&&z_(te,tt,ge,be,!0)}}e:{if($=Y?_n(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var He=ig;else if(tg($))if(sg)He=NT;else{He=RT;var _e=xT}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&ba(Y.elementType)&&(He=ig):He=CT;if(He&&(He=He(t,Y))){ng(te,He,a,J);break e}_e&&_e(t,$,Y),t==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Po($,"number",$.value)}switch(_e=Y?_n(Y):window,t){case"focusin":(tg(_e)||_e.contentEditable==="true")&&(Na=_e,df=Y,Xo=null);break;case"focusout":Xo=df=Na=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,fg(te,a,J);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":fg(te,a,J)}var Oe;if(Ge)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ca?Pr(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ci&&a.locale!=="ko"&&(Ca||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ca&&(Oe=Ho()):(wi=J,qo="value"in wi?wi.value:wi.textContent,Ca=!0)),_e=Cu(Y,Le),0<_e.length&&(Le=new Ri(Le,t,null,a,J),te.push({event:Le,listeners:_e}),Oe?Le.data=Oe:(Oe=Ra(a),Oe!==null&&(Le.data=Oe)))),(Oe=Vn?TT(t,a):ST(t,a))&&(Le=Cu(Y,"onBeforeInput"),0<Le.length&&(_e=new Ri("onBeforeInput","beforeinput",null,a,J),te.push({event:_e,listeners:Le}),_e.data=Oe)),mS(te,t,Y,a,J)}P_(te,s)})}function bl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Cu(t,s){for(var a=s+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(t,a),f!=null&&l.unshift(bl(t,f,d)),f=Zn(t,s),f!=null&&l.push(bl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function _S(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z_(t,s,a,l,f){for(var d=s._reactName,v=[];a!==null&&a!==l;){var S=a,O=S.alternate,Y=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||Y===null||(O=Y,f?(Y=Zn(a,d),Y!=null&&v.unshift(bl(a,Y,O))):f||(Y=Zn(a,d),Y!=null&&v.push(bl(a,Y,O)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var vS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(vS,`
`).replace(ES,"")}function q_(t,s){return s=B_(s),B_(t)===s}function et(t,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(s!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",f.name,f,null),et(t,s,"formEncType",f.formEncType,f,null),et(t,s,"formMethod",f.formMethod,f,null),et(t,s,"formTarget",f.formTarget,f,null)):(et(t,s,"encType",f.encType,f,null),et(t,s,"method",f.method,f,null),et(t,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),va(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,va(t,a,l))}}function Ud(t,s,a,l,f,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Gt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,d,v,a,null)}}f&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":Ve("invalid",t);var S=d=v=f=null,O=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":v=J;break;case"checked":O=J;break;case"defaultChecked":Y=J;break;case"value":d=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:et(t,s,l,J,a,null)}}Ac(t,d,S,O,Y,v,f,!1);return;case"select":Ve("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:et(t,s,f,S,a,null)}s=d,a=v,t.multiple=!!l,s!=null?Ns(t,!!l,s,!1):a!=null&&Ns(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:et(t,s,v,S,a,null)}Is(t,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,s,O,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Ve(El[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,Y,l,a,null)}return;default:if(ba(s)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Ud(t,s,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,s,S,l,a,null))}function bS(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,O=null,Y=null,J=null;for(W in a){var te=a[W];if(a.hasOwnProperty(W)&&te!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(W)||et(t,s,W,null,l,te)}}for(var $ in l){var W=l[$];if(te=a[$],l.hasOwnProperty($)&&(W!=null||te!=null))switch($){case"type":d=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":v=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==te&&et(t,s,$,W,l,te)}}Ea(t,v,S,O,Y,J,d,f);return;case"select":W=v=S=$=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(d)||et(t,s,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":$=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==O&&et(t,s,f,d,l,O)}s=S,a=v,l=W,$!=null?Ns(t,!!a,$,!1):!!l!=!!a&&(s!=null?Ns(t,!!a,s,!0):Ns(t,!!a,a?[]:"",!1));return;case"textarea":W=$=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,s,S,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":$=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&et(t,s,v,f,l,d)}xc(t,$,W);return;case"option":for(var ge in a)if($=a[ge],a.hasOwnProperty(ge)&&$!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:et(t,s,ge,null,l,$)}for(O in l)if($=l[O],W=a[O],l.hasOwnProperty(O)&&$!==W&&($!=null||W!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:et(t,s,O,$,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)$=a[be],a.hasOwnProperty(be)&&$!=null&&!l.hasOwnProperty(be)&&et(t,s,be,null,l,$);for(Y in l)if($=l[Y],W=a[Y],l.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:et(t,s,Y,$,l,W)}return;default:if(ba(s)){for(var tt in a)$=a[tt],a.hasOwnProperty(tt)&&$!==void 0&&!l.hasOwnProperty(tt)&&Ud(t,s,tt,void 0,l,$);for(J in l)$=l[J],W=a[J],!l.hasOwnProperty(J)||$===W||$===void 0&&W===void 0||Ud(t,s,J,$,l,W);return}}for(var U in a)$=a[U],a.hasOwnProperty(U)&&$!=null&&!l.hasOwnProperty(U)&&et(t,s,U,null,l,$);for(te in l)$=l[te],W=a[te],!l.hasOwnProperty(te)||$===W||$==null&&W==null||et(t,s,te,$,l,W)}function H_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&H_(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],Y=O.startTime;if(Y>S)break;var J=O.transferSize,te=O.initiatorType;J&&H_(te)&&(O=O.responseEnd,v+=J*(O<S?1:(S-Y)/(O-Y)))}if(--l,s+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,Bd=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function F_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function qd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hd=null;function SS(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,wS=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(t){return Q_.resolve(null).then(t).catch(xS)}:K_;function xS(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function Y_(t,s){var a=s,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[yi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Tl(t.ownerDocument.body);a=f}while(a);no(s)}function $_(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Fd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function RS(t,s,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function CS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function X_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$?"||t.data==="$~"}function Kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NS(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Qd=null;function W_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return qn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function J_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Z_(t,s,a){switch(s=Nu(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Tl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_a(t)}var Hn=new Map,ev=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ie.d;ie.d={f:IS,r:DS,D:OS,C:kS,L:MS,m:VS,X:LS,S:jS,M:PS};function IS(){var t=ds.f(),s=bu();return t||s}function DS(t){var s=On(t);s!==null&&s.tag===5&&s.type==="form"?yy(s):ds.r(t)}var Za=typeof document>"u"?null:document;function tv(t,s,a){var l=Za;if(l&&typeof s=="string"&&s){var f=cn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),ev.has(f)||(ev.add(f),t={rel:t,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Gt(s,"link",t),St(s),l.head.appendChild(s)))}}function OS(t){ds.D(t),tv("dns-prefetch",t,null)}function kS(t,s){ds.C(t,s),tv("preconnect",t,s)}function MS(t,s,a){ds.L(t,s,a);var l=Za;if(l&&t&&s){var f='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(s){case"style":d=eo(t);break;case"script":d=to(t)}Hn.has(d)||(t=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Hn.set(d,t),l.querySelector(f)!==null||s==="style"&&l.querySelector(Sl(d))||s==="script"&&l.querySelector(wl(d))||(s=l.createElement("link"),Gt(s,"link",t),St(s),l.head.appendChild(s)))}}function VS(t,s){ds.m(t,s);var a=Za;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Hn.has(d)&&(t=T({rel:"modulepreload",href:t},s),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function jS(t,s,a){ds.S(t,s,a);var l=Za;if(l&&t){var f=vi(l).hoistableStyles,d=eo(t);s=s||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Sl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Hn.get(d))&&Yd(t,a);var O=v=l.createElement("link");St(O),Gt(O,"link",t),O._p=new Promise(function(Y,J){O.onload=Y,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Du(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function LS(t,s){ds.X(t,s);var a=Za;if(a&&t){var l=vi(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(t=T({src:t,async:!0},s),(s=Hn.get(f))&&$d(t,s),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function PS(t,s){ds.M(t,s);var a=Za;if(a&&t){var l=vi(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(t=T({src:t,async:!0,type:"module"},s),(s=Hn.get(f))&&$d(t,s),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function nv(t,s,a,l){var f=(f=xe.current)?Iu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=eo(a.href),a=vi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=vi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||US(f,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=to(a),a=vi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function eo(t){return'href="'+cn(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function US(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Gt(s,"link",a),St(s),t.head.appendChild(s))}function to(t){return'[src="'+cn(t)+'"]'}function wl(t){return"script[async]"+t}function sv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return s.instance=l,St(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",f),Du(l,a.precedence,t),s.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Sl(f));if(d)return s.state.loading|=4,s.instance=d,St(d),d;l=iv(a),(f=Hn.get(f))&&Yd(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Gt(d,"link",l),s.state.loading|=4,Du(d,a.precedence,t),s.instance=d;case"script":return d=to(a.src),(f=t.querySelector(wl(d)))?(s.instance=f,St(f),f):(l=a,(f=Hn.get(d))&&(l=T({},a),$d(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Gt(f,"link",l),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Du(l,a.precedence,t));return s.instance}function Du(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===s)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Yd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function $d(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Ou=null;function rv(t,s,a){if(Ou===null){var l=new Map,f=Ou=new Map;f.set(a,l)}else f=Ou,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(s)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function av(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function zS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BS(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=s.querySelector(Sl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ku.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=s.ownerDocument||s,l=iv(l),(f=Hn.get(f))&&Yd(l,f),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ku.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Xd=0;function qS(t,s){return t.stylesheets&&t.count===0&&Vu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Xd===0&&(Xd=62500*TS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Vu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,s.forEach(HS,t),Mu=null,ku.call(t))}function HS(t,s){if(!(s.state.loading&4)){var a=Mu.get(t);if(a)var l=a.get(null);else{a=new Map,Mu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=s.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=ku.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var Al={$$typeof:P,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function FS(t,s,a,l,f,d,v,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function lv(t,s,a,l,f,d,v,S,O,Y,J,te){return t=new FS(t,s,a,v,O,Y,J,te,S),s=1,d===!0&&(s|=24),d=bn(3,null,null,s),t.current=d,d.stateNode=t,s=Nf(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},kf(d),t}function cv(t){return t?(t=Oa,t):Oa}function uv(t,s,a,l,f,d){f=cv(f),l.context===null?l.context=f:l.pendingContext=f,l=qs(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hs(t,l,s),a!==null&&(pn(a,t,s),il(a,t,s))}function hv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Wd(t,s){hv(t,s),(t=t.alternate)&&hv(t,s)}function fv(t){if(t.tag===13||t.tag===31){var s=Br(t,67108864);s!==null&&pn(s,t,67108864),Wd(t,67108864)}}function dv(t){if(t.tag===13||t.tag===31){var s=xn();s=Nr(s);var a=Br(t,s);a!==null&&pn(a,t,s),Wd(t,s)}}var ju=!0;function GS(t,s,a,l){var f=G.T;G.T=null;var d=ie.p;try{ie.p=2,Jd(t,s,a,l)}finally{ie.p=d,G.T=f}}function KS(t,s,a,l){var f=G.T;G.T=null;var d=ie.p;try{ie.p=8,Jd(t,s,a,l)}finally{ie.p=d,G.T=f}}function Jd(t,s,a,l){if(ju){var f=Zd(l);if(f===null)Pd(t,s,l,Lu,a),pv(t,l);else if(YS(f,t,s,a,l))l.stopPropagation();else if(pv(t,l),s&4&&-1<QS.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=di(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-mt(v);S.entanglements[1]|=O,v&=~O}Oi(d),(Ke&6)===0&&(vu=nn()+500,vl(0))}}break;case 31:case 13:S=Br(d,2),S!==null&&pn(S,d,2),bu(),Wd(d,2)}if(d=Zd(l),d===null&&Pd(t,s,l,Lu,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Pd(t,s,l,null,a)}}function Zd(t){return t=kn(t),em(t)}var Lu=null;function em(t){if(Lu=null,t=_i(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Lu=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case Co:return 2;case No:return 8;case Rs:case af:return 32;case pc:return 268435456;default:return 32}default:return 32}}var tm=!1,er=null,tr=null,nr=null,xl=new Map,Rl=new Map,ir=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,s){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":xl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(s.pointerId)}}function Cl(t,s,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=On(s),s!==null&&fv(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function YS(t,s,a,l,f){switch(s){case"focusin":return er=Cl(er,t,s,a,l,f),!0;case"dragenter":return tr=Cl(tr,t,s,a,l,f),!0;case"mouseover":return nr=Cl(nr,t,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return xl.set(d,Cl(xl.get(d)||null,t,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Rl.set(d,Cl(Rl.get(d)||null,t,s,a,l,f)),!0}return!1}function gv(t){var s=_i(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Xn(t.priority,function(){dv(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,Xn(t.priority,function(){dv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bo=l,a.target.dispatchEvent(l),Bo=null}else return s=On(a),s!==null&&fv(s),t.blockedOn=a,!1;s.shift()}return!0}function yv(t,s,a){Pu(t)&&a.delete(s)}function $S(){tm=!1,er!==null&&Pu(er)&&(er=null),tr!==null&&Pu(tr)&&(tr=null),nr!==null&&Pu(nr)&&(nr=null),xl.forEach(yv),Rl.forEach(yv)}function Uu(t,s){t.blockedOn===s&&(t.blockedOn=null,tm||(tm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$S)))}var zu=null;function _v(t){zu!==t&&(zu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],f=t[s+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(s,3),s-=3,Zf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function s(O){return Uu(O,t)}er!==null&&Uu(er,t),tr!==null&&Uu(tr,t),nr!==null&&Uu(nr,t),xl.forEach(s),Rl.forEach(s);for(var a=0;a<ir.length;a++){var l=ir[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[jt]||null;if(typeof d=="function")v||_v(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[jt]||null)S=v.formAction;else if(em(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),_v(a)}}}function vv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function nm(t){this._internalRoot=t}Bu.prototype.render=nm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=xn();uv(a,l,t,s,null,null)},Bu.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;uv(t.current,2,null,t,null,null),bu(),s[gi]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var s=bc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,t),a===0&&gv(t)}};var Ev=e.version;if(Ev!=="19.2.0")throw Error(r(527,Ev,"19.2.0"));ie.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(s),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var XS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Yn=qu.inject(XS),zt=qu}catch{}}return Il.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",f=Ry,d=Cy,v=Ny;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=lv(t,1,!1,null,null,a,l,null,f,d,v,vv),t[gi]=s.current,Ld(t),new nm(s)},Il.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,f="",d=Ry,v=Cy,S=Ny,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=lv(t,1,!0,s,a??null,l,f,O,d,v,S,vv),s.context=cv(null),a=s.current,l=xn(),l=Nr(l),f=qs(l),f.callback=null,Hs(a,f,l),a=l,s.current.lanes=a,Rr(s,a),Oi(s),t[gi]=s.current,Ld(t),new Bu(s)},Il.version="19.2.0",Il}var Iv;function a2(){if(Iv)return rm.exports;Iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rm.exports=r2(),rm.exports}var o2=a2(),cm={exports:{}},um={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function l2(){if(Dv)return um;Dv=1;var n=Mh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return um.c=function(e){return n.H.useMemoCache(e)},um}var Ov;function c2(){return Ov||(Ov=1,cm.exports=l2()),cm.exports}var an=c2();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kv="popstate";function u2(n={}){function e(r,o){let{pathname:c,search:h,hash:m}=r.location;return Rm("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(r,o){return typeof o=="string"?o:ql(o)}return f2(e,i,null,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h2(){return Math.random().toString(36).substring(2,10)}function Mv(n,e){return{usr:n.state,key:n.key,idx:e}}function Rm(n,e,i=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:i,key:e&&e.key||r||h2()}}function ql({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Eo(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function f2(n,e,i,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=E(),F=L==null?null:L-g;g=L,p&&p({action:m,location:H.location,delta:F})}function w(L,F){m="PUSH";let z=Rm(H.location,L,F);g=E()+1;let P=Mv(z,g),re=H.createHref(z);try{h.pushState(P,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}c&&p&&p({action:m,location:H.location,delta:1})}function k(L,F){m="REPLACE";let z=Rm(H.location,L,F);g=E();let P=Mv(z,g),re=H.createHref(z);h.replaceState(P,"",re),c&&p&&p({action:m,location:H.location,delta:0})}function B(L){return d2(L)}let H={get action(){return m},get location(){return n(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,T),p=L,()=>{o.removeEventListener(kv,T),p=null}},createHref(L){return e(o,L)},createURL:B,encodeLocation(L){let F=B(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:k,go(L){return h.go(L)}};return H}function d2(n,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ut(i,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ql(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function S0(n,e,i="/"){return m2(n,e,i,!1)}function m2(n,e,i,r){let o=typeof e=="string"?Eo(e):e,c=_s(o.pathname||"/",i);if(c==null)return null;let h=w0(n);p2(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=x2(c);m=w2(h[p],g,r)}return m}function w0(n,e=[],i=[],r="",o=!1){let c=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;ut(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let T=gs([r,E.relativePath]),w=i.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),w0(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:T2(T,h.index),routesMeta:w})};return n.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let p of A0(h.path))c(h,m,!0,p)}),e}function A0(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=A0(r.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...h),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function p2(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:S2(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var g2=/^:[\w-]+$/,y2=3,_2=2,v2=1,E2=10,b2=-2,Vv=n=>n==="*";function T2(n,e){let i=n.split("/"),r=i.length;return i.some(Vv)&&(r+=b2),e&&(r+=_2),i.filter(o=>!Vv(o)).reduce((o,c)=>o+(g2.test(c)?y2:c===""?v2:E2),r)}function S2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function w2(n,e,i=!1){let{routesMeta:r}=n,o={},c="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",T=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&i&&!r[r.length-1].route.index&&(T=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:gs([c,T.pathname]),pathnameBase:I2(gs([c,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(c=gs([c,T.pathnameBase]))}return h}function hh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=A2(n.path,n.caseSensitive,n.end),o=e.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let B=m[w]||"";h=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:n}}function A2(n,e=!1,i=!0){qi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function x2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _s(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function R2(n,e="/"){let{pathname:i,search:r="",hash:o=""}=typeof n=="string"?Eo(n):n;return{pathname:i?i.startsWith("/")?i:C2(i,e):e,search:D2(r),hash:O2(o)}}function C2(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function hm(n,e,i,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N2(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function x0(n){let e=N2(n);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function R0(n,e,i,r=!1){let o;typeof n=="string"?o=Eo(n):(o={...n},ut(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let c=n===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=i;else{let T=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=R2(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var gs=n=>n.join("/").replace(/\/\/+/g,"/"),I2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),D2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function k2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var C0=["POST","PUT","PATCH","DELETE"];new Set(C0);var M2=["GET",...C0];new Set(M2);var bo=Q.createContext(null);bo.displayName="DataRouter";var Vh=Q.createContext(null);Vh.displayName="DataRouterState";Q.createContext(!1);var N0=Q.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var V2=Q.createContext(new Map);V2.displayName="Fetchers";var j2=Q.createContext(null);j2.displayName="Await";var Gi=Q.createContext(null);Gi.displayName="Navigation";var Wl=Q.createContext(null);Wl.displayName="Location";var Ki=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var sp=Q.createContext(null);sp.displayName="RouteError";function L2(n,{relative:e}={}){ut(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=Q.useContext(Gi),{hash:o,pathname:c,search:h}=Zl(n,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:gs([i,c])),r.createHref({pathname:m,search:h,hash:o})}function Jl(){return Q.useContext(Wl)!=null}function ua(){return ut(Jl(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Wl).location}var I0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D0(n){Q.useContext(Gi).static||Q.useLayoutEffect(n)}function Cn(){let{isDataRoute:n}=Q.useContext(Ki);return n?W2():P2()}function P2(){ut(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(bo),{basename:e,navigator:i}=Q.useContext(Gi),{matches:r}=Q.useContext(Ki),{pathname:o}=ua(),c=JSON.stringify(x0(r)),h=Q.useRef(!1);return D0(()=>{h.current=!0}),Q.useCallback((p,g={})=>{if(qi(h.current,I0),!h.current)return;if(typeof p=="number"){i.go(p);return}let E=R0(p,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gs([e,E.pathname])),(g.replace?i.replace:i.push)(E,g.state,g)},[e,i,c,o,n])}Q.createContext(null);function U2(){let{matches:n}=Q.useContext(Ki),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:i}=Q.useContext(Ki),{pathname:r}=ua(),o=JSON.stringify(x0(i));return Q.useMemo(()=>R0(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function z2(n,e){return O0(n,e)}function O0(n,e,i,r,o){ut(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=Q.useContext(Gi),{matches:h}=Q.useContext(Ki),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let z=T&&T.path||"";k0(g,!T||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=ua(),k;if(e){let z=typeof e=="string"?Eo(e):e;ut(E==="/"||z.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${z.pathname}" was given in the \`location\` prop.`),k=z}else k=w;let B=k.pathname||"/",H=B;if(E!=="/"){let z=E.replace(/^\//,"").split("/");H="/"+B.replace(/^\//,"").split("/").slice(z.length).join("/")}let L=S0(n,{pathname:H});qi(T||L!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),qi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=G2(L&&L.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:gs([E,c.encodeLocation?c.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?E:gs([E,c.encodeLocation?c.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,i,r,o);return e&&F?Q.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},F):F}function B2(){let n=X2(),e=k2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,h)}var q2=Q.createElement(B2,null),H2=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(Ki.Provider,{value:this.props.routeContext},Q.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F2({routeContext:n,match:e,children:i}){let r=Q.useContext(bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Ki.Provider,{value:n},i)}function G2(n,e=[],i=null,r=null,o=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,h=i?.errors;if(h!=null){let g=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,p=-1;if(i)for(let g=0;g<c.length;g++){let E=c[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:w}=i,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||k){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,E,T)=>{let w,k=!1,B=null,H=null;i&&(w=h&&E.route.id?h[E.route.id]:void 0,B=E.route.errorElement||q2,m&&(p<0&&T===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,H=null):p===T&&(k=!0,H=E.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,T+1)),F=()=>{let z;return w?z=B:k?z=H:E.route.Component?z=Q.createElement(E.route.Component,null):E.route.element?z=E.route.element:z=g,Q.createElement(F2,{match:E,routeContext:{outlet:g,matches:L,isDataRoute:i!=null},children:z})};return i&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?Q.createElement(H2,{location:i.location,revalidation:i.revalidation,component:B,error:w,children:F(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):F()},null)}function rp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K2(n){let e=Q.useContext(bo);return ut(e,rp(n)),e}function Q2(n){let e=Q.useContext(Vh);return ut(e,rp(n)),e}function Y2(n){let e=Q.useContext(Ki);return ut(e,rp(n)),e}function ap(n){let e=Y2(n),i=e.matches[e.matches.length-1];return ut(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function $2(){return ap("useRouteId")}function X2(){let n=Q.useContext(sp),e=Q2("useRouteError"),i=ap("useRouteError");return n!==void 0?n:e.errors?.[i]}function W2(){let{router:n}=K2("useNavigate"),e=ap("useNavigate"),i=Q.useRef(!1);return D0(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{qi(i.current,I0),i.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var jv={};function k0(n,e,i){!e&&!jv[n]&&(jv[n]=!0,qi(!1,i))}Q.memo(J2);function J2({routes:n,future:e,state:i,unstable_onError:r}){return O0(n,void 0,i,r,e)}function Nt(n){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z2({basename:n="/",children:e=null,location:i,navigationType:r="POP",navigator:o,static:c=!1}){ut(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=Eo(i));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=i,k=Q.useMemo(()=>{let B=_s(p,h);return B==null?null:{location:{pathname:B,search:g,hash:E,state:T,key:w},navigationType:r}},[h,p,g,E,T,w,r]);return qi(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Q.createElement(Gi.Provider,{value:m},Q.createElement(Wl.Provider,{children:e,value:k}))}function ew({children:n,location:e}){return z2(Cm(n),e)}function Cm(n,e=[]){let i=[];return Q.Children.forEach(n,(r,o)=>{if(!Q.isValidElement(r))return;let c=[...e,o];if(r.type===Q.Fragment){i.push.apply(i,Cm(r.props.children,c));return}ut(r.type===Nt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Cm(r.props.children,c)),i.push(h)}),i}var Wu="get",Ju="application/x-www-form-urlencoded";function jh(n){return n!=null&&typeof n.tagName=="string"}function tw(n){return jh(n)&&n.tagName.toLowerCase()==="button"}function nw(n){return jh(n)&&n.tagName.toLowerCase()==="form"}function iw(n){return jh(n)&&n.tagName.toLowerCase()==="input"}function sw(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rw(n,e){return n.button===0&&(!e||e==="_self")&&!sw(n)}var Hu=null;function aw(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(n){return n!=null&&!ow.has(n)?(qi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):n}function lw(n,e){let i,r,o,c,h;if(nw(n)){let m=n.getAttribute("action");r=m?_s(m,e):null,i=n.getAttribute("method")||Wu,o=fm(n.getAttribute("enctype"))||Ju,c=new FormData(n)}else if(tw(n)||iw(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||m.getAttribute("action");if(r=p?_s(p,e):null,i=n.getAttribute("formmethod")||m.getAttribute("method")||Wu,o=fm(n.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||Ju,c=new FormData(m,n),!aw()){let{name:g,type:E,value:T}=n;if(E==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,T)}}else{if(jh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wu,r=null,o=Ju,h=n}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:i.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cw(n,e,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&_s(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function uw(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fw(n,e,i){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await uw(c,i);return h.links?h.links():[]}return[]}));return gw(r.flat(1).filter(hw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Lv(n,e,i,r,o,c){let h=(p,g)=>i[g]?p.route.id!==i[g].route.id:!0,m=(p,g)=>i[g].pathname!==p.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):c==="data"?e.filter((p,g)=>{let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function dw(n,e,{includeHydrateFallback:i}={}){return mw(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function mw(n){return[...new Set(n)]}function pw(n){let e={},i=Object.keys(n).sort();for(let r of i)e[r]=n[r];return e}function gw(n,e){let i=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(pw(o));return i.has(c)||(i.add(c),r.push({key:c,link:o})),r},[])}function M0(){let n=Q.useContext(bo);return op(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yw(){let n=Q.useContext(Vh);return op(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lp=Q.createContext(void 0);lp.displayName="FrameworkContext";function V0(){let n=Q.useContext(lp);return op(n,"You must render this element inside a <HydratedRouter> element"),n}function _w(n,e){let i=Q.useContext(lp),[r,o]=Q.useState(!1),[c,h]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let H=F=>{F.forEach(z=>{h(z.isIntersecting)})},L=new IntersectionObserver(H,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[r]);let k=()=>{o(!0)},B=()=>{o(!1),h(!1)};return i?n!=="intent"?[c,w,{}]:[c,w,{onFocus:Dl(m,k),onBlur:Dl(p,B),onMouseEnter:Dl(g,k),onMouseLeave:Dl(E,B),onTouchStart:Dl(T,k)}]:[!1,w,{}]}function Dl(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function vw({page:n,...e}){let{router:i}=M0(),r=Q.useMemo(()=>S0(i.routes,n,i.basename),[i.routes,n,i.basename]);return r?Q.createElement(bw,{page:n,matches:r,...e}):null}function Ew(n){let{manifest:e,routeModules:i}=V0(),[r,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return fw(n,e,i).then(h=>{c||o(h)}),()=>{c=!0}},[n,e,i]),r}function bw({page:n,matches:e,...i}){let r=ua(),{manifest:o,routeModules:c}=V0(),{basename:h}=M0(),{loaderData:m,matches:p}=yw(),g=Q.useMemo(()=>Lv(n,e,p,o,r,"data"),[n,e,p,o,r]),E=Q.useMemo(()=>Lv(n,e,p,o,r,"assets"),[n,e,p,o,r]),T=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let B=new Set,H=!1;if(e.forEach(F=>{let z=o.routes[F.route.id];!z||!z.hasLoader||(!g.some(P=>P.route.id===F.route.id)&&F.route.id in m&&c[F.route.id]?.shouldRevalidate||z.hasClientLoader?H=!0:B.add(F.route.id))}),B.size===0)return[];let L=cw(n,h,"data");return H&&B.size>0&&L.searchParams.set("_routes",e.filter(F=>B.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[h,m,r,o,g,e,n,c]),w=Q.useMemo(()=>dw(E,o),[E,o]),k=Ew(E);return Q.createElement(Q.Fragment,null,T.map(B=>Q.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),w.map(B=>Q.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),k.map(({key:B,link:H})=>Q.createElement("link",{key:B,nonce:i.nonce,...H})))}function Tw(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.9.4")}catch{}function Sw({basename:n,children:e,window:i}){let r=Q.useRef();r.current==null&&(r.current=u2({window:i,v5Compat:!0}));let o=r.current,[c,h]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>h(p))},[h]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(Z2,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ci=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},k){let{basename:B}=Q.useContext(Gi),H=typeof g=="string"&&L0.test(g),L,F=!1;if(typeof g=="string"&&H&&(L=g,j0))try{let R=new URL(window.location.href),I=g.startsWith("//")?new URL(R.protocol+g):new URL(g),D=_s(I.pathname,B);I.origin===R.origin&&D!=null?g=D+I.search+I.hash:F=!0}catch{qi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=L2(g,{relative:o}),[P,re,ae]=_w(r,w),ce=Rw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function C(R){e&&e(R),R.defaultPrevented||ce(R)}let x=Q.createElement("a",{...w,...ae,href:L||z,onClick:F||c?e:C,ref:Tw(k,re),target:p,"data-discover":!H&&i==="render"?"true":void 0});return P&&!H?Q.createElement(Q.Fragment,null,x,Q.createElement(vw,{page:z})):x});ci.displayName="Link";var ww=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:m,children:p,...g},E){let T=Zl(h,{relative:g.relative}),w=ua(),k=Q.useContext(Vh),{navigator:B,basename:H}=Q.useContext(Gi),L=k!=null&&Ow(T)&&m===!0,F=B.encodeLocation?B.encodeLocation(T).pathname:T.pathname,z=w.pathname,P=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(z=z.toLowerCase(),P=P?P.toLowerCase():null,F=F.toLowerCase()),P&&H&&(P=_s(P,H)||P);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ae=z===F||!o&&z.startsWith(F)&&z.charAt(re)==="/",ce=P!=null&&(P===F||!o&&P.startsWith(F)&&P.charAt(F.length)==="/"),C={isActive:ae,isPending:ce,isTransitioning:L},x=ae?e:void 0,R;typeof r=="function"?R=r(C):R=[r,ae?"active":null,ce?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(C):c;return Q.createElement(ci,{...g,"aria-current":x,className:R,ref:E,style:I,to:h,viewTransition:m},typeof p=="function"?p(C):p)});ww.displayName="NavLink";var Aw=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:o,state:c,method:h=Wu,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},k)=>{let B=Iw(),H=Dw(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&L0.test(m),z=P=>{if(p&&p(P),P.defaultPrevented)return;P.preventDefault();let re=P.nativeEvent.submitter,ae=re?.getAttribute("formmethod")||h;B(re||P.currentTarget,{fetcherKey:e,method:ae,navigate:i,replace:o,state:c,relative:g,preventScrollReset:E,viewTransition:T})};return Q.createElement("form",{ref:k,method:L,action:H,onSubmit:r?p:z,...w,"data-discover":!F&&n==="render"?"true":void 0})});Aw.displayName="Form";function xw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(n){let e=Q.useContext(bo);return ut(e,xw(n)),e}function Rw(n,{target:e,replace:i,state:r,preventScrollReset:o,relative:c,viewTransition:h}={}){let m=Cn(),p=ua(),g=Zl(n,{relative:c});return Q.useCallback(E=>{if(rw(E,e)){E.preventDefault();let T=i!==void 0?i:ql(p)===ql(g);m(n,{replace:T,state:r,preventScrollReset:o,relative:c,viewTransition:h})}},[p,m,g,i,r,e,n,o,c,h])}var Cw=0,Nw=()=>`__${String(++Cw)}__`;function Iw(){let{router:n}=P0("useSubmit"),{basename:e}=Q.useContext(Gi),i=$2();return Q.useCallback(async(r,o={})=>{let{action:c,method:h,encType:m,formData:p,body:g}=lw(r,e);if(o.navigate===!1){let E=o.fetcherKey||Nw();await n.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,i])}function Dw(n,{relative:e}={}){let{basename:i}=Q.useContext(Gi),r=Q.useContext(Ki);ut(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Zl(n||".",{relative:e})},h=ua();if(n==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();c.search=E?`?${E}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:gs([i,c.pathname])),ql(c)}function Ow(n,{relative:e}={}){let i=Q.useContext(N0);ut(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=P0("useViewTransitionState"),o=Zl(n,{relative:e});if(!i.isTransitioning)return!1;let c=_s(i.currentLocation.pathname,r)||i.currentLocation.pathname,h=_s(i.nextLocation.pathname,r)||i.nextLocation.pathname;return hh(o.pathname,h)!=null||hh(o.pathname,c)!=null}const kw="/assets/hero-bg1-Dbq6NROQ.jpg",Mw="/assets/kwek-kwek-lhXCGovP.jpg",Vw="/assets/betamax-DrPmkB4m.jpg",jw="/assets/isaw-DRLqUlnD.png",Lw="/assets/barbecue-DrG29f52.png",Pw="/assets/MLs-CRaISRRB.png",Uw="/assets/redtak-BtFVg1hw.png",zw="/assets/globe-B9_H1mNg.png",Bw=()=>{const n=an.c(38),[e,i]=Q.useState(""),r=Cn();let o;n[0]!==r||n[1]!==e?(o=()=>{e.trim()!==""&&r(`/search/${e}`)},n[0]=r,n[1]=e,n[2]=o):o=n[2];const c=o;let h;n[3]!==r?(h=he=>{r(`/search/${he}`)},n[3]=r,n[4]=h):h=n[4];const m=h;let p;n[5]===Symbol.for("react.memo_cache_sentinel")?(p=[{name:"Isaw",image:jw},{name:"Barbecue",image:Lw},{name:"Kwek-Kwek",image:Mw},{name:"Betamax",image:Vw}],n[5]=p):p=n[5];const g=p;let E;n[6]===Symbol.for("react.memo_cache_sentinel")?(E=[{name:"takoyaki",trending:!0},{name:"Turon",trending:!0},{name:"Tokwa",recent:!0},{name:"Lumpia",trending:!0}],n[6]=E):E=n[6];const T=E;let w;n[7]===Symbol.for("react.memo_cache_sentinel")?(w=[{name:"Mang Larry's - Dahlia",distance:"0.7km",rating:4.1,image:Pw},{name:"RedTak - Quiapo",distance:"5.3km",rating:4.7,image:Uw},{name:"Globe Lumpia - Raon",distance:"5.1km",rating:4.3,image:zw}],n[7]=w):w=n[7];const k=w,[B,H]=Q.useState("home");let L;n[8]===Symbol.for("react.memo_cache_sentinel")?(L=[{id:"home",label:"Home",path:"/"},{id:"maps",label:"Maps",path:"/maps"},{id:"favorites",label:"Favorites",path:"/favorites"},{id:"profile",label:"Profile",path:"/profile"}],n[8]=L):L=n[8];const F=L;let z;n[9]===Symbol.for("react.memo_cache_sentinel")?(z={homePage:{fontFamily:"Arial, sans-serif",paddingBottom:"80px",maxWidth:"100vw",margin:"0",backgroundColor:"#f5f5f5",boxShadow:"none",transition:"all 0.3s ease",overflow:"hidden"},heroSection:{backgroundImage:`url(${kw})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"420px",position:"relative",overflow:"hidden"},heroOverlay:{position:"absolute",inset:0,backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:10},header:{position:"relative",zIndex:20,display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"12px 16px"},searchSection:{position:"relative",zIndex:20,padding:"0 20px",marginTop:"20px"},logo:{fontSize:"42px",fontWeight:"bold",color:"white",marginBottom:"50px"},searchTitle:{fontSize:"22px",color:"white",fontWeight:"500",marginBottom:"20px"},searchBarContainer:{display:"flex",gap:"8px",marginBottom:"20px",maxWidth:"100%"},searchInputWrapper:{flex:1,backgroundColor:"white",borderRadius:"24px",display:"flex",alignItems:"center",padding:"10px 14px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},searchIcon:{width:"18px",height:"18px",color:"#9ca3af",marginRight:"10px"},searchInput:{flex:1,border:"none",outline:"none",fontSize:"15px",color:"#374151"},searchButton:{width:"44px",height:"44px",backgroundColor:"#dc2626",borderRadius:"50%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"22px",boxShadow:"0 2px 8px rgba(220, 38, 38, 0.4)"},mainContent:{backgroundColor:"white",borderRadius:"20px 20px 0 0",marginTop:"-20px",position:"relative",zIndex:30,padding:"24px 20px"},categoryList:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",marginBottom:"24px",maxWidth:"100%"},categoryItem:{display:"flex",flexDirection:"column",alignItems:"center",background:"none",border:"none",cursor:"pointer",padding:"8px 4px"},categoryIcon:{width:"56px",height:"56px",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",marginBottom:"6px",transition:"background-color 0.3s",overflow:"hidden"},categoryImage:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"},categoryName:{fontSize:"11px",color:"#374151",textAlign:"center"},tagCloud:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"24px"},tagButton:{padding:"8px 14px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"20px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"13px"},recommendedSection:{marginBottom:"20px"},recommendedTitle:{fontSize:"18px",fontWeight:"bold",color:"#111827",marginBottom:"14px"},recommendedList:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},placeCard:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",cursor:"pointer",transition:"box-shadow 0.3s"},placeImage:{width:"80px",height:"80px",background:"linear-gradient(to bottom right, #fee2e2, #fed7aa)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",flexShrink:0,overflow:"hidden"},placeLogo:{width:"100%",height:"100%",objectFit:"cover"},placeInfo:{flex:1},placeName:{fontWeight:"600",color:"#111827",marginBottom:"4px",fontSize:"14px"},placeDetails:{display:"flex",alignItems:"center",gap:"10px"},placeDistance:{fontSize:"13px",color:"#6b7280"},placeRating:{display:"flex",alignItems:"center",gap:"3px"},ratingValue:{fontWeight:"600",color:"#111827",fontSize:"13px"},bottomNav:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"8px 16px 12px",zIndex:40,boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)"},navContainer:{display:"flex",justifyContent:"space-around",alignItems:"center",maxWidth:"100%",margin:"0 auto",padding:"0"},navItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"3px",background:"none",border:"none",cursor:"pointer",padding:"4px 12px",minWidth:"60px",transition:"all 0.3s",borderRadius:"8px",textDecoration:"none"}},n[9]=z):z=n[9];const P=z;let re;n[10]===Symbol.for("react.memo_cache_sentinel")?(re=y.jsx("div",{style:P.heroOverlay}),n[10]=re):re=n[10];let ae,ce;n[11]===Symbol.for("react.memo_cache_sentinel")?(ae=y.jsx("h1",{style:P.logo,children:"StreetBites"}),ce=y.jsx("p",{style:P.searchTitle,children:"Looking for a place?"}),n[11]=ae,n[12]=ce):(ae=n[11],ce=n[12]);let C;n[13]===Symbol.for("react.memo_cache_sentinel")?(C=y.jsx("svg",{style:P.searchIcon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n[13]=C):C=n[13];let x;n[14]===Symbol.for("react.memo_cache_sentinel")?(x=he=>i(he.target.value),n[14]=x):x=n[14];let R;n[15]!==c?(R=he=>{he.key==="Enter"&&c()},n[15]=c,n[16]=R):R=n[16];let I;n[17]!==e||n[18]!==R?(I=y.jsxs("div",{style:P.searchInputWrapper,children:[C,y.jsx("input",{type:"text",style:P.searchInput,placeholder:"Search",value:e,onChange:x,onKeyDown:R})]}),n[17]=e,n[18]=R,n[19]=I):I=n[19];let D;n[20]!==c?(D=y.jsx("button",{style:P.searchButton,onClick:c,children:"›"}),n[20]=c,n[21]=D):D=n[21];let M;n[22]!==I||n[23]!==D?(M=y.jsxs("div",{style:P.heroSection,children:[re,y.jsxs("div",{style:P.searchSection,children:[ae,ce,y.jsxs("div",{style:P.searchBarContainer,children:[I,D]})]})]}),n[22]=I,n[23]=D,n[24]=M):M=n[24];let N;n[25]!==m?(N=y.jsx("div",{style:P.categoryList,children:g.map((he,V)=>y.jsxs("button",{style:P.categoryItem,onClick:()=>m(he.name),children:[y.jsx("div",{style:P.categoryIcon,children:he.image?y.jsx("img",{src:he.image,alt:he.name,style:P.categoryImage}):he.icon}),y.jsx("div",{style:P.categoryName,children:he.name})]},V))}),n[25]=m,n[26]=N):N=n[26];let ye;n[27]===Symbol.for("react.memo_cache_sentinel")?(ye=y.jsx("div",{style:P.tagCloud,children:T.map((he,V)=>y.jsxs("button",{style:P.tagButton,children:[he.recent&&y.jsx("svg",{style:{width:"14px",height:"14px",color:"#6b7280"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsx("span",{children:he.name}),he.trending&&y.jsx("svg",{style:{width:"14px",height:"14px",color:"#dc2626"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]},V))}),n[27]=ye):ye=n[27];let we;n[28]===Symbol.for("react.memo_cache_sentinel")?(we=y.jsx("h2",{style:P.recommendedTitle,children:"Recommended"}),n[28]=we):we=n[28];let G;n[29]===Symbol.for("react.memo_cache_sentinel")?(G=y.jsxs("div",{style:P.recommendedSection,children:[we,y.jsx("div",{style:P.recommendedList,children:k.map((he,V)=>y.jsxs("div",{style:P.placeCard,children:[y.jsx("div",{style:P.placeImage,children:y.jsx("img",{src:he.image,alt:he.name,style:P.placeLogo})}),y.jsxs("div",{style:P.placeInfo,children:[y.jsx("div",{style:P.placeName,children:he.name}),y.jsxs("div",{style:P.placeDetails,children:[y.jsx("span",{style:P.placeDistance,children:he.distance}),y.jsxs("div",{style:P.placeRating,children:[y.jsx("svg",{style:{width:"14px",height:"14px",color:"#fbbf24",fill:"#fbbf24"},viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),y.jsx("span",{style:P.ratingValue,children:he.rating})]})]})]})]},V))})]}),n[29]=G):G=n[29];let ie;n[30]!==N?(ie=y.jsxs("main",{style:P.mainContent,children:[N,ye,G]}),n[30]=N,n[31]=ie):ie=n[31];let oe;n[32]!==B?(oe=y.jsx("div",{style:P.bottomNav,children:y.jsx("div",{style:P.navContainer,children:F.map(he=>y.jsxs(ci,{to:he.path,style:{...P.navItem,color:B===he.id?"#dc2626":"#6b7280"},onClick:()=>H(he.id),children:[y.jsxs("svg",{style:{width:"22px",height:"22px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[he.id==="home"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),he.id==="maps"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"}),he.id==="favorites"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}),he.id==="profile"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]}),y.jsx("span",{style:{fontSize:"11px",fontWeight:"500"},children:he.label})]},he.id))})}),n[32]=B,n[33]=oe):oe=n[33];let de;return n[34]!==M||n[35]!==ie||n[36]!==oe?(de=y.jsxs("div",{style:P.homePage,children:[M,ie,oe]}),n[34]=M,n[35]=ie,n[36]=oe,n[37]=de):de=n[37],de},qw=()=>{const n=an.c(20),[e,i]=Q.useState("profile"),r=Cn();let o;n[0]!==r?(o=()=>{localStorage.removeItem("user"),sessionStorage.clear(),r("/login")},n[0]=r,n[1]=o):o=n[1];const c=o;let h;n[2]===Symbol.for("react.memo_cache_sentinel")?(h=[{id:"home",label:"Home",path:"/"},{id:"maps",label:"Maps",path:"/maps"},{id:"favorites",label:"Favorites",path:"/favorites"},{id:"profile",label:"Profile",path:"/profile"}],n[2]=h):h=n[2];const m=h;let p;n[3]===Symbol.for("react.memo_cache_sentinel")?(p=[{label:"Account",path:"/account"},{label:"Language",path:"/language"},{label:"Email settings",path:"/email-settings"},{label:"Security",path:"/security"}],n[3]=p):p=n[3];const g=p;let E;n[4]===Symbol.for("react.memo_cache_sentinel")?(E=[{label:"FAQ",path:"/faq",external:!0},{label:"Terms of Service",path:"/terms-of-service",external:!1},{label:"Privacy Policy",path:"/privacy-policy",external:!1}],n[4]=E):E=n[4];const T=E;let w;n[5]===Symbol.for("react.memo_cache_sentinel")?(w={position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"8px 16px 12px",zIndex:40,boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)",maxWidth:"100%"},n[5]=w):w=n[5];const k=w;let B;n[6]===Symbol.for("react.memo_cache_sentinel")?(B={display:"flex",justifyContent:"space-around",alignItems:"center",maxWidth:"100%",margin:"0 auto",padding:"0"},n[6]=B):B=n[6];const H=B;let L;n[7]===Symbol.for("react.memo_cache_sentinel")?(L={display:"flex",flexDirection:"column",alignItems:"center",gap:"3px",background:"none",border:"none",cursor:"pointer",padding:"4px 12px",minWidth:"60px",transition:"all 0.3s",borderRadius:"8px",textDecoration:"none"},n[7]=L):L=n[7];const F=L;let z;n[8]===Symbol.for("react.memo_cache_sentinel")?(z=y.jsx("header",{className:"profile-header"}),n[8]=z):z=n[8];let P;n[9]===Symbol.for("react.memo_cache_sentinel")?(P=y.jsx("img",{src:"https://placehold.co/60x60/F9A8D4/A90C6B?text=JD",alt:"Juan Dela Cruz",className:"profile-picture"}),n[9]=P):P=n[9];let re;n[10]===Symbol.for("react.memo_cache_sentinel")?(re=y.jsxs("section",{className:"user-info-section",children:[P,y.jsxs("div",{className:"user-details",children:[y.jsx("span",{className:"user-name",children:"Juan Dela Cruz"}),y.jsx("span",{className:"user-handle",children:"@JD.CRUZ"})]}),y.jsx("span",{className:"arrow-icon",children:">"})]}),n[10]=re):re=n[10];let ae;n[11]===Symbol.for("react.memo_cache_sentinel")?(ae=y.jsx("nav",{className:"settings-list",children:g.map(Hw)}),n[11]=ae):ae=n[11];let ce;n[12]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsx("nav",{className:"info-list",children:T.map(Fw)}),n[12]=ce):ce=n[12];let C;n[13]!==c?(C=y.jsxs("div",{className:"profile-container",children:[z,re,ae,ce,y.jsx("button",{className:"logout-button",onClick:c,children:"Logout"})]}),n[13]=c,n[14]=C):C=n[14];let x;n[15]!==e?(x=y.jsx("div",{style:k,children:y.jsx("div",{style:H,children:m.map(I=>y.jsxs(ci,{to:I.path,style:{...F,color:e===I.id?"#dc2626":"#6b7280"},onClick:()=>i(I.id),children:[y.jsxs("svg",{style:{width:"22px",height:"22px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[I.id==="home"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),I.id==="maps"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"}),I.id==="favorites"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}),I.id==="profile"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]}),y.jsx("span",{style:{fontSize:"11px",fontWeight:"500"},children:I.label})]},I.id))})}),n[15]=e,n[16]=x):x=n[16];let R;return n[17]!==C||n[18]!==x?(R=y.jsxs("div",{className:"profile-page-background",children:[C,x]}),n[17]=C,n[18]=x,n[19]=R):R=n[19],R};function Hw(n,e){return y.jsxs(ci,{to:n.path,className:"settings-item",children:[y.jsx("span",{children:n.label}),y.jsx("span",{className:"arrow-icon",children:">"})]},e)}function Fw(n,e){return y.jsxs(ci,{to:n.path,className:"info-item",children:[y.jsx("span",{children:n.label}),y.jsx("span",{className:"external-link-icon",children:"↗"})]},e)}const Gw=()=>{const{query:n}=U2(),e=Cn(),[i,r]=Q.useState([]),[o,c]=Q.useState(!0),[h,m]=Q.useState(null);return Q.useEffect(()=>{(async()=>{c(!0),m(null);try{const g=await fetch(`/api/search?query=${n}`);if(!g.ok)throw new Error("Failed to fetch search results");const E=await g.json();r(E)}catch(g){console.error("Error fetching search results:",g),m("Failed to load search results. Please try again.")}finally{c(!1)}})()},[n]),y.jsxs("div",{className:"search-results-page",children:[y.jsxs("header",{className:"search-header",children:[y.jsx("button",{onClick:()=>e(-1),className:"back-button",children:y.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"15 18 9 12 15 6"})})}),y.jsx("h1",{className:"search-title",children:n})]}),y.jsxs("main",{className:"search-content",children:[o&&y.jsxs("p",{className:"loading-message",children:['Loading results for "',n,'"...']}),h&&y.jsx("p",{className:"error-message",children:h}),!o&&!h&&i.length===0&&y.jsxs("p",{className:"no-results-message",children:['No results found for "',n,'".']}),!o&&!h&&i.length>0&&y.jsx("div",{className:"results-list",children:i.map(p=>y.jsxs("div",{className:"result-card",children:[y.jsx("img",{src:p.image,alt:p.name,className:"result-image"}),y.jsxs("div",{className:"result-details",children:[y.jsx("h2",{className:"result-name",children:p.name}),y.jsxs("div",{className:"result-meta",children:[y.jsx("span",{className:"result-distance",children:p.distance}),y.jsxs("span",{className:"result-rating",children:[y.jsx("svg",{viewBox:"0 0 24 24",className:"star-icon",children:y.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),p.rating]})]})]})]},p.id))})]})]})},Kw=()=>{const[n,e]=Q.useState("maps"),i=Q.useRef(null),[r,o]=Q.useState(null),[c,h]=Q.useState(null),[m,p]=Q.useState(null),[g,E]=Q.useState(null),[T,w]=Q.useState(!1),k="AIzaSyAZ9U8zQf_jssNXF0FtBQBp_q8ttV0yRVI";Q.useEffect(()=>{if(window.google)B();else{const P=document.createElement("script");P.src=`https://maps.googleapis.com/maps/api/js?key=${k}`,P.async=!0,P.defer=!0,P.onload=()=>{B()},document.head.appendChild(P)}},[]);const B=()=>{if(i.current){const P={lat:14.5764,lng:121.0237},re=new window.google.maps.Map(i.current,{zoom:15,center:P,mapTypeControl:!0,fullscreenControl:!0,streetViewControl:!1,zoomControl:!0,mapTypeId:"roadmap"});o(re)}},H=()=>{if(!navigator.geolocation){p("Geolocation is not supported by your browser"),alert("Geolocation is not supported by your browser");return}w(!0),p("Getting your location..."),navigator.geolocation.getCurrentPosition(P=>{const{latitude:re,longitude:ae,accuracy:ce}=P.coords,C={lat:re,lng:ae};if(h(C),p(null),w(!1),console.log(`Location found: ${re}, ${ae}`),console.log(`Accuracy: ±${Math.round(ce)} meters`),r){r.setCenter(C),r.setZoom(18),g&&(g.setMap(null),g.accuracyCircle&&g.accuracyCircle.setMap(null));const x=new window.google.maps.Marker({position:C,map:r,title:`Your Location (±${Math.round(ce)}m)`,animation:window.google.maps.Animation.DROP,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#4285F4",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3}}),R=new window.google.maps.Circle({map:r,center:C,radius:ce,fillOpacity:0,strokeOpacity:0});x.accuracyCircle=R,E(x);const I=new window.google.maps.InfoWindow({content:`<div style="padding: 8px;">
              <strong>Your Location</strong><br/>
              <small>Accuracy: ±${Math.round(ce)}m</small>
            </div>`});x.addListener("click",()=>{I.open(r,x)})}},P=>{w(!1);let re="Unable to retrieve your location";switch(P.code){case P.PERMISSION_DENIED:re="Location permission denied. Please enable location access in your browser settings.";break;case P.POSITION_UNAVAILABLE:re="Location information unavailable. Make sure location services are enabled.";break;case P.TIMEOUT:re="Location request timed out. Please try again.";break;default:re="An unknown error occurred while getting your location."}p(re),alert(re)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},L=()=>{g&&(g.setMap(null),g.accuracyCircle&&g.accuracyCircle.setMap(null),E(null),h(null),p(null))},F=[{id:"home",label:"Home",path:"/"},{id:"maps",label:"Maps",path:"/maps"},{id:"favorites",label:"Favorites",path:"/favorites"},{id:"profile",label:"Profile",path:"/profile"}],z={mapsPage:{fontFamily:"Arial, sans-serif",display:"flex",flexDirection:"column",height:"100vh",width:"100%",backgroundColor:"#f5f5f5",overflow:"hidden"},header:{position:"relative",zIndex:20,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"white",borderBottom:"1px solid #e5e7eb"},headerLeft:{display:"flex",alignItems:"center",gap:"12px"},breadcrumb:{color:"#9ca3af",fontSize:"14px",fontWeight:"500"},mapContainer:{flex:1,width:"100%",position:"relative",zIndex:10},mapElement:{width:"100%",height:"100%"},locationButton:{position:"absolute",bottom:"100px",left:"16px",width:"56px",height:"56px",backgroundColor:"white",borderRadius:"50%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:30,transition:"all 0.3s",opacity:T?.6:1},removeButton:{position:"absolute",bottom:"170px",left:"16px",width:"56px",height:"56px",backgroundColor:"#dc2626",borderRadius:"50%",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(220, 38, 38, 0.3)",zIndex:30,transition:"all 0.3s"},bottomNav:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"8px 16px 12px",zIndex:40,boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)"},navContainer:{display:"flex",justifyContent:"space-around",alignItems:"center",maxWidth:"100%",margin:"0 auto",padding:"0"},navItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"3px",background:"none",border:"none",cursor:"pointer",padding:"4px 12px",minWidth:"60px",transition:"all 0.3s",borderRadius:"8px",textDecoration:"none",color:"#6b7280"},navItemActive:{color:"#dc2626"},statusBadge:{position:"absolute",top:"80px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.75)",color:"white",padding:"8px 16px",borderRadius:"20px",fontSize:"13px",zIndex:25,display:m?"block":"none",maxWidth:"80%",textAlign:"center"}};return y.jsxs("div",{style:z.mapsPage,children:[y.jsxs("div",{style:z.header,children:[y.jsx("div",{style:z.headerLeft,children:y.jsx("span",{style:z.breadcrumb,children:"StreetBites"})}),y.jsx("div",{style:z.headerLeft,children:y.jsx("span",{style:z.breadcrumb,children:"Maps"})})]}),y.jsxs("div",{style:z.mapContainer,children:[y.jsx("div",{ref:i,style:z.mapElement}),m&&T&&y.jsx("div",{style:z.statusBadge,children:m}),g&&y.jsx("button",{style:z.removeButton,onClick:L,title:"Remove location pin",onMouseEnter:P=>P.currentTarget.style.transform="scale(1.1)",onMouseLeave:P=>P.currentTarget.style.transform="scale(1)",children:y.jsx("svg",{style:{width:"28px",height:"28px",color:"white"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})}),y.jsx("button",{style:z.locationButton,onClick:H,title:"Get current location",disabled:T,onMouseEnter:P=>!T&&(P.currentTarget.style.transform="scale(1.1)"),onMouseLeave:P=>P.currentTarget.style.transform="scale(1)",children:y.jsxs("svg",{style:{width:"28px",height:"28px",color:T?"#9ca3af":"#374151"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),y.jsx("div",{style:z.bottomNav,children:y.jsx("div",{style:z.navContainer,children:F.map(P=>y.jsxs(ci,{to:P.path,style:{...z.navItem,...n===P.id?z.navItemActive:{}},onClick:()=>e(P.id),children:[y.jsxs("svg",{style:{width:"24px",height:"24px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[P.id==="home"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),P.id==="maps"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"}),P.id==="favorites"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}),P.id==="profile"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]}),y.jsx("span",{style:{fontSize:"11px",fontWeight:"500"},children:P.label})]},P.id))})})]})},Qw=()=>{const n=an.c(13),e=Cn();let i;n[0]!==e?(i=()=>{e("/profile")},n[0]=e,n[1]=i):i=n[1];const r=i;let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"header-title",children:"Account"}),n[2]=o):o=n[2];let c;n[3]!==r?(c=y.jsxs("header",{className:"profile-header",children:[o,y.jsx("button",{className:"collapse-button",onClick:r,children:"←"})]}),n[3]=r,n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("h2",{className:"section-title",children:"Account Settings"}),n[5]=h):h=n[5];let m;n[6]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Email Address"}),y.jsx("input",{type:"email",className:"form-input",value:"juan@example.com",readOnly:!0})]}),n[6]=m):m=n[6];let p;n[7]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Display Name"}),y.jsx("input",{type:"text",className:"form-input",defaultValue:"Juan Dela Cruz"})]}),n[7]=p):p=n[7];let g;n[8]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Username"}),y.jsx("input",{type:"text",className:"form-input",defaultValue:"@JD.CRUZ"})]}),n[8]=g):g=n[8];let E;n[9]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Bio"}),y.jsx("textarea",{className:"form-textarea",placeholder:"Tell us about yourself..."})]}),n[9]=E):E=n[9];let T;n[10]===Symbol.for("react.memo_cache_sentinel")?(T=y.jsxs("div",{className:"content-section",children:[h,m,p,g,E,y.jsxs("div",{className:"button-group",children:[y.jsx("button",{className:"btn-primary",children:"Save Changes"}),y.jsx("button",{className:"btn-secondary",children:"Cancel"})]})]}),n[10]=T):T=n[10];let w;return n[11]!==c?(w=y.jsx("div",{className:"profile-page-background",children:y.jsxs("div",{className:"profile-container account-page",children:[c,T]})}),n[11]=c,n[12]=w):w=n[12],w},Yw=()=>{const n=an.c(14),e=Cn();let i;n[0]!==e?(i=()=>{e("/profile")},n[0]=e,n[1]=i):i=n[1];const r=i;let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"header-title",children:"Email Settings"}),n[2]=o):o=n[2];let c;n[3]!==r?(c=y.jsxs("header",{className:"profile-header",children:[o,y.jsx("button",{className:"collapse-button",onClick:r,children:"←"})]}),n[3]=r,n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("h2",{className:"section-title",children:"Email Preferences"}),n[5]=h):h=n[5];let m;n[6]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsxs("div",{className:"toggle-switch",children:[y.jsx("span",{className:"toggle-label",children:"Marketing Emails"}),y.jsx("input",{type:"checkbox",className:"toggle-checkbox",defaultChecked:!0})]}),n[6]=m):m=n[6];let p;n[7]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsxs("div",{className:"toggle-switch",children:[y.jsx("span",{className:"toggle-label",children:"Account Notifications"}),y.jsx("input",{type:"checkbox",className:"toggle-checkbox",defaultChecked:!0})]}),n[7]=p):p=n[7];let g;n[8]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsxs("div",{className:"toggle-switch",children:[y.jsx("span",{className:"toggle-label",children:"Weekly Digest"}),y.jsx("input",{type:"checkbox",className:"toggle-checkbox"})]}),n[8]=g):g=n[8];let E;n[9]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsxs("div",{className:"toggle-switch",children:[y.jsx("span",{className:"toggle-label",children:"Security Alerts"}),y.jsx("input",{type:"checkbox",className:"toggle-checkbox",defaultChecked:!0})]}),n[9]=E):E=n[9];let T;n[10]===Symbol.for("react.memo_cache_sentinel")?(T=y.jsxs("div",{className:"form-group",style:{marginTop:"2rem"},children:[y.jsx("label",{className:"form-label",children:"Primary Email"}),y.jsx("input",{type:"email",className:"form-input",value:"juan@example.com",readOnly:!0})]}),n[10]=T):T=n[10];let w;n[11]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsxs("div",{className:"content-section",children:[h,m,p,g,E,T,y.jsx("div",{className:"button-group",children:y.jsx("button",{className:"btn-primary",children:"Save Preferences"})})]}),n[11]=w):w=n[11];let k;return n[12]!==c?(k=y.jsx("div",{className:"profile-page-background",children:y.jsxs("div",{className:"profile-container email-settings-page",children:[c,w]})}),n[12]=c,n[13]=k):k=n[13],k},$w=()=>{const n=an.c(8),e=Cn();let i;n[0]!==e?(i=()=>{e("/profile")},n[0]=e,n[1]=i):i=n[1];const r=i;let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"header-title",children:"FAQ"}),n[2]=o):o=n[2];let c;n[3]!==r?(c=y.jsxs("header",{className:"profile-header",children:[o,y.jsx("button",{className:"collapse-button",onClick:r,children:"←"})]}),n[3]=r,n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsxs("div",{className:"content-section",children:[y.jsx("h2",{className:"section-title",children:"Frequently Asked Questions"}),y.jsxs("details",{children:[y.jsx("summary",{children:"How do I reset my password?"}),y.jsx("p",{children:'Go to the Security section and click "Update Password". Follow the prompts to set a new password.'})]}),y.jsxs("details",{children:[y.jsx("summary",{children:"How do I change my language preference?"}),y.jsx("p",{children:"Visit the Language settings page and select your preferred language from the available options."})]}),y.jsxs("details",{children:[y.jsx("summary",{children:"How do I enable two-factor authentication?"}),y.jsx("p",{children:'Go to Security settings and toggle on "Two-Factor Authentication". Follow the setup instructions.'})]}),y.jsxs("details",{children:[y.jsx("summary",{children:"Can I delete my account?"}),y.jsx("p",{children:"Contact our support team for account deletion requests. Account deletion is permanent and cannot be undone."})]})]}),n[5]=h):h=n[5];let m;return n[6]!==c?(m=y.jsx("div",{className:"profile-page-background",children:y.jsxs("div",{className:"profile-container faq-page",children:[c,h]})}),n[6]=c,n[7]=m):m=n[7],m},Xw=()=>{const n=an.c(8),e=Cn();let i;n[0]!==e?(i=()=>{e("/profile")},n[0]=e,n[1]=i):i=n[1];const r=i;let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"header-title",children:"Privacy Policy"}),n[2]=o):o=n[2];let c;n[3]!==r?(c=y.jsxs("header",{className:"profile-header",children:[o,y.jsx("button",{className:"collapse-button",onClick:r,children:"←"})]}),n[3]=r,n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsxs("div",{className:"content-section",children:[y.jsx("h2",{className:"section-title",children:"Privacy Policy"}),y.jsx("h3",{children:"1. Information Collection"}),y.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account or update your profile. This includes your name, email address, and other details you choose to share."}),y.jsx("h3",{children:"2. How We Use Information"}),y.jsx("p",{children:"We use the information we collect to:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Provide, maintain, and improve our services"}),y.jsx("li",{children:"Send you technical notices and support messages"}),y.jsx("li",{children:"Respond to your comments and questions"}),y.jsx("li",{children:"Send marketing communications"})]}),y.jsx("h3",{children:"3. Data Security"}),y.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),y.jsx("h3",{children:"4. Your Rights"}),y.jsx("p",{children:"You have the right to access, update, or delete your personal information at any time by logging into your account or contacting us."})]}),n[5]=h):h=n[5];let m;return n[6]!==c?(m=y.jsx("div",{className:"profile-page-background",children:y.jsxs("div",{className:"profile-container privacy-page",children:[c,h]})}),n[6]=c,n[7]=m):m=n[7],m},Ww=()=>{const n=an.c(15),e=Cn();let i;n[0]!==e?(i=()=>{e("/profile")},n[0]=e,n[1]=i):i=n[1];const r=i;let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"header-title",children:"Security"}),n[2]=o):o=n[2];let c;n[3]!==r?(c=y.jsxs("header",{className:"profile-header",children:[o,y.jsx("button",{className:"collapse-button",onClick:r,children:"←"})]}),n[3]=r,n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("h2",{className:"section-title",children:"Security Settings"}),n[5]=h):h=n[5];let m;n[6]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Current Password"}),y.jsx("input",{type:"password",className:"form-input",placeholder:"Enter current password"})]}),n[6]=m):m=n[6];let p;n[7]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"New Password"}),y.jsx("input",{type:"password",className:"form-input",placeholder:"Enter new password"})]}),n[7]=p):p=n[7];let g,E;n[8]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsxs("div",{className:"form-group",children:[y.jsx("label",{className:"form-label",children:"Confirm Password"}),y.jsx("input",{type:"password",className:"form-input",placeholder:"Confirm new password"})]}),E={marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e8e8e8"},n[8]=g,n[9]=E):(g=n[8],E=n[9]);let T;n[10]===Symbol.for("react.memo_cache_sentinel")?(T=y.jsx("h3",{className:"section-title",style:{marginTop:0,marginBottom:"1rem"},children:"Two-Factor Authentication"}),n[10]=T):T=n[10];let w;n[11]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsxs("div",{style:E,children:[T,y.jsxs("div",{className:"toggle-switch",style:{borderBottom:"none"},children:[y.jsx("span",{className:"toggle-label",children:"Enable 2FA"}),y.jsx("input",{type:"checkbox",className:"toggle-checkbox"})]})]}),n[11]=w):w=n[11];let k;n[12]===Symbol.for("react.memo_cache_sentinel")?(k=y.jsxs("div",{className:"content-section",children:[h,m,p,g,w,y.jsxs("div",{className:"button-group",children:[y.jsx("button",{className:"btn-primary",children:"Update Password"}),y.jsx("button",{className:"btn-secondary",children:"Cancel"})]})]}),n[12]=k):k=n[12];let B;return n[13]!==c?(B=y.jsx("div",{className:"profile-page-background",children:y.jsxs("div",{className:"profile-container security-page",children:[c,k]})}),n[13]=c,n[14]=B):B=n[14],B},Jw=()=>{const n=an.c(8),e=Cn();let i;n[0]!==e?(i=()=>{e("/profile")},n[0]=e,n[1]=i):i=n[1];const r=i;let o;n[2]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx("span",{className:"header-title",children:"Terms of Service"}),n[2]=o):o=n[2];let c;n[3]!==r?(c=y.jsxs("header",{className:"profile-header",children:[o,y.jsx("button",{className:"collapse-button",onClick:r,children:"←"})]}),n[3]=r,n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsxs("div",{className:"content-section",children:[y.jsx("h2",{className:"section-title",children:"Terms of Service"}),y.jsx("h3",{children:"1. Agreement to Terms"}),y.jsx("p",{children:"By accessing and using this application, you accept and agree to be bound by the terms and provision of this agreement."}),y.jsx("h3",{children:"2. Use License"}),y.jsx("p",{children:"Permission is granted to temporarily download one copy of the materials for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),y.jsxs("ul",{children:[y.jsx("li",{children:"Modify or copy the materials"}),y.jsx("li",{children:"Use the materials for any commercial purpose or for any public display"}),y.jsx("li",{children:"Attempt to decompile or reverse engineer any software contained on the application"}),y.jsx("li",{children:"Remove any copyright or other proprietary notations from the materials"})]}),y.jsx("h3",{children:"3. Disclaimer"}),y.jsx("p",{children:"The materials on our application are provided on an 'as is' basis. We make no warranties, expressed or implied, and hereby disclaim and negate all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),n[5]=h):h=n[5];let m;return n[6]!==c?(m=y.jsx("div",{className:"profile-page-background",children:y.jsxs("div",{className:"profile-container terms-page",children:[c,h]})}),n[6]=c,n[7]=m):m=n[7],m},Zw=()=>{const n=Cn(),[e,i]=Q.useState(null),[r,o]=Q.useState(!0),[c,h]=Q.useState(null),[m,p]=Q.useState("favorites"),g=[{id:"home",label:"Home",path:"/"},{id:"maps",label:"Maps",path:"/maps"},{id:"favorites",label:"Favorites",path:"/favorites"},{id:"profile",label:"Profile",path:"/profile"}],E={bottomNav:{position:"fixed",bottom:0,left:0,right:0,width:"100%",backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"8px 16px 12px",zIndex:40,boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.05)"},navContainer:{display:"flex",justifyContent:"space-around",alignItems:"center",maxWidth:"100%",margin:"0 auto",padding:"0"},navItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"3px",background:"none",border:"none",cursor:"pointer",padding:"4px 12px",minWidth:"60px",transition:"all 0.3s",borderRadius:"8px",textDecoration:"none"},navLabel:{fontSize:"11px",fontWeight:"500"}};Q.useEffect(()=>{(async()=>{o(!0),h(null);try{const k=await fetch("/api/favorites-details");if(!k.ok)throw new Error("Failed to fetch favorites");const B=await k.json();B&&B.length>0?i(B[0]):i(null)}catch(k){console.error("Error fetching favorites:",k),h("Failed to load favorite details. Please try again."),i({id:"1",name:"Fairview 2025",location:"Private room in Mandaluyong",details:"Container Home Mandaluyong | N04(1)",beds:"1 bed",rating:4.7,imageUrl:"https://via.placeholder.com/600x400/FF0000/FFFFFF?text=Favorite+Venue"})}finally{o(!1)}})()},[]);const T=()=>{n(-1)};return y.jsxs("div",{className:"favorites-page-ui",children:[y.jsxs("header",{className:"favorites-header-ui",children:[y.jsx("button",{onClick:T,className:"back-button-ui",children:y.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"15 18 9 12 15 6"})})}),y.jsx("div",{className:"header-options-ui",children:y.jsx("span",{children:"⋯"})})]}),y.jsxs("main",{className:"favorites-main-ui",children:[r&&y.jsx("p",{className:"loading-message-ui",children:"Loading favorite..."}),c&&y.jsx("p",{className:"error-message-ui",children:c}),!r&&!c&&e&&y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"favorites-title-ui",children:e.name}),y.jsxs("div",{className:"action-buttons-ui",children:[y.jsx("button",{className:"date-guests-button-ui",children:"Dates · 2 guests"}),y.jsxs("button",{className:"share-button-ui",children:["Share ",y.jsx("span",{children:"↗"})]})]}),y.jsxs("div",{className:"favorite-image-container-ui",children:[y.jsx("img",{src:e.imageUrl,alt:e.name,className:"favorite-image-ui"}),y.jsx("div",{className:"image-overlay-ui",children:y.jsx("span",{className:"heart-icon-ui",children:"❤"})})]}),y.jsxs("div",{className:"favorite-details-ui",children:[y.jsx("p",{className:"favorite-location-ui",children:e.location}),y.jsxs("p",{className:"favorite-other-details-ui",children:[e.details," · ",e.beds,y.jsxs("span",{className:"rating-ui",children:["★ ",e.rating]})]})]}),y.jsx("div",{className:"add-note-ui",children:"Add note"})]})]}),y.jsx("div",{style:E.bottomNav,children:y.jsx("div",{style:E.navContainer,children:g.map(w=>y.jsxs(ci,{to:w.path,style:{...E.navItem,color:m===w.id?"#dc2626":"#6b7280"},onClick:()=>p(w.id),children:[y.jsxs("svg",{style:{width:"22px",height:"22px"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[w.id==="home"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),w.id==="maps"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"}),w.id==="favorites"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}),w.id==="profile"&&y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]}),y.jsx("span",{style:E.navLabel,children:w.label})]},w.id))})})]})},U0=n=>{const e=an.c(38),{viewMode:i,onBack:r}=n,[o,c]=Q.useState(""),[h,m]=Q.useState("");let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={},e[0]=p):p=e[0];const[g,E]=Q.useState(p),T=eA,w=tA;let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=de=>{const he=w(de.target.value);c(he),T(he)&&E(nA)},e[1]=k):k=e[1];const B=k;let H;e[2]!==o||e[3]!==h?(H=de=>{if(de.preventDefault(),!T(o)){E({email:"Please enter a valid email address"});return}E({}),console.log("Admin login attempt:",{email:o,password:h})},e[2]=o,e[3]=h,e[4]=H):H=e[4];const L=H;let F;e[5]!==r?(F=y.jsx("button",{className:"back-btn",onClick:r,children:"← Back"}),e[5]=r,e[6]=F):F=e[6];let z,P,re;e[7]===Symbol.for("react.memo_cache_sentinel")?(z=y.jsx("h1",{className:"logo-title",children:"Admin Login"}),P=y.jsx("p",{className:"logo-subtitle",children:"Access administrator dashboard"}),re=y.jsx("p",{className:"hero-description",children:"Access the core control panel. Monitor site activity, manage user and vendor accounts, and ensure the StreetBites platform remains a high-quality resource for all street food enthusiasts."}),e[7]=z,e[8]=P,e[9]=re):(z=e[7],P=e[8],re=e[9]);let ae;e[10]!==F?(ae=y.jsxs("div",{className:"login-hero",children:[F,z,P,re]}),e[10]=F,e[11]=ae):ae=e[11];let ce;e[12]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e[12]=ce):ce=e[12];let C;e[13]!==o?(C=y.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"admin@streetbites.com",value:o,onChange:B,required:!0}),e[13]=o,e[14]=C):C=e[14];let x;e[15]!==g.email?(x=g.email&&y.jsx("span",{className:"error-message",children:g.email}),e[15]=g.email,e[16]=x):x=e[16];let R;e[17]!==C||e[18]!==x?(R=y.jsxs("div",{className:"form-group",children:[ce,C,x]}),e[17]=C,e[18]=x,e[19]=R):R=e[19];let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=y.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e[20]=I):I=e[20];let D;e[21]===Symbol.for("react.memo_cache_sentinel")?(D=de=>m(de.target.value),e[21]=D):D=e[21];let M;e[22]!==h?(M=y.jsxs("div",{className:"form-group",children:[I,y.jsx("input",{type:"password",id:"password",className:"form-input",placeholder:"Enter your password",value:h,onChange:D,required:!0})]}),e[22]=h,e[23]=M):M=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N=y.jsx("button",{type:"submit",className:"submit-btn",children:"Login as Admin"}),e[24]=N):N=e[24];let ye;e[25]!==L||e[26]!==R||e[27]!==M?(ye=y.jsxs("form",{className:"email-form",onSubmit:L,noValidate:!0,children:[R,M,N]}),e[25]=L,e[26]=R,e[27]=M,e[28]=ye):ye=e[28];let we;e[29]===Symbol.for("react.memo_cache_sentinel")?(we=y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Don't have an account? ",y.jsx("a",{href:"/admin-sign",className:"signup-link",children:"Sign Up"})]})}),e[29]=we):we=e[29];let G;e[30]!==ye?(G=y.jsxs("main",{className:"login-content",children:[ye,we]}),e[30]=ye,e[31]=G):G=e[31];let ie;e[32]!==G||e[33]!==ae?(ie=y.jsxs("div",{className:"login-wrapper",children:[ae,G]}),e[32]=G,e[33]=ae,e[34]=ie):ie=e[34];let oe;return e[35]!==ie||e[36]!==i?(oe=y.jsx("div",{className:"login-page","data-view":i,children:ie}),e[35]=ie,e[36]=i,e[37]=oe):oe=e[37],oe};function eA(n){return/\S+@\S+\.\S+/.test(n)}function tA(n){return n.trim().toLowerCase()}function nA(n){return{...n,email:""}}const z0=n=>{const e=an.c(38),{viewMode:i,onBack:r}=n,[o,c]=Q.useState(""),[h,m]=Q.useState("");let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={},e[0]=p):p=e[0];const[g,E]=Q.useState(p),T=iA,w=sA;let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=de=>{const he=w(de.target.value);c(he),T(he)&&E(rA)},e[1]=k):k=e[1];const B=k;let H;e[2]!==o||e[3]!==h?(H=de=>{if(de.preventDefault(),!T(o)){E({email:"Please enter a valid email address"});return}E({}),console.log("Vendor login attempt:",{email:o,password:h})},e[2]=o,e[3]=h,e[4]=H):H=e[4];const L=H;let F;e[5]!==r?(F=y.jsx("button",{className:"back-btn",onClick:r,children:"← Back"}),e[5]=r,e[6]=F):F=e[6];let z,P,re;e[7]===Symbol.for("react.memo_cache_sentinel")?(z=y.jsx("h1",{className:"logo-title",children:"Vendor Login"}),P=y.jsx("p",{className:"logo-subtitle",children:"Manage your street food business"}),re=y.jsx("p",{className:"hero-description",children:"Gain control of your street food business. Update your menu, manage your truck’s location, and respond to customer reviews to grow your presence within the StreetBites community."}),e[7]=z,e[8]=P,e[9]=re):(z=e[7],P=e[8],re=e[9]);let ae;e[10]!==F?(ae=y.jsxs("div",{className:"login-hero",children:[F,z,P,re]}),e[10]=F,e[11]=ae):ae=e[11];let ce;e[12]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e[12]=ce):ce=e[12];let C;e[13]!==o?(C=y.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"vendor@example.com",value:o,onChange:B,required:!0}),e[13]=o,e[14]=C):C=e[14];let x;e[15]!==g.email?(x=g.email&&y.jsx("span",{className:"error-message",children:g.email}),e[15]=g.email,e[16]=x):x=e[16];let R;e[17]!==C||e[18]!==x?(R=y.jsxs("div",{className:"form-group",children:[ce,C,x]}),e[17]=C,e[18]=x,e[19]=R):R=e[19];let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=y.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e[20]=I):I=e[20];let D;e[21]===Symbol.for("react.memo_cache_sentinel")?(D=de=>m(de.target.value),e[21]=D):D=e[21];let M;e[22]!==h?(M=y.jsxs("div",{className:"form-group",children:[I,y.jsx("input",{type:"password",id:"password",className:"form-input",placeholder:"Enter your password",value:h,onChange:D,required:!0})]}),e[22]=h,e[23]=M):M=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N=y.jsx("button",{type:"submit",className:"submit-btn",children:"Login"}),e[24]=N):N=e[24];let ye;e[25]!==L||e[26]!==R||e[27]!==M?(ye=y.jsxs("form",{className:"email-form",onSubmit:L,noValidate:!0,children:[R,M,N]}),e[25]=L,e[26]=R,e[27]=M,e[28]=ye):ye=e[28];let we;e[29]===Symbol.for("react.memo_cache_sentinel")?(we=y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Don't have an account? ",y.jsx(ci,{to:"/vendor-signup",className:"signup-link",children:"Sign Up"})]})}),e[29]=we):we=e[29];let G;e[30]!==ye?(G=y.jsxs("main",{className:"login-content",children:[ye,we]}),e[30]=ye,e[31]=G):G=e[31];let ie;e[32]!==G||e[33]!==ae?(ie=y.jsxs("div",{className:"login-wrapper",children:[ae,G]}),e[32]=G,e[33]=ae,e[34]=ie):ie=e[34];let oe;return e[35]!==ie||e[36]!==i?(oe=y.jsx("div",{className:"login-page","data-view":i,children:ie}),e[35]=ie,e[36]=i,e[37]=oe):oe=e[37],oe};function iA(n){return/\S+@\S+\.\S+/.test(n)}function sA(n){return n.trim().toLowerCase()}function rA(n){return{...n,email:""}}const B0=n=>{const e=an.c(38),{viewMode:i,onBack:r}=n,[o,c]=Q.useState(""),[h,m]=Q.useState("");let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={},e[0]=p):p=e[0];const[g,E]=Q.useState(p),T=aA,w=oA;let k;e[1]===Symbol.for("react.memo_cache_sentinel")?(k=de=>{const he=w(de.target.value);c(he),T(he)&&E(lA)},e[1]=k):k=e[1];const B=k;let H;e[2]!==o||e[3]!==h?(H=de=>{if(de.preventDefault(),!T(o)){E({email:"Please enter a valid email address"});return}E({}),console.log("User login attempt:",{email:o,password:h})},e[2]=o,e[3]=h,e[4]=H):H=e[4];const L=H;let F;e[5]!==r?(F=y.jsx("button",{className:"back-btn",onClick:r,children:"← Back"}),e[5]=r,e[6]=F):F=e[6];let z,P,re;e[7]===Symbol.for("react.memo_cache_sentinel")?(z=y.jsx("h1",{className:"logo-title",children:"User Login"}),P=y.jsx("p",{className:"logo-subtitle",children:"Sign in to write reviews"}),re=y.jsx("p",{className:"hero-description",children:"Find your next great meal on the go. Discover top-rated vendors, read authentic reviews from fellow foodies, and share your own experiences to help build the ultimate street food guide."}),e[7]=z,e[8]=P,e[9]=re):(z=e[7],P=e[8],re=e[9]);let ae;e[10]!==F?(ae=y.jsxs("div",{className:"login-hero",children:[F,z,P,re]}),e[10]=F,e[11]=ae):ae=e[11];let ce;e[12]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e[12]=ce):ce=e[12];let C;e[13]!==o?(C=y.jsx("input",{type:"email",id:"email",className:"form-input",placeholder:"juan@example.com",value:o,onChange:B,required:!0}),e[13]=o,e[14]=C):C=e[14];let x;e[15]!==g.email?(x=g.email&&y.jsx("span",{className:"error-message",children:g.email}),e[15]=g.email,e[16]=x):x=e[16];let R;e[17]!==C||e[18]!==x?(R=y.jsxs("div",{className:"form-group",children:[ce,C,x]}),e[17]=C,e[18]=x,e[19]=R):R=e[19];let I;e[20]===Symbol.for("react.memo_cache_sentinel")?(I=y.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e[20]=I):I=e[20];let D;e[21]===Symbol.for("react.memo_cache_sentinel")?(D=de=>m(de.target.value),e[21]=D):D=e[21];let M;e[22]!==h?(M=y.jsxs("div",{className:"form-group",children:[I,y.jsx("input",{type:"password",id:"password",className:"form-input",placeholder:"Enter your password",value:h,onChange:D,required:!0})]}),e[22]=h,e[23]=M):M=e[23];let N;e[24]===Symbol.for("react.memo_cache_sentinel")?(N=y.jsx("button",{type:"submit",className:"submit-btn",children:"Login"}),e[24]=N):N=e[24];let ye;e[25]!==L||e[26]!==R||e[27]!==M?(ye=y.jsxs("form",{className:"email-form",onSubmit:L,noValidate:!0,children:[R,M,N]}),e[25]=L,e[26]=R,e[27]=M,e[28]=ye):ye=e[28];let we;e[29]===Symbol.for("react.memo_cache_sentinel")?(we=y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Don't have an account? ",y.jsx(ci,{to:"/user-sign",className:"signup-link",children:"Sign Up"})]})}),e[29]=we):we=e[29];let G;e[30]!==ye?(G=y.jsxs("main",{className:"login-content",children:[ye,we]}),e[30]=ye,e[31]=G):G=e[31];let ie;e[32]!==G||e[33]!==ae?(ie=y.jsxs("div",{className:"login-wrapper",children:[ae,G]}),e[32]=G,e[33]=ae,e[34]=ie):ie=e[34];let oe;return e[35]!==ie||e[36]!==i?(oe=y.jsx("div",{className:"login-page","data-view":i,children:ie}),e[35]=ie,e[36]=i,e[37]=oe):oe=e[37],oe};function aA(n){return/\S+@\S+\.\S+/.test(n)}function oA(n){return n.trim().toLowerCase()}function lA(n){return{...n,email:""}}const cA=()=>{const n=an.c(9),[e,i]=Q.useState(null);let r;n[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{i(null)},n[0]=r):r=n[0];const o=r;if(e==="admin"){let E;return n[1]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsx(U0,{onBack:o}),n[1]=E):E=n[1],E}if(e==="vendor"){let E;return n[2]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsx(z0,{onBack:o}),n[2]=E):E=n[2],E}if(e==="user"){let E;return n[3]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsx(B0,{onBack:o}),n[3]=E):E=n[3],E}let c;n[4]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsxs("div",{className:"login-hero",children:[y.jsx("h1",{className:"logo-title",children:"StreetBites"}),y.jsx("p",{className:"logo-subtitle",children:"Sign in to write reviews"}),y.jsx("p",{className:"hero-description",children:"Discover the best street food in your area. Share your experiences, read reviews from fellow food lovers, and help others find their next favorite meal on wheels."})]}),n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx("button",{className:"login-btn admin",onClick:()=>i("admin"),children:y.jsx("span",{className:"btn-text",children:"Login as Admin"})}),n[5]=h):h=n[5];let m;n[6]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsx("button",{className:"login-btn vendor",onClick:()=>i("vendor"),children:y.jsx("span",{className:"btn-text",children:"Login as Vendor"})}),n[6]=m):m=n[6];let p;n[7]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsxs("div",{className:"login-buttons",children:[h,m,y.jsx("button",{className:"login-btn email",onClick:()=>i("user"),children:y.jsx("span",{className:"btn-text",children:"Sign In with Email"})})]}),n[7]=p):p=n[7];let g;return n[8]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx("div",{className:"login-page",children:y.jsxs("div",{className:"login-wrapper",children:[c,y.jsxs("main",{className:"login-content",children:[p,y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Don't have an account? ",y.jsx(ci,{to:"/user-sign",className:"signup-link",children:"Sign Up"})]})})]})]})}),n[8]=g):g=n[8],g},uA=()=>{const n=an.c(37),[e,i]=Q.useState(1);let r;n[0]===Symbol.for("react.memo_cache_sentinel")?(r={firstName:"",lastName:"",contactNumber:"",email:"",password:""},n[0]=r):r=n[0];const[o,c]=Q.useState(r);let h;n[1]===Symbol.for("react.memo_cache_sentinel")?(h={},n[1]=h):h=n[1];const[m,p]=Q.useState(h),g=hA,E=fA,T=dA,w=mA;let k;n[2]===Symbol.for("react.memo_cache_sentinel")?(k=G=>{const{name:ie,value:oe}=G.target;if(ie==="contactNumber"){const de=g(oe);c(he=>({...he,contactNumber:de})),E(de)&&p(pA)}else if(ie==="email"){const de=w(oe);c(he=>({...he,email:de})),T(de)&&p(gA)}else c(de=>({...de,[ie]:oe}))},n[2]=k):k=n[2];const B=k;let H;n[3]!==o.contactNumber?(H=G=>{if(G.preventDefault(),!E(o.contactNumber)){p({contactNumber:"Please enter a valid mobile number (09XX XXX XXXX)"});return}p({}),i(2)},n[3]=o.contactNumber,n[4]=H):H=n[4];const L=H;let F;n[5]!==e?(F=()=>{e===2?i(1):window.location.href="/login"},n[5]=e,n[6]=F):F=n[6];const z=F;let P;n[7]!==o?(P=G=>{if(G.preventDefault(),!T(o.email)){p({email:"Please enter a valid email address"});return}p({}),console.log("Admin signup data:",o)},n[7]=o,n[8]=P):P=n[8];const re=P;let ae;n[9]!==z?(ae=y.jsx("button",{className:"back-btn",onClick:z,children:"← Back"}),n[9]=z,n[10]=ae):ae=n[10];let ce;n[11]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsx("h1",{className:"logo-title",children:"Admin Sign Up"}),n[11]=ce):ce=n[11];const C=e===1?"Administrator Registration":"Setup Admin Account";let x;n[12]!==C?(x=y.jsx("p",{className:"logo-subtitle",children:C}),n[12]=C,n[13]=x):x=n[13];const R=e===1?"Create an administrator account. Please provide your personal information to begin the registration process.":"Complete your admin account setup by providing your email and creating a secure password.";let I;n[14]!==R?(I=y.jsx("p",{className:"hero-description",children:R}),n[14]=R,n[15]=I):I=n[15];let D;n[16]!==I||n[17]!==ae||n[18]!==x?(D=y.jsxs("div",{className:"login-hero",children:[ae,ce,x,I]}),n[16]=I,n[17]=ae,n[18]=x,n[19]=D):D=n[19];let M;n[20]!==m.contactNumber||n[21]!==m.email||n[22]!==o.contactNumber||n[23]!==o.email||n[24]!==o.firstName||n[25]!==o.lastName||n[26]!==o.password||n[27]!==L||n[28]!==re||n[29]!==e?(M=e===1?y.jsxs("form",{className:"email-form",onSubmit:L,noValidate:!0,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),y.jsx("input",{type:"text",id:"firstName",name:"firstName",className:"form-input",placeholder:"Juan",value:o.firstName,onChange:B,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),y.jsx("input",{type:"text",id:"lastName",name:"lastName",className:"form-input",placeholder:"Dela Cruz",value:o.lastName,onChange:B,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"contactNumber",className:"form-label",children:"Contact Number"}),y.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",className:"form-input",placeholder:"09XX XXX XXXX",value:o.contactNumber,onChange:B,required:!0}),m.contactNumber&&y.jsx("span",{className:"error-message",children:m.contactNumber})]}),y.jsx("button",{type:"submit",className:"submit-btn",children:"Next"})]}):y.jsxs("form",{className:"email-form",onSubmit:re,noValidate:!0,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),y.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"admin@streetbites.com",value:o.email,onChange:B,required:!0}),m.email&&y.jsx("span",{className:"error-message",children:m.email})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),y.jsx("input",{type:"password",id:"password",name:"password",className:"form-input",placeholder:"Create a strong password",value:o.password,onChange:B,required:!0,minLength:"8"})]}),y.jsx("button",{type:"submit",className:"submit-btn",children:"Create Admin Account"})]}),n[20]=m.contactNumber,n[21]=m.email,n[22]=o.contactNumber,n[23]=o.email,n[24]=o.firstName,n[25]=o.lastName,n[26]=o.password,n[27]=L,n[28]=re,n[29]=e,n[30]=M):M=n[30];let N;n[31]===Symbol.for("react.memo_cache_sentinel")?(N=y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Already have an account? ",y.jsx("a",{href:"/login",className:"signup-link",children:"Sign In"})]})}),n[31]=N):N=n[31];let ye;n[32]!==M?(ye=y.jsxs("main",{className:"login-content",children:[M,N]}),n[32]=M,n[33]=ye):ye=n[33];let we;return n[34]!==D||n[35]!==ye?(we=y.jsx("div",{className:"login-page",children:y.jsxs("div",{className:"login-wrapper",children:[D,ye]})}),n[34]=D,n[35]=ye,n[36]=we):we=n[36],we};function hA(n){const e=n.replace(/\D/g,"");let i=e;return e.length>4&&e.length<=7?i=`${e.slice(0,4)} ${e.slice(4)}`:e.length>7&&(i=`${e.slice(0,4)} ${e.slice(4,7)} ${e.slice(7,11)}`),i}function fA(n){const e=n.replace(/\D/g,"");return/^09\d{9}$/.test(e)}function dA(n){return/\S+@\S+\.\S+/.test(n)}function mA(n){return n.trim().toLowerCase()}function pA(n){return{...n,contactNumber:""}}function gA(n){return{...n,email:""}}const yA=()=>{};var Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=function(n){const e=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_A=function(n){const e=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[i++],h=n[i++],m=n[i++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=n[i++],h=n[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const c=n[o],h=o+1<n.length,m=h?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(w=64)),r.push(i[E],i[T],i[w],i[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(q0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_A(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const c=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const T=o<n.length?i[n.charAt(o)]:64;if(++o,c==null||m==null||g==null||T==null)throw new vA;const w=c<<2|m>>4;if(r.push(w),g!==64){const k=m<<4&240|g>>2;if(r.push(k),T!==64){const B=g<<6&192|T;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(n){const e=q0(n);return H0.encodeByteArray(e,!0)},fh=function(n){return EA(n).replace(/\./g,"")},F0=function(n){try{return H0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=()=>bA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof Pv>"u")return;const n=Pv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F0(n[1]);return e&&JSON.parse(e)},Lh=()=>{try{return yA()||TA()||SA()||wA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},G0=n=>Lh()?.emulatorHosts?.[n],K0=n=>{const e=G0(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Q0=()=>Lh()?.config,Y0=n=>Lh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[fh(JSON.stringify(i)),fh(JSON.stringify(h)),""].join(".")}const jl={};function xA(){const n={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?n.emulator.push(e):n.prod.push(e);return n}function RA(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let Uv=!1;function up(n,e){if(typeof window>"u"||typeof document>"u"||!ha(window.location.host)||jl[n]===e||jl[n]||Uv)return;jl[n]=e;function i(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=xA().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Uv=!0,h()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=RA(r),k=i("text"),B=document.getElementById(k)||document.createElement("span"),H=i("learnmore"),L=document.getElementById(H)||document.createElement("a"),F=i("preprendIcon"),z=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const P=w.element;m(P),E(L,H);const re=g();p(z,F),P.append(z,B,L,re),document.body.appendChild(P)}c?(B.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function NA(){const n=Lh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MA(){return!NA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function jA(){return new Promise((n,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="FirebaseError";class Qi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=LA,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?PA(c,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Qi(o,m,r)}}function PA(n,e){return n.replace(UA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const UA=/\{\$([^}]+)}/g;function zA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function sa(n,e){if(n===e)return!0;const i=Object.keys(n),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=n[o],h=e[o];if(zv(c)&&zv(h)){if(!sa(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function zv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){const e=[];for(const[i,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function BA(n,e){const i=new qA(n,e);return i.subscribe.bind(i)}class qA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");HA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HA(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n){return n&&n._delegate?n._delegate:n}class gr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new AA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&h.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GA(n){return n===ea?void 0:n}function KA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const YA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},$A=Pe.INFO,XA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},WA=(n,e,...i)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=XA[e];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=$A,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const JA=(n,e)=>e.some(i=>n instanceof i);let Bv,qv;function ZA(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ex(){return qv||(qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X0=new WeakMap,Nm=new WeakMap,W0=new WeakMap,mm=new WeakMap,fp=new WeakMap;function tx(n){const e=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",h)},c=()=>{i(hr(n.result)),o()},h=()=>{r(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",h)});return e.then(i=>{i instanceof IDBCursor&&X0.set(i,n)}).catch(()=>{}),fp.set(e,n),e}function nx(n){if(Nm.has(n))return;const e=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",h),n.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",h),n.addEventListener("abort",h)});Nm.set(n,e)}let Im={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Nm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||W0.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ix(n){Im=n(Im)}function sx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=n.call(pm(this),e,...i);return W0.set(r,e.sort?e.sort():[e]),hr(r)}:ex().includes(n)?function(...e){return n.apply(pm(this),e),hr(X0.get(this))}:function(...e){return hr(n.apply(pm(this),e))}}function rx(n){return typeof n=="function"?sx(n):(n instanceof IDBTransaction&&nx(n),JA(n,ZA())?new Proxy(n,Im):n)}function hr(n){if(n instanceof IDBRequest)return tx(n);if(mm.has(n))return mm.get(n);const e=rx(n);return e!==n&&(mm.set(n,e),fp.set(e,n)),e}const pm=n=>fp.get(n);function ax(n,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(n,e),m=hr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(hr(h.result),p.oldVersion,p.newVersion,hr(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ox=["get","getKey","getAll","getAllKeys","count"],lx=["put","add","delete","clear"],gm=new Map;function Hv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=lx.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ox.includes(i)))return;const c=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return gm.set(e,c),c}ix(n=>({...n,get:(e,i,r)=>Hv(e,i)||n.get(e,i,r),has:(e,i)=>!!Hv(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ux(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ux(n){return n.getComponent()?.type==="VERSION"}const Dm="@firebase/app",Fv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new hp("@firebase/app"),hx="@firebase/app-compat",fx="@firebase/analytics-compat",dx="@firebase/analytics",mx="@firebase/app-check-compat",px="@firebase/app-check",gx="@firebase/auth",yx="@firebase/auth-compat",_x="@firebase/database",vx="@firebase/data-connect",Ex="@firebase/database-compat",bx="@firebase/functions",Tx="@firebase/functions-compat",Sx="@firebase/installations",wx="@firebase/installations-compat",Ax="@firebase/messaging",xx="@firebase/messaging-compat",Rx="@firebase/performance",Cx="@firebase/performance-compat",Nx="@firebase/remote-config",Ix="@firebase/remote-config-compat",Dx="@firebase/storage",Ox="@firebase/storage-compat",kx="@firebase/firestore",Mx="@firebase/ai",Vx="@firebase/firestore-compat",jx="firebase",Lx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",Px={[Dm]:"fire-core",[hx]:"fire-core-compat",[dx]:"fire-analytics",[fx]:"fire-analytics-compat",[px]:"fire-app-check",[mx]:"fire-app-check-compat",[gx]:"fire-auth",[yx]:"fire-auth-compat",[_x]:"fire-rtdb",[vx]:"fire-data-connect",[Ex]:"fire-rtdb-compat",[bx]:"fire-fn",[Tx]:"fire-fn-compat",[Sx]:"fire-iid",[wx]:"fire-iid-compat",[Ax]:"fire-fcm",[xx]:"fire-fcm-compat",[Rx]:"fire-perf",[Cx]:"fire-perf-compat",[Nx]:"fire-rc",[Ix]:"fire-rc-compat",[Dx]:"fire-gcs",[Ox]:"fire-gcs-compat",[kx]:"fire-fst",[Vx]:"fire-fst-compat",[Mx]:"fire-vertex","fire-js":"fire-js",[jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,Ux=new Map,km=new Map;function Gv(n,e){try{n.container.addComponent(e)}catch(i){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function ra(n){const e=n.name;if(km.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,n);for(const i of dh.values())Gv(i,n);for(const i of Ux.values())Gv(i,n);return!0}function Ph(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new ec("app","Firebase",zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=Lx;function J0(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const r={name:Om,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(i||(i=Q0()),!i)throw fr.create("no-options");const c=dh.get(o);if(c){if(sa(i,c.options)&&sa(r,c.config))return c;throw fr.create("duplicate-app",{appName:o})}const h=new QA(o);for(const p of km.values())h.addComponent(p);const m=new Bx(i,r,h);return dh.set(o,m),m}function dp(n=Om){const e=dh.get(n);if(!e&&n===Om&&Q0())return J0();if(!e)throw fr.create("no-app",{appName:n});return e}function Mi(n,e,i){let r=Px[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(h.join(" "));return}ra(new gr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebase-heartbeat-database",Hx=1,Hl="firebase-heartbeat-store";let ym=null;function Z0(){return ym||(ym=ax(qx,Hx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(n=>{throw fr.create("idb-open",{originalErrorMessage:n.message})})),ym}async function Fx(n){try{const i=(await Z0()).transaction(Hl),r=await i.objectStore(Hl).get(eE(n));return await i.done,r}catch(e){if(e instanceof Qi)vs.warn(e.message);else{const i=fr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(i.message)}}}async function Kv(n,e){try{const r=(await Z0()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,eE(n)),await r.done}catch(i){if(i instanceof Qi)vs.warn(i.message);else{const r=fr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(r.message)}}}function eE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=1024,Kx=30;class Qx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $x(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Kx){const o=Xx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qv(),{heartbeatsToSend:i,unsentEntries:r}=Yx(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vs.warn(e),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function Yx(n,e=Gx){const i=[];let r=n.slice();for(const o of n){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Yv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?jA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Fx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yv(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function Xx(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n){ra(new gr("platform-logger",e=>new cx(e),"PRIVATE")),ra(new gr("heartbeat",e=>new Qx(e),"PRIVATE")),Mi(Dm,Fv,n),Mi(Dm,Fv,"esm2020"),Mi("fire-js","")}Wx("");function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jx=tE,nE=new ec("auth","Firebase",tE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new hp("@firebase/auth");function Zx(n,...e){mh.logLevel<=Pe.WARN&&mh.warn(`Auth (${fa}): ${n}`,...e)}function Zu(n,...e){mh.logLevel<=Pe.ERROR&&mh.error(`Auth (${fa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,...e){throw mp(n,...e)}function Vi(n,...e){return mp(n,...e)}function iE(n,e,i){const r={...Jx(),[e]:i};return new ec("auth","Firebase",r).create(e,{appName:n.name})}function dr(n){return iE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(n,...e){if(typeof n!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(i,...r)}return nE.create(n,...e)}function Ae(n,e,...i){if(!n)throw mp(e,...i)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zu(e),new Error(e)}function bs(n,e){n||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){return typeof self<"u"&&self.location?.href||""}function eR(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eR()||DA()||"connection"in navigator)?navigator.onLine:!0}function nR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=CA()||OA()}get(){return tR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){bs(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rR=new nc(3e4,6e4);function ic(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function da(n,e,i,r,o={}){return rE(n,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const m=tc({key:n.config.apiKey,...h}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...c};return IA()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ha(n.emulatorConfig.host)&&(g.credentials="include"),sE.fetch()(await oE(n,n.config.apiHost,i,m),g)})}async function rE(n,e,i){n._canInitEmulator=!1;const r={...iR,...e};try{const o=new oR(n),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw Fu(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Fu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Fu(n,"user-disabled",h);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iE(n,E,g);Es(n,E)}}catch(o){if(o instanceof Qi)throw o;Es(n,"network-request-failed",{message:String(o)})}}async function aE(n,e,i,r,o={}){const c=await da(n,e,i,r,o);return"mfaPendingCredential"in c&&Es(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function oE(n,e,i,r){const o=`${e}${i}?${r}`,c=n,h=c.config.emulator?pp(n.config,o):`${n.config.apiScheme}://${o}`;return sR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function aR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),rR.get())})}}function Fu(n,e,i){const r={appName:n.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Vi(n,e,r);return o.customData._tokenResponse=i,o}function Xv(n){return n!==void 0&&n.enterprise!==void 0}class lR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return aR(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cR(n,e){return da(n,"GET","/v2/recaptchaConfig",ic(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(n,e){return da(n,"POST","/v1/accounts:delete",e)}async function ph(n,e){return da(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hR(n,e=!1){const i=en(n),r=await i.getIdToken(e),o=gp(r);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:r,authTime:Ll(_m(o.auth_time)),issuedAtTime:Ll(_m(o.iat)),expirationTime:Ll(_m(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function _m(n){return Number(n)*1e3}function gp(n){const[e,i,r]=n.split(".");if(e===void 0||i===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=F0(i);return o?JSON.parse(o):(Zu("Failed to decode base64 JWT payload"),null)}catch(o){return Zu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Wv(n){const e=gp(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Qi&&fR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(n){const e=n.auth,i=await n.getIdToken(),r=await Fl(n,ph(e,{idToken:i}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?lE(o.providerUserInfo):[],h=pR(n.providerData,c),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,E)}async function mR(n){const e=en(n);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function lE(n){return n.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(n,e){const i=await rE(n,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,h=await oE(n,o,"/v1/token",`key=${c}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return n.emulatorConfig&&ha(n.emulatorConfig.host)&&(p.credentials="include"),sE.fetch()(h,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function yR(n,e){return da(n,"POST","/v2/accounts:revokeToken",ic(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=Wv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await gR(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,h=new lo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new dR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return hR(this,e)}reload(){return mR(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Fl(this,uR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:B,stsTokenManager:H}=i;Ae(T&&H,e,"internal-error");const L=lo.fromJSON(this.name,H);Ae(typeof T=="string",e,"internal-error"),rr(r,e.name),rr(o,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),rr(c,e.name),rr(h,e.name),rr(m,e.name),rr(p,e.name),rr(g,e.name),rr(E,e.name);const F=new ai({uid:T,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:k,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:E});return B&&Array.isArray(B)&&(F.providerData=B.map(z=>({...z}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,i,r=!1){const o=new lo;o.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await gh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?lE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new lo;m.updateFromIdToken(r);const p=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function ps(n){bs(n instanceof Function,"Expected a class definition");let e=Jv.get(n);return e?(bs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Jv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}cE.type="NONE";const Zv=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,i){return`firebase:${n}:${e}:${i}`}class co{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,c),this.fullPersistenceKey=eh("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ph(this.auth,{idToken:e}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new co(ps(Zv),e,r);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||ps(Zv);const h=eh(r,e.config.apiKey,e.name);let m=null;for(const g of i)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await ph(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ai._fromGetAccountInfoResponse(e,w,E)}else T=ai._fromJSON(e,E);g!==c&&(m=T),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new co(c,e,r):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new co(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pE(e))return"Blackberry";if(gE(e))return"Webos";if(hE(e))return"Safari";if((e.includes("chrome/")||fE(e))&&!e.includes("edge/"))return"Chrome";if(mE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(i);if(r?.length===2)return r[1]}return"Other"}function uE(n=Zt()){return/firefox\//i.test(n)}function hE(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fE(n=Zt()){return/crios\//i.test(n)}function dE(n=Zt()){return/iemobile/i.test(n)}function mE(n=Zt()){return/android/i.test(n)}function pE(n=Zt()){return/blackberry/i.test(n)}function gE(n=Zt()){return/webos/i.test(n)}function yp(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _R(n=Zt()){return yp(n)&&!!window.navigator?.standalone}function vR(){return kA()&&document.documentMode===10}function yE(n=Zt()){return yp(n)||mE(n)||gE(n)||pE(n)||/windows phone/i.test(n)||dE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n,e=[]){let i;switch(n){case"Browser":i=e1(Zt());break;case"Worker":i=`${e1(Zt())}-${n}`;break;default:i=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n,e={}){return da(n,"GET","/v2/passwordPolicy",ic(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6;class SR{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??TR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t1(this),this.idTokenSubscription=new t1(this),this.beforeStateQueue=new ER(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ph(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(dr(this));const i=e?en(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bR(this),i=new SR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await yR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(i);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Zx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function To(n){return en(n)}class t1{constructor(e){this.auth=e,this.observer=null,this.addObserver=BA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(n){Uh=n}function vE(n){return Uh.loadJS(n)}function xR(){return Uh.recaptchaEnterpriseScript}function RR(){return Uh.gapiScript}function CR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class NR{constructor(){this.enterprise=new IR}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class IR{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const DR="recaptcha-enterprise",EE="NO_RECAPTCHA";class OR{constructor(e){this.type=DR,this.auth=To(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{cR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new lR(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,h,m){const p=window.grecaptcha;Xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{h(g)}).catch(()=>{h(EE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(m=>{if(!i&&Xv(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xR();p.length!==0&&(p+=m),vE(p).then(()=>{o(m,c,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function n1(n,e,i,r=!1,o=!1){const c=new OR(n);let h;if(o)h=EE;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const m={...e};return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kR(n,e,i,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await n1(n,e,i,i==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await n1(n,e,i,i==="getOobCode");return r(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n,e){const i=Ph(n,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(sa(c,e??{}))return o;Es(o,"already-initialized")}return i.initialize({options:e})}function VR(n,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function jR(n,e,i){const r=To(n);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=bE(e),{host:h,port:m}=LR(e),p=m===null?"":`:${m}`,g={url:`${c}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(sa(g,r.config.emulator)&&sa(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,ha(h)?(cp(`${c}//${h}${p}`),up("Auth",!0)):PR()}function bE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LR(n){const e=bE(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:i1(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:i1(h)}}}function i1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PR(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,i){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(n,e){return aE(n,"POST","/v1/accounts:signInWithIdp",ic(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="http://localhost";class aa extends TE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const h=new aa(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const i=this.buildRequest();return uo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,uo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,uo(e,i)}buildRequest(){const e={requestUri:UR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tc(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends SE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends sc{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return or.credential(i,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends sc{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends sc{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return cr.credential(i,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e){return aE(n,"POST","/v1/accounts:signUp",ic(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await ai._fromIdTokenResponse(e,r,o),h=s1(r);return new oa({user:c,providerId:h,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=s1(r);return new oa({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function s1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Qi{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new yh(e,i,r,o)}}function wE(n,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(n,c,e,r):c})}async function BR(n,e,i=!1){const r=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return oa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e,i=!1){const{auth:r}=n;if(Fn(r.app))return Promise.reject(dr(r));const o="reauthenticate";try{const c=await Fl(n,wE(r,o,e,n),i);Ae(c.idToken,r,"internal-error");const h=gp(c.idToken);Ae(h,r,"internal-error");const{sub:m}=h;return Ae(n.uid===m,r,"user-mismatch"),oa._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(n,e,i=!1){if(Fn(n.app))return Promise.reject(dr(n));const r="signIn",o=await wE(n,r,e),c=await oa._fromIdTokenResponse(n,r,o);return i||await n._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n){const e=To(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GR(n,e,i){if(Fn(n.app))return Promise.reject(dr(n));const r=To(n),h=await kR(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&FR(n),p}),m=await oa._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function KR(n,e,i,r){return en(n).onIdTokenChanged(e,i,r)}function QR(n,e,i){return en(n).beforeAuthStateChanged(e,i)}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1e3,$R=10;class xE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!i&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);vR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$R):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const XR=xE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}RE.type="SESSION";const CE=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new zh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async g=>g(i.origin,c)),p=await WR(m);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const g=_p("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function ZR(n){ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function eC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tC(){return navigator?.serviceWorker?.controller||null}function nC(){return NE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firebaseLocalStorageDb",iC=1,vh="firebaseLocalStorage",DE="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Bh(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function sC(){const n=indexedDB.deleteDatabase(IE);return new rc(n).toPromise()}function jm(){const n=indexedDB.open(IE,iC);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:DE})}catch(o){i(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await sC(),e(await jm()))})})}async function r1(n,e,i){const r=Bh(n,!0).put({[DE]:e,value:i});return new rc(r).toPromise()}async function rC(n,e){const i=Bh(n,!1).get(e),r=await new rc(i).toPromise();return r===void 0?null:r.value}function a1(n,e){const i=Bh(n,!0).delete(e);return new rc(i).toPromise()}const aC=800,oC=3;class OE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>oC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(nC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eC(),!this.activeServiceWorker)return;this.sender=new JR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await r1(e,_h,"1"),await a1(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>r1(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>rC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>a1(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Bh(o,!1).getAll();return new rc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OE.type="LOCAL";const lC=OE;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,e){return e?ps(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends TE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return uo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function uC(n){return HR(n.auth,new vp(n),n.bypassAuthState)}function hC(n){const{auth:e,user:i}=n;return Ae(i,e,"internal-error"),qR(i,new vp(n),n.bypassAuthState)}async function fC(n){const{auth:e,user:i}=n;return Ae(i,e,"internal-error"),BR(i,new vp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return hC;default:Es(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new nc(2e3,1e4);class oo extends kE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dC.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="pendingRedirect",th=new Map;class pC extends kE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await gC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gC(n,e){const i=vC(e),r=_C(n);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function yC(n,e){th.set(n._key(),e)}function _C(n){return ps(n._redirectPersistence)}function vC(n){return eh(mC,n.config.apiKey,n.name)}async function EC(n,e,i=!1){if(Fn(n.app))return Promise.reject(dr(n));const r=To(n),o=cC(r,e),h=await new pC(r,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=600*1e3;class TC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!ME(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bC&&this.cachedEventUids.clear(),this.cachedEventUids.has(o1(e))}saveEventToCache(e){this.cachedEventUids.add(o1(e)),this.lastProcessedEventTime=Date.now()}}function o1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ME({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function SC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e={}){return da(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function RC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wC(n);for(const i of e)try{if(CC(i))return}catch{}Es(n,"unauthorized-domain")}function CC(n){const e=Mm(),{protocol:i,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&r===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===r}if(!xC.test(i))return!1;if(AC.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new nc(3e4,6e4);function l1(){const n=ji().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function IC(n){return new Promise((e,i)=>{function r(){l1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l1(),i(Vi(n,"network-request-failed"))},timeout:NC.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)r();else{const o=CR("iframefcb");return ji()[o]=()=>{gapi.load?r():i(Vi(n,"network-request-failed"))},vE(`${RR()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw nh=null,e})}let nh=null;function DC(n){return nh=nh||IC(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new nc(5e3,15e3),kC="__/auth/iframe",MC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?pp(e,MC):`https://${n.config.authDomain}/${kC}`,r={apiKey:e.apiKey,appName:n.name,v:fa},o=jC.get(n.config.apiHost);o&&(r.eid=o);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${tc(r).slice(1)}`}async function PC(n){const e=await DC(n),i=ji().gapi;return Ae(i,n,"internal-error"),e.open({where:document.body,url:LC(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=Vi(n,"network-request-failed"),m=ji().setTimeout(()=>{c(h)},OC.get());function p(){ji().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,BC=600,qC="_blank",HC="http://localhost";class c1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FC(n,e,i,r=zC,o=BC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...UC,width:r.toString(),height:o.toString(),top:c,left:h},g=Zt().toLowerCase();i&&(m=fE(g)?qC:i),uE(g)&&(e=e||HC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,B])=>`${w}${k}=${B},`,"");if(_R(g)&&m!=="_self")return GC(e||"",m),new c1(null);const T=window.open(e||"",m,E);Ae(T,n,"popup-blocked");try{T.focus()}catch{}return new c1(T)}function GC(n,e){const i=document.createElement("a");i.href=n,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="__/auth/handler",QC="emulator/auth/handler",YC=encodeURIComponent("fac");async function u1(n,e,i,r,o,c){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:r,v:fa,eventId:o};if(e instanceof SE){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",zA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof sc){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await n._getAppCheckToken(),g=p?`#${YC}=${encodeURIComponent(p)}`:"";return`${$C(n)}?${tc(m).slice(1)}${g}`}function $C({config:n}){return n.emulator?pp(n,QC):`https://${n.authDomain}/${KC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CE,this._completeRedirectFn=EC,this._overrideRedirectResult=yC}async _openPopup(e,i,r,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await u1(e,i,r,Mm(),o);return FC(e,c,_p())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await u1(e,i,r,Mm(),o);return ZR(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await PC(e),r=new TC(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(vm,{type:vm},o=>{const c=o?.[0]?.[vm];c!==void 0&&i(!!c),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=RC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return yE()||hE()||yp()}}const WC=XC;var h1="@firebase/auth",f1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eN(n){ra(new gr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_E(n)},g=new wR(r,o,c,p);return VR(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ra(new gr("auth-internal",e=>{const i=To(e.getProvider("auth").getImmediate());return(r=>new JC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(h1,f1,ZC(n)),Mi(h1,f1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=300,nN=Y0("authIdTokenMaxAge")||tN;let d1=null;const iN=n=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>nN)return;const o=i?.token;d1!==o&&(d1=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sN(n=dp()){const e=Ph(n,"auth");if(e.isInitialized())return e.getImmediate();const i=MR(n,{popupRedirectResolver:WC,persistence:[lC,XR,CE]}),r=Y0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=iN(c.toString());QR(i,h,()=>h(i.currentUser)),KR(i,m=>h(m))}}const o=G0("auth");return o&&jR(i,`http://${o}`),i}function rN(){return document.getElementsByTagName("head")?.[0]??document}AR({loadJS(n){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const c=Vi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",rN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eN("Browser");var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,VE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function R(){}R.prototype=x.prototype,C.F=x.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(I,D,M){for(var N=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)N[ye-2]=arguments[ye];return x.prototype[D].apply(I,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,x,R){R||(R=0);const I=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)I[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=C.g[0],R=C.g[1],D=C.g[2];let M=C.g[3],N;N=x+(M^R&(D^M))+I[0]+3614090360&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(D^x&(R^D))+I[1]+3905402710&4294967295,M=x+(N<<12&4294967295|N>>>20),N=D+(R^M&(x^R))+I[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=R+(x^D&(M^x))+I[3]+3250441966&4294967295,R=D+(N<<22&4294967295|N>>>10),N=x+(M^R&(D^M))+I[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(D^x&(R^D))+I[5]+1200080426&4294967295,M=x+(N<<12&4294967295|N>>>20),N=D+(R^M&(x^R))+I[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=R+(x^D&(M^x))+I[7]+4249261313&4294967295,R=D+(N<<22&4294967295|N>>>10),N=x+(M^R&(D^M))+I[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(D^x&(R^D))+I[9]+2336552879&4294967295,M=x+(N<<12&4294967295|N>>>20),N=D+(R^M&(x^R))+I[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=R+(x^D&(M^x))+I[11]+2304563134&4294967295,R=D+(N<<22&4294967295|N>>>10),N=x+(M^R&(D^M))+I[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=M+(D^x&(R^D))+I[13]+4254626195&4294967295,M=x+(N<<12&4294967295|N>>>20),N=D+(R^M&(x^R))+I[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=R+(x^D&(M^x))+I[15]+1236535329&4294967295,R=D+(N<<22&4294967295|N>>>10),N=x+(D^M&(R^D))+I[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^D&(x^R))+I[6]+3225465664&4294967295,M=x+(N<<9&4294967295|N>>>23),N=D+(x^R&(M^x))+I[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(D^M))+I[0]+3921069994&4294967295,R=D+(N<<20&4294967295|N>>>12),N=x+(D^M&(R^D))+I[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^D&(x^R))+I[10]+38016083&4294967295,M=x+(N<<9&4294967295|N>>>23),N=D+(x^R&(M^x))+I[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(D^M))+I[4]+3889429448&4294967295,R=D+(N<<20&4294967295|N>>>12),N=x+(D^M&(R^D))+I[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^D&(x^R))+I[14]+3275163606&4294967295,M=x+(N<<9&4294967295|N>>>23),N=D+(x^R&(M^x))+I[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(D^M))+I[8]+1163531501&4294967295,R=D+(N<<20&4294967295|N>>>12),N=x+(D^M&(R^D))+I[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=M+(R^D&(x^R))+I[2]+4243563512&4294967295,M=x+(N<<9&4294967295|N>>>23),N=D+(x^R&(M^x))+I[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=R+(M^x&(D^M))+I[12]+2368359562&4294967295,R=D+(N<<20&4294967295|N>>>12),N=x+(R^D^M)+I[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^D)+I[8]+2272392833&4294967295,M=x+(N<<11&4294967295|N>>>21),N=D+(M^x^R)+I[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=R+(D^M^x)+I[14]+4259657740&4294967295,R=D+(N<<23&4294967295|N>>>9),N=x+(R^D^M)+I[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^D)+I[4]+1272893353&4294967295,M=x+(N<<11&4294967295|N>>>21),N=D+(M^x^R)+I[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=R+(D^M^x)+I[10]+3200236656&4294967295,R=D+(N<<23&4294967295|N>>>9),N=x+(R^D^M)+I[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^D)+I[0]+3936430074&4294967295,M=x+(N<<11&4294967295|N>>>21),N=D+(M^x^R)+I[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=R+(D^M^x)+I[6]+76029189&4294967295,R=D+(N<<23&4294967295|N>>>9),N=x+(R^D^M)+I[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=M+(x^R^D)+I[12]+3873151461&4294967295,M=x+(N<<11&4294967295|N>>>21),N=D+(M^x^R)+I[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=R+(D^M^x)+I[2]+3299628645&4294967295,R=D+(N<<23&4294967295|N>>>9),N=x+(D^(R|~M))+I[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~D))+I[7]+1126891415&4294967295,M=x+(N<<10&4294967295|N>>>22),N=D+(x^(M|~R))+I[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=R+(M^(D|~x))+I[5]+4237533241&4294967295,R=D+(N<<21&4294967295|N>>>11),N=x+(D^(R|~M))+I[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~D))+I[3]+2399980690&4294967295,M=x+(N<<10&4294967295|N>>>22),N=D+(x^(M|~R))+I[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=R+(M^(D|~x))+I[1]+2240044497&4294967295,R=D+(N<<21&4294967295|N>>>11),N=x+(D^(R|~M))+I[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~D))+I[15]+4264355552&4294967295,M=x+(N<<10&4294967295|N>>>22),N=D+(x^(M|~R))+I[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=R+(M^(D|~x))+I[13]+1309151649&4294967295,R=D+(N<<21&4294967295|N>>>11),N=x+(D^(R|~M))+I[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=M+(R^(x|~D))+I[11]+3174756917&4294967295,M=x+(N<<10&4294967295|N>>>22),N=D+(x^(M|~R))+I[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=R+(M^(D|~x))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.v=function(C,x){x===void 0&&(x=C.length);const R=x-this.blockSize,I=this.C;let D=this.h,M=0;for(;M<x;){if(D==0)for(;M<=R;)o(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<x;)if(I[D++]=C.charCodeAt(M++),D==this.blockSize){o(this,I),D=0;break}}else for(;M<x;)if(I[D++]=C[M++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=x},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)C[x++]=this.g[R]>>>I&255;return C};function c(C,x){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=x(C)}function h(C,x){this.h=x;const R=[];let I=!0;for(let D=C.length-1;D>=0;D--){const M=C[D]|0;I&&M==x||(R[D]=M,I=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?c(C,function(x){return new h([x|0],x<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return L(g(-C));const x=[];let R=1;for(let I=0;C>=R;I++)x[I]=C/R|0,R*=4294967296;return new h(x,0)}function E(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return L(E(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let I=T;for(let M=0;M<C.length;M+=8){var D=Math.min(8,C.length-M);const N=parseInt(C.substring(M,M+D),x);D<8?(D=g(Math.pow(x,D)),I=I.j(D).add(g(N))):(I=I.j(R),I=I.add(g(N)))}return I}var T=p(0),w=p(1),k=p(16777216);n=h.prototype,n.m=function(){if(H(this))return-L(this).m();let C=0,x=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);C+=(I>=0?I:4294967296+I)*x,x*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(B(this))return"0";if(H(this))return"-"+L(this).toString(C);const x=g(Math.pow(C,6));var R=this;let I="";for(;;){const D=re(R,x).g;R=F(R,D.j(x));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,B(R))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function B(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function H(C){return C.h==-1}n.l=function(C){return C=F(this,C),H(C)?-1:B(C)?0:1};function L(C){const x=C.g.length,R=[];for(let I=0;I<x;I++)R[I]=~C.g[I];return new h(R,~C.h).add(w)}n.abs=function(){return H(this)?L(this):this},n.add=function(C){const x=Math.max(this.g.length,C.g.length),R=[];let I=0;for(let D=0;D<=x;D++){let M=I+(this.i(D)&65535)+(C.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);I=N>>>16,M&=65535,N&=65535,R[D]=N<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function F(C,x){return C.add(L(x))}n.j=function(C){if(B(this)||B(C))return T;if(H(this))return H(C)?L(this).j(L(C)):L(L(this).j(C));if(H(C))return L(this.j(L(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const x=this.g.length+C.g.length,R=[];for(var I=0;I<2*x;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<C.g.length;D++){const M=this.i(I)>>>16,N=this.i(I)&65535,ye=C.i(D)>>>16,we=C.i(D)&65535;R[2*I+2*D]+=N*we,z(R,2*I+2*D),R[2*I+2*D+1]+=M*we,z(R,2*I+2*D+1),R[2*I+2*D+1]+=N*ye,z(R,2*I+2*D+1),R[2*I+2*D+2]+=M*ye,z(R,2*I+2*D+2)}for(C=0;C<x;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=x;C<2*x;C++)R[C]=0;return new h(R,0)};function z(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function P(C,x){this.g=C,this.h=x}function re(C,x){if(B(x))throw Error("division by zero");if(B(C))return new P(T,T);if(H(C))return x=re(L(C),x),new P(L(x.g),L(x.h));if(H(x))return x=re(C,L(x)),new P(L(x.g),x.h);if(C.g.length>30){if(H(C)||H(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,I=x;I.l(C)<=0;)R=ae(R),I=ae(I);var D=ce(R,1),M=ce(I,1);for(I=ce(I,2),R=ce(R,2);!B(I);){var N=M.add(I);N.l(C)<=0&&(D=D.add(R),M=N),I=ce(I,1),R=ce(R,1)}return x=F(C,D.j(x)),new P(D,x)}for(D=T;C.l(x)>=0;){for(R=Math.max(1,Math.floor(C.m()/x.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=g(R),N=M.j(x);H(N)||N.l(C)>0;)R-=I,M=g(R),N=M.j(x);B(M)&&(M=w),D=D.add(M),C=F(C,N)}return new P(D,C)}n.B=function(C){return re(this,C).h},n.and=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let I=0;I<x;I++)R[I]=this.i(I)&C.i(I);return new h(R,this.h&C.h)},n.or=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let I=0;I<x;I++)R[I]=this.i(I)|C.i(I);return new h(R,this.h|C.h)},n.xor=function(C){const x=Math.max(this.g.length,C.g.length),R=[];for(let I=0;I<x;I++)R[I]=this.i(I)^C.i(I);return new h(R,this.h^C.h)};function ae(C){const x=C.g.length+1,R=[];for(let I=0;I<x;I++)R[I]=C.i(I)<<1|C.i(I-1)>>>31;return new h(R,C.h)}function ce(C,x){const R=x>>5;x%=32;const I=C.g.length-R,D=[];for(let M=0;M<I;M++)D[M]=x>0?C.i(M+R)>>>x|C.i(M+R+1)<<32-x:C.i(M+R);return new h(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,mr=h}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Ol,LE,ih,Lm,PE,UE,zE;(function(){var n,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var _=0;_<u.length;++_){var b=u[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function o(u,_){if(_)e:{var b=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in b))break e;b=b[q]}u=u[u.length-1],A=b[u],_=_(A),_!=A&&_!=null&&e(b,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var b=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&b.push([A,_[A]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function m(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function p(u,_,b){return u.call.apply(u.bind,arguments)}function g(u,_,b){return g=p,g.apply(null,arguments)}function E(u,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function T(u,_){function b(){}b.prototype=_.prototype,u.Z=_.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,q,X){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return _.prototype[q].apply(A,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const _=u.length;if(_>0){const b=Array(_);for(let A=0;A<_;A++)b[A]=u[A];return b}return[]}function B(u,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=u.length||0;const X=q.length||0;u.length=b+X;for(let le=0;le<X;le++)u[b+le]=q[le]}else u.push(q)}}class H{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(u){h.setTimeout(()=>{throw u},0)}function F(){var u=C;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,b){const A=P.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var P=new H(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ce=!1,C=new z,x=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(R)}};function R(){for(var u;u=F();){try{u.h.call(u.g)}catch(b){L(b)}var _=P;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}ce=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,_),h.removeEventListener("test",b,_)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ye(u,_){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}T(ye,D),ye.prototype.init=function(u,_){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(b=="mouseover"?_=u.fromElement:b=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,_,b,A,q){this.listener=u,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=q,this.key=++G,this.da=this.fa=!1}function oe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function de(u,_,b){for(const A in u)_.call(b,u[A],A,u)}function he(u,_){for(const b in u)_.call(void 0,u[b],b,u)}function V(u){const _={};for(const b in u)_[b]=u[b];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(u,_){let b,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(b in A)u[b]=A[b];for(let X=0;X<Z.length;X++)b=Z[X],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,_,b,A,q){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const le=xe(u,_,A,q);return le>-1?(_=u[le],b||(_.fa=!1)):(_=new ie(_,this.src,X,!!A,q),_.fa=b,u.push(_)),_};function Te(u,_){const b=_.type;if(b in u.g){var A=u.g[b],q=Array.prototype.indexOf.call(A,_,void 0),X;(X=q>=0)&&Array.prototype.splice.call(A,q,1),X&&(oe(_),u.g[b].length==0&&(delete u.g[b],u.h--))}}function xe(u,_,b,A){for(let q=0;q<u.length;++q){const X=u[q];if(!X.da&&X.listener==_&&X.capture==!!b&&X.ha==A)return q}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),ot={};function Ye(u,_,b,A,q){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Ye(u,_[X],b,A,q);return null}return b=hi(b),u&&u[we]?u.J(_,b,m(A)?!!A.capture:!1,q):on(u,_,b,!1,A,q)}function on(u,_,b,A,q,X){if(!_)throw Error("Invalid event type");const le=m(q)?!!q.capture:!!q;let Ie=ln(u);if(Ie||(u[ke]=Ie=new fe(u)),b=Ie.add(_,b,A,le,X),b.proxy)return b;if(A=ui(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)M||(q=le),q===void 0&&(q=!1),u.addEventListener(_.toString(),A,q);else if(u.attachEvent)u.attachEvent(tn(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ui(){function u(b){return _.call(u.src,u.listener,b)}const _=Nn;return u}function Kn(u,_,b,A,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)Kn(u,_[X],b,A,q);else A=m(A)?!!A.capture:!!A,b=hi(b),u&&u[we]?(u=u.i,X=String(_).toString(),X in u.g&&(_=u.g[X],b=xe(_,b,A,q),b>-1&&(oe(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete u.g[X],u.h--)))):u&&(u=ln(u))&&(_=u.g[_.toString()],u=-1,_&&(u=xe(_,b,A,q)),(b=u>-1?_[u]:null)&&Qn(b))}function Qn(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[we])Te(_.i,u);else{var b=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(b,A,u.capture):_.detachEvent?_.detachEvent(tn(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=ln(_))?(Te(b,u),b.h==0&&(b.src=null,_[ke]=null)):oe(u)}}}function tn(u){return u in ot?ot[u]:ot[u]="on"+u}function Nn(u,_){if(u.da)u=!0;else{_=new ye(_,this);const b=u.listener,A=u.ha||u.src;u.fa&&Qn(u),u=b.call(A,_)}return u}function ln(u){return u=u[ke],u instanceof fe?u:null}var In="__closure_events_fn_"+(Math.random()*1e9>>>0);function hi(u){return typeof u=="function"?u:(u[In]||(u[In]=function(_){return u.handleEvent(_)}),u[In])}function Et(){I.call(this),this.i=new fe(this),this.M=this,this.G=null}T(Et,I),Et.prototype[we]=!0,Et.prototype.removeEventListener=function(u,_,b,A){Kn(this,u,_,b,A)};function kt(u,_){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new D(_,u);else if(_ instanceof D)_.target=_.target||u;else{var q=_;_=new D(A,u),ue(_,q)}q=!0;let X,le;if(b)for(le=b.length-1;le>=0;le--)X=_.g=b[le],q=xs(X,A,!0,_)&&q;if(X=_.g=u,q=xs(X,A,!0,_)&&q,q=xs(X,A,!1,_)&&q,b)for(le=0;le<b.length;le++)X=_.g=b[le],q=xs(X,A,!1,_)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const b=u.g[_];for(let A=0;A<b.length;A++)oe(b[A]);delete u.g[_],u.h--}}this.G=null},Et.prototype.J=function(u,_,b,A){return this.i.add(String(u),_,!1,b,A)},Et.prototype.K=function(u,_,b,A){return this.i.add(String(u),_,!0,b,A)};function xs(u,_,b,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let X=0;X<_.length;++X){const le=_[X];if(le&&!le.da&&le.capture==b){const Ie=le.listener,pt=le.ha||le.src;le.fa&&Te(u.i,le),q=Ie.call(pt,A)!==!1&&q}}return q&&!A.defaultPrevented}function rf(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:h.setTimeout(u,_||0)}function mc(u){u.g=rf(()=>{u.g=null,u.i&&(u.i=!1,mc(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class nn extends I{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(u){I.call(this),this.h=u,this.g={}}T(Ar,I);var Co=[];function No(u){de(u.g,function(_,b){this.g.hasOwnProperty(b)&&Qn(_)},u),u.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),No(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=h.JSON.stringify,af=h.JSON.parse,pc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function gc(){}function yc(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}T(zt,D);function Dn(){D.call(this,"c")}T(Dn,D);var mt={},_c=null;function ga(){return _c=_c||new Et}mt.Ia="serverreachability";function vc(u){D.call(this,mt.Ia,u)}T(vc,D);function fi(u){const _=ga();kt(_,new vc(_))}mt.STAT_EVENT="statevent";function xr(u,_){D.call(this,mt.STAT_EVENT,u),this.stat=_}T(xr,D);function bt(u){const _=ga();kt(_,new xr(_,u))}mt.Ja="timingevent";function di(u,_){D.call(this,mt.Ja,u),this.size=_}T(di,D);function mi(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},_)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function of(u,_,b,A,q,X){u.info(function(){if(u.g)if(X){var le="",Ie=X.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var pt=Ie[Ge].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const Vn=lt.split("_");le=Vn.length>=2&&Vn[1]=="type"?le+(lt+"="+pt+"&"):le+(lt+"=redacted&")}}}else le=null;else le=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+b+`
`+le})}function Ec(u,_,b,A,q,X,le){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+b+`
`+X+" "+le})}function pi(u,_,b,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+lf(u,b)+(A?" "+A:"")})}function Rr(u,_){u.info(function(){return"TIMEOUT: "+_})}$n.prototype.info=function(){};function lf(u,_){if(!u.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var b=X[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Rs(X)}catch{return _}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Io={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function Nr(){}T(Nr,gc),Nr.prototype.g=function(){return new XMLHttpRequest},Do=new Nr;function $i(u){return encodeURIComponent(String(u))}function bc(u){var _=1;u=u.split(":");const b=[];for(;_>0&&u.length;)b.push(u.shift()),_--;return u.length&&b.push(u.join(":")),b}function Xn(u,_,b,A){this.j=u,this.i=_,this.l=b,this.S=A||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function gi(u,_,b){u.M=1,u.A=Ir(wt(_)),u.u=b,u.R=!0,ya(u,null)}function ya(u,_){u.F=Date.now(),yi(u),u.B=wt(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ba(b.i,"t",A),u.C=0,b=u.j.L,u.h=new Wn,u.g=jc(u.j,b?_:null,!u.u),u.P>0&&(u.O=new nn(g(u.Y,u,u.g),u.P)),_=u.V,b=u.g,A=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Co[0]=q.toString()),q=Co);for(let X=0;X<q.length;X++){const le=Ye(b,q[X],A||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),fi(),of(u.i,u.v,u.B,u.l,u.S,u.u)}Xn.prototype.ba=function(u){u=u.target;const _=this.O;_&&ei(u)==3?_.j():this.Y(u)},Xn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ei(this.g),pt=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ie!=4||pt==7||(pt==8||Ge<=0?fi(3):fi(2)),_i(this);var _=this.g.ca();this.X=_;var b=cf(this);if(this.o=_==200,Ec(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var X=A;break t}}X=null}if(u=X)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,bt(12),_n(this),On(this);break e}}if(this.R){u=!0;let lt;for(;!this.K&&this.C<b.length;)if(lt=Sc(this,b),lt==jt){Ie==4&&(this.m=4,bt(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,bt(15),pi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,lt,null),vi(this,lt);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,bt(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,b,"[Invalid Chunked Response]"),_n(this),On(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ko(le),le.P=!0,bt(11))}}else pi(this.i,this.l,b,null),vi(this,b);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?Oc(this.j,this):(this.o=!1,yi(this)))}else Wi(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),On(this)}}}catch{}finally{}};function cf(u){if(!Tc(u))return u.g.la();const _=Bt(u.g);if(_==="")return"";let b="";const A=_.length,q=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),On(u),"";u.h.i=new h.TextDecoder}for(let X=0;X<A;X++)u.h.h=!0,b+=u.h.i.decode(_[X],{stream:!(q&&X==A-1)});return _.length=0,u.h.g+=b,u.C=0,u.h.g}function Tc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Sc(u,_){var b=u.C,A=_.indexOf(`
`,b);return A==-1?jt:(b=Number(_.substring(b,A)),isNaN(b)?Tt:(A+=1,A+b>_.length?jt:(_=_.slice(A,A+b),u.C=A+b,_)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function yi(u){u.T=Date.now()+u.H,_a(u,u.H)}function _a(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(g(u.aa,u),_)}function _i(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Rr(this.i,this.B),this.M!=2&&(fi(),bt(17)),_n(this),this.m=2,On(this)):_a(this,this.T-u)};function On(u){u.j.I==0||u.K||Oc(u.j,u)}function _n(u){_i(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,No(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function vi(u,_){try{var b=u.j;if(b.I!=0&&(b.g==u||bi(b.h,u))){if(!u.L&&bi(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)xa(b),Vs(b);else break e;Lr(b),bt(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=mi(g(b.Va,b),6e3));Ei(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ri(b,11)}else if((u.L||b.g==u)&&xa(b),!N(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Ge=q[_];const lt=Ge[0];if(!(lt<=b.K))if(b.K=lt,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(b.ka=Vn,b.j.info("VER="+b.ka));const Ci=Ge[4];Ci!=null&&(b.za=Ci,b.j.info("SVER="+b.za));const ti=Ge[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ni=u.g;if(ni){const Pr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var X=A.h;X.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Mo(X,X.h),X.h=null))}if(A.G){const Ra=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(A.wa=Ra,$e(A.J,A.G,Ra))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var le=u;if(A.na=Vc(A,A.L?A.ba:null,A.W),le.L){Vo(A.h,le);var Ie=le,pt=A.O;pt&&(Ie.H=pt),Ie.D&&(_i(Ie),yi(Ie)),A.g=le}else Ic(A);b.i.length>0&&xi(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Ri(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ri(b,7):Fo(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}fi(4)}catch{}}var St=class{constructor(u,_){this.g=u,this.map=_}};function Oo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ei(u){return u.h?1:u.g?u.g.size:0}function bi(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Mo(u,_){u.g?u.g.add(_):u.h=_}function Vo(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Oo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const b of u.g.values())_=_.concat(b.G);return _}return k(u.i)}var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(u,_){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let q,X=null;A>=0?(q=u[b].substring(0,A),X=u[b].substring(A+1)):q=u[b],_(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof vn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,Cs(this,u.u),this.h=u.h,Lo(this,Cc(u.i)),this.m=u.m):u&&(_=String(u).match(wc))?(this.l=!1,Lt(this,_[1]||"",!0),this.o=Ti(_[2]||""),this.g=Ti(_[3]||"",!0),Cs(this,_[4]),this.h=Ti(_[5]||"",!0),Lo(this,_[6]||"",!0),this.m=Ti(_[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}vn.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Dr(_,Ea,!0),":");var b=this.g;return(b||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Dr(_,Ea,!0),"@"),u.push($i(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Dr(b,b.charAt(0)=="/"?Po:Ac,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Dr(b,xc)),u.join("")},vn.prototype.resolve=function(u){const _=wt(this);let b=!!u.j;b?Lt(_,u.j):b=!!u.o,b?_.o=u.o:b=!!u.g,b?_.g=u.g:b=u.u!=null;var A=u.h;if(b)Cs(_,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=_.h.lastIndexOf("/");q!=-1&&(A=_.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let le=0;le<q.length;){const Ie=q[le++];Ie=="."?A&&le==q.length&&X.push(""):Ie==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),A&&le==q.length&&X.push("")):(X.push(Ie),A=!0)}A=X.join("/")}else A=q}return b?_.h=A:b=u.i.toString()!=="",b?Lo(_,Cc(u.i)):b=!!u.m,b&&(_.m=u.m),_};function wt(u){return new vn(u)}function Lt(u,_,b){u.j=b?Ti(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Cs(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function Lo(u,_,b){_ instanceof Is?(u.i=_,Ta(u.i,u.l)):(b||(_=Dr(_,Ns)),u.i=new Is(_,u.l))}function $e(u,_,b){u.i.set(_,b)}function Ir(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,_,b){return typeof u=="string"?(u=encodeURI(u).replace(_,cn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,Ac=/[#\?:]/g,Po=/[#\?]/g,Ns=/[#\?@]/g,xc=/#/g;function Is(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&va(u.i,function(_,b){u.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Is.prototype,n.add=function(u,_){un(this),this.i=null,u=Ds(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(_),this.h+=1,this};function Rc(u,_){un(u),_=Ds(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Uo(u,_){return un(u),_=Ds(u,_),u.g.has(_)}n.forEach=function(u,_){un(this),this.g.forEach(function(b,A){b.forEach(function(q){u.call(_,q,A,this)},this)},this)};function zo(u,_){un(u);let b=[];if(typeof _=="string")Uo(u,_)&&(b=b.concat(u.g.get(Ds(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)b=b.concat(u[_]);return b}n.set=function(u,_){return un(this),this.i=null,u=Ds(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},n.get=function(u,_){return u?(u=zo(this,u),u.length>0?String(u[0]):_):_};function ba(u,_,b){Rc(u,_),b.length>0&&(u.i=null,u.g.set(Ds(u,_),k(b)),u.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var b=_[A];const q=$i(b);b=zo(this,b);for(let X=0;X<b.length;X++){let le=q;b[X]!==""&&(le+="="+$i(b[X])),u.push(le)}}return this.i=u.join("&")};function Cc(u){const _=new Is;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Ds(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Ta(u,_){_&&!u.j&&(un(u),u.i=null,u.g.forEach(function(b,A){const q=A.toLowerCase();A!=q&&(Rc(this,A),ba(this,q,b))},u)),u.j=_}function Jn(u,_){const b=new $n;if(h.Image){const A=new Image;A.onload=E(kn,b,"TestLoadImage: loaded",!0,_,A),A.onerror=E(kn,b,"TestLoadImage: error",!1,_,A),A.onabort=E(kn,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=E(kn,b,"TestLoadImage: timeout",!1,_,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function Bo(u,_){const b=new $n,A=new AbortController,q=setTimeout(()=>{A.abort(),kn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?kn(b,"TestPingServer: ok",!0,_):kn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),kn(b,"TestPingServer: error",!1,_)})}function kn(u,_,b,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(b)}catch{}}function Os(){this.g=new pc}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}T(Si,gc),Si.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,_){Et.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Or,Et),n=Or.prototype,n.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,Zn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||h).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?ks(this):Zn(this),this.readyState==3&&Sa(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},n.Na=function(u){this.g&&(this.response=u,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}n.setRequestHeader=function(u,_){this.A.append(u,_)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=_.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mn(u){let _="";return de(u,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function kr(u,_,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Mn(b),typeof u=="string"?b!=null&&$i(b):$e(u,_,b))}function Je(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,Et);var wi=/^https?$/i,qo=["POST","PUT"];n=Je.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(X){Mr(this,X);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)b.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())b.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(qo,_,void 0)>=0)||A||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of b)this.g.setRequestHeader(X,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Mr(this,X)}};function Mr(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Ho(u),Xi(u)}function Ho(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,kt(this,"complete"),kt(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},n.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(kt(u,"readystatechange"),ei(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var A;if(A=X===0){let le=String(u.D).match(wc)[1]||null;!le&&h.self&&h.self.location&&(le=h.self.location.protocol.slice(0,-1)),A=!wi.test(le?le.toLowerCase():"")}b=A}if(b)kt(u,"complete"),kt(u,"success");else{u.o=6;try{var q=ei(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Ho(u)}}finally{Xi(u)}}}}function Xi(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,_||kt(u,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}n.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),af(_)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const _={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(N(u[A]))continue;var b=bc(u[A]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=_[q]||[];_[q]=X,X.push(b)}he(_,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||_}function Ms(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ms.prototype,n.ka=8,n.I=1,n.connect=function(u,_,b,A){bt(0),this.W=u,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Vc(this,null,this.W),xi(this)};function Fo(u){if(wa(u),u.I==3){var _=u.V++,b=wt(u.J);if($e(b,"SID",u.M),$e(b,"RID",_),$e(b,"TYPE","terminate"),jr(u,b),_=new Xn(u,u.j,_),_.M=2,_.A=Ir(wt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=_.A,b=!0),b||(_.g=jc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),yi(_)}Mc(u)}function Vs(u){u.g&&(Ko(u),u.g.cancel(),u.g=null)}function wa(u){Vs(u),u.v&&(h.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function xi(u){if(!ko(u.h)&&!u.m){u.m=!0;var _=u.Ea;ae||x(),ce||(ae(),ce=!0),C.add(_,u),u.D=0}}function Aa(u,_){return Ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(g(u.Ea,u,_),kc(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Xn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=V(X),ue(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Nc(this,q,_),b=wt(this.J),$e(b,"RID",u),$e(b,"CVER",22),this.G&&$e(b,"X-HTTP-Session-Id",this.G),jr(this,b),X&&(this.R?_="headers="+$i(Mn(X))+"&"+_:this.u&&kr(b,this.u,X)),Mo(this.h,q),this.Ra&&$e(b,"TYPE","init"),this.S?($e(b,"$req",_),$e(b,"SID","null"),q.U=!0,gi(q,b,null)):gi(q,b,_),this.I=2}}else this.I==3&&(u?Go(this,u):this.i.length==0||ko(this.h)||Go(this))};function Go(u,_){var b;_?b=_.l:b=u.V++;const A=wt(u.J);$e(A,"SID",u.M),$e(A,"RID",b),$e(A,"AID",u.K),jr(u,A),u.u&&u.o&&kr(A,u.u,u.o),b=new Xn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),_&&(u.i=_.G.concat(u.i)),_=Nc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Mo(u.h,b),gi(b,A,_)}function jr(u,_){u.H&&de(u.H,function(b,A){$e(_,A,b)}),u.l&&de({},function(b,A){$e(_,A,b)})}function Nc(u,_,b){b=Math.min(u.i.length,b);const A=u.l?g(u.l.Ka,u.l,u):null;e:{var q=u.i;let Ie=-1;for(;;){const pt=["count="+b];Ie==-1?b>0?(Ie=q[0].g,pt.push("ofs="+Ie)):Ie=0:pt.push("ofs="+Ie);let Ge=!0;for(let lt=0;lt<b;lt++){var X=q[lt].g;const Vn=q[lt].map;if(X-=Ie,X<0)Ie=Math.max(0,q[lt].g-100),Ge=!1;else try{X="req"+X+"_"||"";try{var le=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ci,ti]of le){let ni=ti;m(ti)&&(ni=Rs(ti)),pt.push(X+Ci+"="+encodeURIComponent(ni))}}catch(Ci){throw pt.push(X+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(Vn)}}if(Ge){le=pt.join("&");break e}}le=void 0}return u=u.i.splice(0,b),_.G=u,le}function Ic(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;ae||x(),ce||(ae(),ce=!0),C.add(_,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(g(u.Da,u),kc(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(g(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Vs(this),Dc(this))};function Ko(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Dc(u){u.g=new Xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=wt(u.na);$e(_,"RID","rpc"),$e(_,"SID",u.M),$e(_,"AID",u.K),$e(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(_,"TO",u.ia),$e(_,"TYPE","xmlhttp"),jr(u,_),u.u&&u.o&&kr(_,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ir(wt(_)),b.u=null,b.R=!0,ya(b,u)}n.Va=function(){this.C!=null&&(this.C=null,Vs(this),Lr(this),bt(19))};function xa(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Oc(u,_){var b=null;if(u.g==_){xa(u),Ko(u),u.g=null;var A=2}else if(bi(u.h,_))b=_.G,Vo(u.h,_),A=1;else return;if(u.I!=0){if(_.o)if(A==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=u.D;A=ga(),kt(A,new di(A,b)),xi(u)}else Ic(u);else if(q=_.m,q==3||q==0&&_.X>0||!(A==1&&Aa(u,_)||A==2&&Lr(u)))switch(b&&b.length>0&&(_=u.h,_.i=_.i.concat(b)),q){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function kc(u,_){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*_}function Ri(u,_){if(u.j.info("Error code "+_),_==2){var b=g(u.bb,u),A=u.Ua;const q=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(A,"https"),Ir(A),q?Jn(A.toString(),b):Bo(A.toString(),b)}else bt(2);u.I=0,u.l&&u.l.pa(_),Mc(u),wa(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Mc(u){if(u.I=0,u.ja=[],u.l){const _=jo(u.h);(_.length!=0||u.i.length!=0)&&(B(u.ja,_),B(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function Vc(u,_,b){var A=b instanceof vn?wt(b):new vn(b);if(A.g!="")_&&(A.g=_+"."+A.g),Cs(A,A.u);else{var q=h.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const X=new vn(null);A&&Lt(X,A),_&&(X.g=_),q&&Cs(X,q),b&&(X.h=b),A=X}return b=u.G,_=u.wa,b&&_&&$e(A,b,_),$e(A,"VER",u.ka),jr(u,A),A}function jc(u,_,b){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new Je(new Si({ab:b})):new Je(u.ma),_.Fa(u.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}n=Lc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function js(){}js.prototype.g=function(u,_){return new sn(u,_)};function sn(u,_){Et.call(this),this.g=new Ms(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!N(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Ji(this)}T(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Fo(this.g)},sn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Rs(u),u=b);_.i.push(new St(_.Ya++,u)),_.I==3&&xi(_)},sn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,sn.Z.N.call(this)};function Pc(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const b in _){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}T(Pc,zt);function Uc(){Dn.call(this),this.status=1}T(Uc,Dn);function Ji(u){this.g=u}T(Ji,Lc),Ji.prototype.ra=function(){kt(this.g,"a")},Ji.prototype.qa=function(u){kt(this.g,new Pc(u))},Ji.prototype.pa=function(u){kt(this.g,new Uc)},Ji.prototype.oa=function(){kt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,zE=function(){return new js},UE=function(){return ga()},PE=mt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,ih=Cr,Io.COMPLETE="complete",LE=Io,yc.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Ol=yc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,jE=Je}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const p1="@firebase/firestore",g1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new hp("@firebase/firestore");function io(){return la.logLevel}function pe(n,...e){if(la.logLevel<=Pe.DEBUG){const i=e.map(Ep);la.debug(`Firestore (${So}): ${n}`,...i)}}function Ts(n,...e){if(la.logLevel<=Pe.ERROR){const i=e.map(Ep);la.error(`Firestore (${So}): ${n}`,...i)}}function mo(n,...e){if(la.logLevel<=Pe.WARN){const i=e.map(Ep);la.warn(`Firestore (${So}): ${n}`,...i)}}function Ep(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,BE(n,r,i)}function BE(n,e,i){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Ts(r),new Error(r)}function Qe(n,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||BE(e,o,r)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Qi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Wt.UNAUTHENTICATED)))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qe(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),h()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new qE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class cN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new cN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=fN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function Pm(n,e){const i=Math.min(n.length,e.length);for(let r=0;r<i;r++){const o=n.charAt(r),c=e.charAt(r);if(o!==c)return Em(o)===Em(c)?Ue(o,c):Em(o)?1:-1}return Ue(n.length,e.length)}const dN=55296,mN=57343;function Em(n){const e=n.charCodeAt(0);return e>=dN&&e<=mN}function po(n,e,i){return n.length===e.length&&n.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="__name__";class ki{constructor(e,i,r){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Se(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=ki.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ue(e.length,i.length)}static compareSegments(e,i){const r=ki.isNumericId(e),o=ki.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ki.extractNumericId(e).compare(ki.extractNumericId(i)):Pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class it extends ki{construct(e,i,r){return new it(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const pN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends ki{construct(e,i,r){return new Qt(e,i,r)}static isValidIdentifier(e){return pN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_1}static keyField(){return new Qt([_1])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(c(),o++)}if(c(),h)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(i)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(it.fromString(e))}static fromName(e){return new Ee(it.fromString(e).popFirst(5))}static empty(){return new Ee(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(n,e,i){if(!i)throw new me(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gN(n,e,i,r){if(e===!0&&r===!0)throw new me(ne.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function v1(n){if(!Ee.isDocumentKey(n))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function E1(n){if(Ee.isDocumentKey(n))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Ss(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qh(n);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,e){const i={typeString:n};return e&&(i.value=e),i}function ac(n,e){if(!FE(n))throw new me(ne.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const h=n[r];if(o&&typeof h!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new me(ne.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=-62135596800,T1=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*T1);return new at(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<b1)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T1}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ac(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Ot("string",at._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new at(0,0))}static max(){return new Re(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function yN(n,e){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new at(i+1,0):new at(i,r));return new yr(o,Ee.empty(),e)}function _N(n){return new yr(n.readTime,n.key,Gl)}class yr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new yr(Re.min(),Ee.empty(),Gl)}static max(){return new yr(Re.max(),Ee.empty(),Gl)}}function vN(n,e){let i=n.readTime.compareTo(e.readTime);return i!==0?i:(i=Ee.comparator(n.documentKey,e.documentKey),i!==0?i:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==EN)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new se(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof se?i:se.resolve(i)}catch(i){return se.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):se.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):se.reject(i)}static resolve(e){return new se(((i,r)=>{i(e)}))}static reject(e){return new se(((i,r)=>{r(e)}))}static waitFor(e){return new se(((i,r)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&i()}),(p=>r(p)))})),h=!0,c===o&&i()}))}static or(e){let i=se.resolve(!1);for(const r of e)i=i.next((o=>o?se.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new se(((r,o)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;i(e[g]).next((E=>{h[g]=E,++m,m===c&&r(h)}),(E=>o(E)))}}))}static doWhile(e,i){return new se(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function TN(n){const e=n.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ao(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=-1;function Fh(n){return n==null}function Eh(n){return n===0&&1/n==-1/0}function SN(n){return typeof n=="number"&&Number.isInteger(n)&&!Eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="";function wN(n){let e="";for(let i=0;i<n.length;i++)e.length>0&&(e=S1(e)),e=AN(n.get(i),e);return S1(e)}function AN(n,e){let i=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":i+="";break;case GE:i+="";break;default:i+=c}}return i}function S1(n){return n+GE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){let e=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e++;return e}function Sr(n,e){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(i,n[i])}function KE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new Kt(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let i=new Vt(Qt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Rn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new QE("Invalid base64 string: "+c):c}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Qe(!!n,39018),typeof n=="string"){let e=0;const i=xN.exec(n);if(Qe(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vr(n){return typeof n=="string"?Yt.fromBase64String(n):Yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="server_timestamp",$E="__type__",XE="__previous_value__",WE="__local_write_time__";function Sp(n){return(n?.mapValue?.fields||{})[$E]?.stringValue===YE}function Gh(n){const e=n.mapValue.fields[XE];return Sp(e)?Gh(e):e}function Kl(n){const e=_r(n.mapValue.fields[WE].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,i,r,o,c,h,m,p,g,E){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const bh="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||bh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",CN="__max__",Qu={mapValue:{}},ZE="__vector__",Th="value";function Er(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sp(n)?4:IN(n)?9007199254740991:NN(n)?10:11:Se(28295,{value:n})}function Hi(n,e){if(n===e)return!0;const i=Er(n);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kl(n).isEqual(Kl(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=_r(o.timestampValue),m=_r(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return vr(o.bytesValue).isEqual(vr(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=_t(o.doubleValue),m=_t(c.doubleValue);return h===m?Eh(h)===Eh(m):isNaN(h)&&isNaN(m)}return!1})(n,e);case 9:return po(n.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(w1(h)!==w1(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Hi(h[p],m[p])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Yl(n,e){return(n.values||[]).find((i=>Hi(i,e)))!==void 0}function go(n,e){if(n===e)return 0;const i=Er(n),r=Er(e);if(i!==r)return Ue(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=_t(c.integerValue||c.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,e);case 3:return x1(n.timestampValue,e.timestampValue);case 4:return x1(Kl(n),Kl(e));case 5:return Pm(n.stringValue,e.stringValue);case 6:return(function(c,h){const m=vr(c),p=vr(h);return m.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ue(m[g],p[g]);if(E!==0)return E}return Ue(m.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Ue(_t(c.latitude),_t(h.latitude));return m!==0?m:Ue(_t(c.longitude),_t(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return R1(n.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},p=h.fields||{},g=m[Th]?.arrayValue,E=p[Th]?.arrayValue,T=Ue(g?.values?.length||0,E?.values?.length||0);return T!==0?T:R1(g,E)})(n.mapValue,e.mapValue);case 11:return(function(c,h){if(c===Qu.mapValue&&h===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(h===Qu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Pm(p[T],E[T]);if(w!==0)return w;const k=go(m[p[T]],g[E[T]]);if(k!==0)return k}return Ue(p.length,E.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function x1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const i=_r(n),r=_r(e),o=Ue(i.seconds,r.seconds);return o!==0?o:Ue(i.nanos,r.nanos)}function R1(n,e){const i=n.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=go(i[o],r[o]);if(c)return c}return Ue(i.length,r.length)}function yo(n){return Um(n)}function Um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=_r(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return vr(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Ee.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Um(c);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${Um(i.fields[h])}`;return o+"}"})(n.mapValue):Se(61005,{value:n})}function sh(n){switch(Er(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(n);return e?16+sh(e):16;case 5:return 2*n.stringValue.length;case 6:return vr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+sh(c)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Sr(r.fields,((c,h)=>{o+=c.length+sh(h)})),o})(n.mapValue);default:throw Se(13486,{value:n})}}function C1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zm(n){return!!n&&"integerValue"in n}function wp(n){return!!n&&"arrayValue"in n}function N1(n){return!!n&&"nullValue"in n}function I1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rh(n){return!!n&&"mapValue"in n}function NN(n){return(n?.mapValue?.fields||{})[JE]?.stringValue===ZE}function Pl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Sr(n.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Pl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(n.arrayValue.values[i]);return e}return{...n}}function IN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!rh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Qt.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}h?r[m.lastSegment()]=Pl(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());rh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Sr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new yn(Pl(this.value))}}function eb(n){const e=[];return Sr(n.fields,((i,r)=>{const o=new Qt([i]);if(rh(r)){const c=eb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,i,r,o,c,h,m){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Re.min(),Re.min(),Re.min(),yn.empty(),0)}static newFoundDocument(e,i,r,o){return new Jt(e,1,i,Re.min(),r,o,0)}static newNoDocument(e,i){return new Jt(e,2,i,Re.min(),Re.min(),yn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,Re.min(),Re.min(),yn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,i){this.position=e,this.inclusive=i}}function D1(n,e,i){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(h.referenceValue),i.key):r=go(h,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function O1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Hi(n.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,i="asc"){this.field=e,this.dir=i}}function DN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class Dt extends tb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new kN(e,i,r):i==="array-contains"?new jN(e,r):i==="in"?new LN(e,r):i==="not-in"?new PN(e,r):i==="array-contains-any"?new UN(e,r):new Dt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new MN(e,r):new VN(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends tb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new li(e,i)}matches(e){return nb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nb(n){return n.op==="and"}function ib(n){return ON(n)&&nb(n)}function ON(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function Bm(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+yo(n.value);if(ib(n))return n.filters.map((e=>Bm(e))).join(",");{const e=n.filters.map((i=>Bm(i))).join(",");return`${n.op}(${e})`}}function sb(n,e){return n instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(n,e):n instanceof li?(function(r,o){return o instanceof li&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,m)=>c&&sb(h,o.filters[m])),!0):!1})(n,e):void Se(19439)}function rb(n){return n instanceof Dt?(function(i){return`${i.field.canonicalString()} ${i.op} ${yo(i.value)}`})(n):n instanceof li?(function(i){return i.op.toString()+" {"+i.getFilters().map(rb).join(" ,")+"}"})(n):"Filter"}class kN extends Dt{constructor(e,i,r){super(e,i,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const i=Ee.comparator(e.key,this.key);return this.matchesComparison(i)}}class MN extends Dt{constructor(e,i){super(e,"in",i),this.keys=ab("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class VN extends Dt{constructor(e,i){super(e,"not-in",i),this.keys=ab("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ab(n,e){return(e.arrayValue?.values||[]).map((i=>Ee.fromName(i.referenceValue)))}class jN extends Dt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return wp(i)&&Yl(i.arrayValue,this.value)}}class LN extends Dt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Yl(this.value.arrayValue,i)}}class PN extends Dt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yl(this.value.arrayValue,i)}}class UN extends Dt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!wp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,i=null,r=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function k1(n,e=null,i=[],r=[],o=null,c=null,h=null){return new zN(n,e,i,r,o,c,h)}function Ap(n){const e=Ne(n);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Bm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Fh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>yo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>yo(r))).join(",")),e.Te=i}return e.Te}function xp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!DN(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!sb(n.filters[i],e.filters[i]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O1(n.startAt,e.startAt)&&O1(n.endAt,e.endAt)}function qm(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i=null,r=[],o=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BN(n,e,i,r,o,c,h,m){return new oc(n,e,i,r,o,c,h,m)}function Rp(n){return new oc(n)}function M1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ob(n){return n.collectionGroup!==null}function Ul(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Qt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new wh(c,r))})),i.has(Qt.keyField().canonicalString())||e.Ie.push(new wh(Qt.keyField(),r))}return e.Ie}function Li(n){const e=Ne(n);return e.Ee||(e.Ee=qN(e,Ul(n))),e.Ee}function qN(n,e){if(n.limitType==="F")return k1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new wh(o.field,c)}));const i=n.endAt?new Sh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Sh(n.startAt.position,n.startAt.inclusive):null;return k1(n.path,n.collectionGroup,e,n.filters,n.limit,i,r)}}function Hm(n,e){const i=n.filters.concat([e]);return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Fm(n,e,i){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,i,n.startAt,n.endAt)}function Kh(n,e){return xp(Li(n),Li(e))&&n.limitType===e.limitType}function lb(n){return`${Ap(Li(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>rb(o))).join(", ")}]`),Fh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>yo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>yo(o))).join(",")),`Target(${r})`})(Li(n))}; limitType=${n.limitType})`}function Qh(n,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(n,e)&&(function(r,o){for(const c of Ul(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,p){const g=D1(h,m,p);return h.inclusive?g<=0:g<0})(r.startAt,Ul(r),o)||r.endAt&&!(function(h,m,p){const g=D1(h,m,p);return h.inclusive?g>=0:g>0})(r.endAt,Ul(r),o))})(n,e)}function HN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cb(n){return(e,i)=>{let r=!1;for(const o of Ul(n)){const c=FN(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function FN(n,e,i){const r=n.field.isKeyField()?Ee.comparator(e.key,i.key):(function(c,h,m){const p=h.data.field(c),g=m.data.field(c);return p!==null&&g!==null?go(p,g):Se(42886)})(n.field,e,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new ht(Ee.comparator);function ws(){return GN}const ub=new ht(Ee.comparator);function kl(...n){let e=ub;for(const i of n)e=e.insert(i.key,i);return e}function hb(n){let e=ub;return n.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function na(){return zl()}function fb(){return zl()}function zl(){return new ma((n=>n.toString()),((n,e)=>n.isEqual(e)))}const KN=new ht(Ee.comparator),QN=new Vt(Ee.comparator);function ze(...n){let e=QN;for(const i of n)e=e.add(i);return e}const YN=new Vt(Ue);function $N(){return YN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function db(n){return{integerValue:""+n}}function XN(n,e){return SN(e)?db(e):Cp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function WN(n,e,i){return n instanceof Ah?(function(o,c){const h={fields:{[$E]:{stringValue:YE},[WE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sp(c)&&(c=Gh(c)),c&&(h.fields[XE]=c),{mapValue:h}})(i,e):n instanceof $l?pb(n,e):n instanceof Xl?gb(n,e):(function(o,c){const h=mb(o,c),m=V1(h)+V1(o.Ae);return zm(h)&&zm(o.Ae)?db(m):Cp(o.serializer,m)})(n,e)}function JN(n,e,i){return n instanceof $l?pb(n,e):n instanceof Xl?gb(n,e):i}function mb(n,e){return n instanceof xh?(function(r){return zm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Ah extends Yh{}class $l extends Yh{constructor(e){super(),this.elements=e}}function pb(n,e){const i=yb(e);for(const r of n.elements)i.some((o=>Hi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Xl extends Yh{constructor(e){super(),this.elements=e}}function gb(n,e){let i=yb(e);for(const r of n.elements)i=i.filter((o=>!Hi(o,r)));return{arrayValue:{values:i}}}class xh extends Yh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function V1(n){return _t(n.integerValue||n.doubleValue)}function yb(n){return wp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZN(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof $l&&o instanceof $l||r instanceof Xl&&o instanceof Xl?po(r.elements,o.elements,Hi):r instanceof xh&&o instanceof xh?Hi(r.Ae,o.Ae):r instanceof Ah&&o instanceof Ah})(n.transform,e.transform)}class eI{constructor(e,i){this.version=e,this.transformResults=i}}class Pi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $h{}function _b(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Eb(n.key,Pi.none()):new lc(n.key,n.data,Pi.none());{const i=n.data,r=yn.empty();let o=new Vt(Qt.comparator);for(let c of e.fields)if(!o.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new wr(n.key,r,new Rn(o.toArray()),Pi.none())}}function tI(n,e,i){n instanceof lc?(function(o,c,h){const m=o.value.clone(),p=L1(o.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(n,e,i):n instanceof wr?(function(o,c,h){if(!ah(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=L1(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(vb(o)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,i):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,i)}function Bl(n,e,i,r){return n instanceof lc?(function(c,h,m,p){if(!ah(c.precondition,h))return m;const g=c.value.clone(),E=P1(c.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(n,e,i,r):n instanceof wr?(function(c,h,m,p){if(!ah(c.precondition,h))return m;const g=P1(c.fieldTransforms,p,h),E=h.data;return E.setAll(vb(c)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(n,e,i,r):(function(c,h,m){return ah(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(n,e,i)}function nI(n,e){let i=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=mb(r.transform,o||null);c!=null&&(i===null&&(i=yn.empty()),i.set(r.field,c))}return i||null}function j1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&po(r,o,((c,h)=>ZN(c,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lc extends $h{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends $h{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vb(n){const e=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);e.set(i,r)}})),e}function L1(n,e,i){const r=new Map;Qe(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const c=n[o],h=c.transform,m=e.data.field(c.field);r.set(c.field,JN(h,m,i[o]))}return r}function P1(n,e,i){const r=new Map;for(const o of n){const c=o.transform,h=i.data.field(o.field);r.set(o.field,WN(c,h,e))}return r}class Eb extends $h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iI extends $h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&tI(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Bl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Bl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=fb();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=i.has(o.key)?null:m;const p=_b(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((i,r)=>j1(i,r)))&&po(this.baseMutations,e.baseMutations,((i,r)=>j1(i,r)))}}class Np{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return KN})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new Np(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,qe;function oI(n){switch(n){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function bb(n){if(n===void 0)return Ts("GRPC error has no .code"),ne.UNKNOWN;switch(n){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:n})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new mr([4294967295,4294967295],0);function U1(n){const e=lI().encode(n),i=new VE;return i.update(e),new Uint8Array(i.digest())}function z1(n){const e=new DataView(n.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([i,r],0),new mr([o,c],0)]}class Ip{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ml(`Invalid padding: ${i}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(mr.fromNumber(r)));return o.compare(cI)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=U1(e),[r,o]=z1(i);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Ip(c,o,i);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const i=U1(e),[r,o]=z1(i);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.Se(h)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Xh(Re.min(),o,new ht(Ue),ws(),ze())}}class cc{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new cc(r,i,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Tb{constructor(e,i){this.targetId=e,this.Ce=i}}class Sb{constructor(e,i,r=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class B1{constructor(){this.ve=0,this.Fe=q1(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),r=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:c})}})),new cc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=q1()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=Yu(),this.He=Yu(),this.Ye=new ht(Ue)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(qm(c))if(r===0){const h=new Ee(c.path);this.et(i,h,Jt.newNoDocument(h,Re.min()))}else Qe(r===1,20013,{expectedCount:r});else{const h=this._t(i);if(h!==r){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let h,m;try{h=vr(r).toUint8Array()}catch(p){if(p instanceof QE)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ip(h,o,c)}catch(p){return mo(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&qm(m.target)){const p=new Ee(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Jt.newNoDocument(p,e))}c.Be&&(i.set(h,c.ke()),c.qe())}}));let r=ze();this.He.forEach(((c,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Xh(e,i,this.Ye,this.je,r);return this.je=ws(),this.Je=Yu(),this.He=Yu(),this.Ye=new ht(Ue),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new B1,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(Ue),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(Ue),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||pe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B1),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new ht(Ee.comparator)}function q1(){return new ht(Ee.comparator)}const hI={asc:"ASCENDING",desc:"DESCENDING"},fI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dI={and:"AND",or:"OR"};class mI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Gm(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function Rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pI(n,e){return Rh(n,e.toTimestamp())}function Ui(n){return Qe(!!n,49232),Re.fromTimestamp((function(i){const r=_r(i);return new at(r.seconds,r.nanos)})(n))}function Dp(n,e){return Km(n,e).canonicalString()}function Km(n,e){const i=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?i:i.child(e)}function Ab(n){const e=it.fromString(n);return Qe(Ib(e),10190,{key:e.toString()}),e}function Qm(n,e){return Dp(n.databaseId,e.path)}function bm(n,e){const i=Ab(e);if(i.get(1)!==n.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Ee(Rb(i))}function xb(n,e){return Dp(n.databaseId,e)}function gI(n){const e=Ab(n);return e.length===4?it.emptyPath():Rb(e)}function Ym(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Rb(n){return Qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function H1(n,e,i){return{name:Qm(n,e),fields:i.value.mapValue.fields}}function yI(n,e){let i;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ne.UNKNOWN:bb(g.code);return new me(E,g.message||"")})(h);i=new Sb(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=bm(n,r.document.name),c=Ui(r.document.updateTime),h=r.document.createTime?Ui(r.document.createTime):Re.min(),m=new yn({mapValue:{fields:r.document.fields}}),p=Jt.newFoundDocument(o,c,h,m),g=r.targetIds||[],E=r.removedTargetIds||[];i=new oh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=bm(n,r.document),c=r.readTime?Ui(r.readTime):Re.min(),h=Jt.newNoDocument(o,c),m=r.removedTargetIds||[];i=new oh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=bm(n,r.document),c=r.removedTargetIds||[];i=new oh([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new aI(o,c),m=r.targetId;i=new Tb(m,h)}}return i}function _I(n,e){let i;if(e instanceof lc)i={update:H1(n,e.key,e.value)};else if(e instanceof Eb)i={delete:Qm(n,e.key)};else if(e instanceof wr)i={update:H1(n,e.key,e.data),updateMask:RI(e.fieldMask)};else{if(!(e instanceof iI))return Se(16599,{Vt:e.type});i={verify:Qm(n,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const m=h.transform;if(m instanceof Ah)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:pI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(n,e.precondition)),i}function vI(n,e){return n&&n.length>0?(Qe(e!==void 0,14353),n.map((i=>(function(o,c){let h=o.updateTime?Ui(o.updateTime):Ui(c);return h.isEqual(Re.min())&&(h=Ui(c)),new eI(h,o.transformResults||[])})(i,e)))):[]}function EI(n,e){return{documents:[xb(n,e.path)]}}function bI(n,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=xb(n,o);const c=(function(g){if(g.length!==0)return Nb(li.create(g,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:ro(w.field),direction:wI(w.dir)}})(E)))})(e.orderBy);h&&(i.structuredQuery.orderBy=h);const m=Gm(n,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:o}}function TI(n){let e=gI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(T){const w=Cb(T);return w instanceof li&&ib(w)?w.getFilters():[w]})(i.where));let h=[];i.orderBy&&(h=(function(T){return T.map((w=>(function(B){return new wh(ao(B.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(w)))})(i.orderBy));let m=null;i.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Fh(w)?null:w})(i.limit));let p=null;i.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new Sh(k,w)})(i.startAt));let g=null;return i.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new Sh(k,w)})(i.endAt)),BN(e,o,h,c,m,"F",p,g)}function SI(n,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Cb(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ao(i.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(i.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(i.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(i.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(i){return Dt.create(ao(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return li.create(i.compositeFilter.filters.map((r=>Cb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(n):Se(30097,{filter:n})}function wI(n){return hI[n]}function AI(n){return fI[n]}function xI(n){return dI[n]}function ro(n){return{fieldPath:n.canonicalString()}}function ao(n){return Qt.fromServerFormat(n.fieldPath)}function Nb(n){return n instanceof Dt?(function(i){if(i.op==="=="){if(I1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NAN"}};if(N1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(I1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NAN"}};if(N1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(i.field),op:AI(i.op),value:i.value}}})(n):n instanceof li?(function(i){const r=i.getFilters().map((o=>Nb(o)));return r.length===1?r[0]:{compositeFilter:{op:xI(i.op),filters:r}}})(n):Se(54877,{filter:n})}function RI(n){const e=[];return n.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Ib(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,i,r,o,c=Re.min(),h=Re.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.yt=e}}function NI(n){const e=TI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.Cn=new DI}addToCollectionParentIndex(e,i){return this.Cn.add(i),se.resolve()}getCollectionParents(e,i){return se.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return se.resolve()}deleteFieldIndex(e,i){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,i){return se.resolve()}getDocumentsMatchingTarget(e,i){return se.resolve(null)}getIndexType(e,i){return se.resolve(0)}getFieldIndexes(e,i){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,i){return se.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return se.resolve(yr.min())}updateCollectionGroup(e,i,r){return se.resolve()}updateIndexEntries(e,i){return se.resolve()}}class DI{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Vt(it.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Db=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Db,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="LruGarbageCollector",OI=1048576;function K1([n,e],[i,r]){const o=Ue(n,i);return o===0?Ue(e,r):o}class kI{constructor(e){this.Ir=e,this.buffer=new Vt(K1),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();K1(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(G1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ao(i)?pe(G1,"Ignoring IndexedDB error during garbage collection: ",i):await wo(i)}await this.Vr(3e5)}))}}class VI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return se.resolve(Hh.ce);const r=new kI(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(F1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F1):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,i)))).next((T=>(c=T,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(g=Date.now(),io()<=Pe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function jI(n,e){return new VI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.changes=new ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?se.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Bl(r.mutation,o,Rn.empty(),at.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=ze()){const o=na();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let h=kl();return c.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,i){const r=na();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,ze())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{i.set(h,m)}))}))}computeViews(e,i,r,o){let c=ws();const h=zl(),m=(function(){return zl()})();return i.forEach(((p,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof wr)?c=c.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Bl(E.mutation,g,E.mutation.getFieldMask(),at.now())):h.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,E)=>h.set(g,E))),i.forEach(((g,E)=>m.set(g,new PI(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,i){const r=zl();let o=new ht(((h,m)=>h-m)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let E=r.get(p)||Rn.empty();E=m.applyToLocalView(g,E),r.set(p,E);const T=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=fb();E.forEach((w=>{if(!c.has(w)){const k=_b(i.get(w),r.get(w));k!==null&&T.set(w,k),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return se.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ob(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):se.resolve(na());let m=Gl,p=c;return h.next((g=>se.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,ze()))).next((E=>({batchId:m,changes:hb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ee(i)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let h=kl();return this.indexManager.getCollectionParents(e,c).next((m=>se.forEach(m,(p=>{const g=(function(T,w){return new oc(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((h=>{c.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Jt.newInvalidDocument(E)))}));let m=kl();return h.forEach(((p,g)=>{const E=c.get(p);E!==void 0&&Bl(E.mutation,g,Rn.empty(),at.now()),Qh(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return se.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(i)),se.resolve()}getNamedQuery(e,i){return se.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:NI(o.bundledQuery),readTime:Ui(o.readTime)}})(i)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.overlays=new ht(Ee.comparator),this.qr=new Map}getOverlay(e,i){return se.resolve(this.overlays.get(i))}getOverlays(e,i){const r=na();return se.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),se.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,i,r){const o=na(),c=i.length+1,h=new Ee(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>r&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let E=c.get(g.largestBatchId);E===null&&(E=na(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=na(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return se.resolve(m)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new rI(i,r));let c=this.qr.get(i);c===void 0&&(c=ze(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Ut(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Ut(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new Ee(new it([])),r=new Ut(i,e),o=new Ut(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ee(new it([])),r=new Ut(i,e),o=new Ut(i,e+1);let c=ze();return this.Ur.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const i=new Ut(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ee.comparator(e.key,i.key)||Ue(e.Yr,i.Yr)}static Kr(e,i){return Ue(e.Yr,i.Yr)||Ee.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new sI(c,i,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,i){return se.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Tp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ut(i,0),o=new Ut(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);c.push(m)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Vt(Ue);return i.forEach((o=>{const c=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(m=>{r=r.add(m.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const h=new Ut(new Ee(c),0);let m=new Vt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),se.resolve(this.ti(m))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(i.mutations,(o=>{const c=new Ut(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Ut(i,0),o=this.Zr.firstAfterOrEqual(r);return se.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.ri=e,this.docs=(function(){return new ht(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,h=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return se.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let r=ws();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))})),se.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=ws();const h=i.path,m=new Ee(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||vN(_N(E),r)<=0||(o.has(E.key)||Qh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Se(9500)}ii(e,i){return se.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new GI(this)}getSize(e){return se.resolve(this.size)}}class GI extends LI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),se.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.persistence=e,this.si=new ma((i=>Ap(i)),xp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=_o.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),se.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new _o(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,se.resolve()}updateTargetData(e,i){return this.Pr(i),se.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(c).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return se.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),se.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),se.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return se.resolve(r)}containsKey(e,i){return se.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,i){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new qI,this.referenceDelegate=e(this),this.Pi=new KI(this),this.indexManager=new II,this.remoteDocumentCache=(function(o){return new FI(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new CI(i),this.Ii=new zI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new BI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new HI(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){pe("MemoryPersistence","Starting transaction:",e);const o=new QI(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class QI extends bN{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),se.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),se.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return se.or([()=>se.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Ch{constructor(e,i){this.persistence=e,this.pi=new ma((r=>wN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=jI(this,i)}static mi(e,i){return new Ch(e,i)}Ei(){}di(e){return se.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return se.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?se.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,i).next((m=>{m||(r++,c.removeEntry(h,Re.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=sh(e.data.value)),i}br(e,i,r){return se.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return se.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=ze(),o=ze();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Mp(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:TN(Zt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new YI;return this.Ss(e,i,h).next((m=>{if(c.result=m,this.Vs)return this.bs(e,i,h,m.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(io()<=Pe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(io()<=Pe.DEBUG&&pe("QueryEngine","Query:",so(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(io()<=Pe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):se.resolve())}ys(e,i){if(M1(i))return se.resolve(null);let r=Li(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Fm(i,null,"F"),r=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=ze(...c);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(i,m);return this.Cs(i,g,h,p.readTime)?this.ys(e,Fm(i,null,"F")):this.vs(e,g,i,p)}))))})))))}ws(e,i,r,o){return M1(i)||o.isEqual(Re.min())?se.resolve(null):this.ps.getDocuments(e,r).next((c=>{const h=this.Ds(i,c);return this.Cs(i,h,r,o)?se.resolve(null):(io()<=Pe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(i)),this.vs(e,h,i,yN(o,Gl)).next((m=>m)))}))}Ds(e,i){let r=new Vt(cb(e));return i.forEach(((o,c)=>{Qh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return io()<=Pe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",so(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",XI=3e8;class WI{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ht(Ue),this.xs=new ma((c=>Ap(c)),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function JI(n,e,i,r){return new WI(n,e,i,r)}async function kb(n,e){const i=Ne(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],m=[];let p=ze();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of c){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function ZI(n,e){const i=Ne(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let k=se.resolve();return w.forEach((B=>{k=k.next((()=>E.getEntry(p,B))).next((H=>{const L=g.docVersions.get(B);Qe(L!==null,48541),H.version.compareTo(L)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Mb(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function e4(n,e){const i=Ne(n),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,T))));let k=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),o=o.insert(T,k),(function(H,L,F){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=XI?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,k,E)&&m.push(i.Pi.updateTargetData(c,k))}));let p=ws(),g=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(t4(c,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!r.isEqual(Re.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((T=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return se.waitFor(m).next((()=>h.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(i.Ms=o,c)))}function t4(n,e,i){let r=ze(),o=ze();return i.forEach((c=>r=r.add(c))),e.getEntries(n,r).next((c=>{let h=ws();return i.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):pe(Vp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function n4(n,e){const i=Ne(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Tp),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function i4(n,e){const i=Ne(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,se.resolve(o)):i.Pi.allocateTargetId(r).next((h=>(o=new ur(e,h,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function $m(n,e,i){const r=Ne(n),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ao(h))throw h;pe(Vp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Q1(n,e,i){const r=Ne(n);let o=Re.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ne(p),w=T.xs.get(E);return w!==void 0?se.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(r,h,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,i?o:Re.min(),i?c:ze()))).next((m=>(s4(r,HN(e),m),{documents:m,Qs:c})))))}function s4(n,e,i){let r=n.Os.get(e)||Re.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),n.Os.set(e,r)}class Y1{constructor(){this.activeTargetIds=$N()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r4{constructor(){this.Mo=new Y1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Y1,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="ConnectivityMonitor";class X1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe($1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe($1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Xm(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",o4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const h=Xm(),m=this.zo(e,i.toUriEncodedString());pe(Tm,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(m),E=ha(g);return this.Jo(e,m,p,r,E).then((T=>(pe(Tm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw mo(Tm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",r),T}))}Ho(e,i,r,o,c,h){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=o4[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class u4 extends l4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const h=Xm();return new Promise(((m,p)=>{const g=new jE;g.setWithCredentials(!0),g.listenOnce(LE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ih.NO_ERROR:const T=g.getResponseJson();pe(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case ih.TIMEOUT:pe(Xt,`RPC '${e}' ${h} timed out`),p(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const w=g.getStatus();if(pe(Xt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const H=(function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(B.status);p(new me(H,B.message))}else p(new me(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(Xt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);pe(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(i,"POST",E,r,15)}))}T_(e,i,r){const o=Xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=zE(),m=UE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const E=c.join("");pe(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,k=!1;const B=new c4({Yo:L=>{k?pe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(pe(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),pe(Xt,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),H=(L,F,z)=>{L.listen(F,(P=>{try{z(P)}catch(re){setTimeout((()=>{throw re}),0)}}))};return H(T,Ol.EventType.OPEN,(()=>{k||(pe(Xt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),H(T,Ol.EventType.CLOSE,(()=>{k||(k=!0,pe(Xt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(T))})),H(T,Ol.EventType.ERROR,(L=>{k||(k=!0,mo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),B.a_(new me(ne.UNAVAILABLE,"The operation could not be completed")))})),H(T,Ol.EventType.MESSAGE,(L=>{if(!k){const F=L.data[0];Qe(!!F,16349);const z=F,P=z?.error||z[0]?.error;if(P){pe(Xt,`RPC '${e}' stream ${o} received error:`,P);const re=P.status;let ae=(function(x){const R=It[x];if(R!==void 0)return bb(R)})(re),ce=P.message;ae===void 0&&(ae=ne.INTERNAL,ce="Unknown error status: "+re+" with message "+P.message),k=!0,B.a_(new me(ae,ce)),T.close()}else pe(Xt,`RPC '${e}' stream ${o} received:`,F),B.u_(F)}})),H(m,PE.STAT_EVENT,(L=>{L.stat===Lm.PROXY?pe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Lm.NOPROXY&&pe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){return new mI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="PersistentStream";class jb{constructor(e,i,r,o,c,h,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ne.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(W1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(pe(W1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h4 extends jb{constructor(e,i,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,h),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=yI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Ui(h.readTime):Re.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Ym(this.serializer),i.addTarget=(function(c,h){let m;const p=h.target;if(m=qm(p)?{documents:EI(c,p)}:{query:bI(c,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=wb(c,h.resumeToken);const g=Gm(c,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=Rh(c,h.snapshotVersion.toTimestamp());const g=Gm(c,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=SI(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Ym(this.serializer),i.removeTarget=e,this.q_(i)}}class f4 extends jb{constructor(e,i,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=vI(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>_I(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{}class m4 extends d4{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Km(i,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ne.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Km(i,r),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p4{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):pe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class g4{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{pa(this)&&(pe(ca,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await uc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Jh(g)})(this))}))})),this.Ra=new p4(r,o)}}async function Jh(n){if(pa(n))for(const e of n.da)await e(!0)}async function uc(n){for(const e of n.da)await e(!1)}function Lb(n,e){const i=Ne(n);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Up(i)?Pp(i):xo(i).O_()&&Lp(i,e))}function jp(n,e){const i=Ne(n),r=xo(i);i.Ia.delete(e),r.O_()&&Pb(i,e),i.Ia.size===0&&(r.O_()?r.L_():pa(i)&&i.Ra.set("Unknown"))}function Lp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xo(n).Y_(e)}function Pb(n,e){n.Va.Ue(e),xo(n).Z_(e)}function Pp(n){n.Va=new uI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xo(n).start(),n.Ra.ua()}function Up(n){return pa(n)&&!xo(n).x_()&&n.Ia.size>0}function pa(n){return Ne(n).Ea.size===0}function Ub(n){n.Va=void 0}async function y4(n){n.Ra.set("Online")}async function _4(n){n.Ia.forEach(((e,i)=>{Lp(n,e)}))}async function v4(n,e){Ub(n),Up(n)?(n.Ra.ha(e),Pp(n)):n.Ra.set("Unknown")}async function E4(n,e,i){if(n.Ra.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(n,e)}catch(r){pe(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(n,r)}else if(e instanceof oh?n.Va.Ze(e):e instanceof Tb?n.Va.st(e):n.Va.tt(e),!i.isEqual(Re.min()))try{const r=await Mb(n.localStore);i.compareTo(r)>=0&&await(function(c,h){const m=c.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),Pb(c,p);const T=new ur(E.target,p,g,E.sequenceNumber);Lp(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(r){pe(ca,"Failed to raise snapshot:",r),await Nh(n,r)}}async function Nh(n,e,i){if(!Ao(e))throw e;n.Ea.add(1),await uc(n),n.Ra.set("Offline"),i||(i=()=>Mb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(ca,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Jh(n)}))}function zb(n,e){return e().catch((i=>Nh(n,i,e)))}async function Zh(n){const e=Ne(n),i=br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tp;for(;b4(e);)try{const o=await n4(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,T4(e,o)}catch(o){await Nh(e,o)}Bb(e)&&qb(e)}function b4(n){return pa(n)&&n.Ta.length<10}function T4(n,e){n.Ta.push(e);const i=br(n);i.O_()&&i.X_&&i.ea(e.mutations)}function Bb(n){return pa(n)&&!br(n).x_()&&n.Ta.length>0}function qb(n){br(n).start()}async function S4(n){br(n).ra()}async function w4(n){const e=br(n);for(const i of n.Ta)e.ea(i.mutations)}async function A4(n,e,i){const r=n.Ta.shift(),o=Np.from(r,e,i);await zb(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Zh(n)}async function x4(n,e){e&&br(n).X_&&await(async function(r,o){if((function(h){return oI(h)&&h!==ne.ABORTED})(o.code)){const c=r.Ta.shift();br(r).B_(),await zb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Zh(r)}})(n,e),Bb(n)&&qb(n)}async function J1(n,e){const i=Ne(n);i.asyncQueue.verifyOperationInProgress(),pe(ca,"RemoteStore received new credentials");const r=pa(i);i.Ea.add(3),await uc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Jh(i)}async function R4(n,e){const i=Ne(n);e?(i.Ea.delete(2),await Jh(i)):e||(i.Ea.add(2),await uc(i),i.Ra.set("Unknown"))}function xo(n){return n.ma||(n.ma=(function(i,r,o){const c=Ne(i);return c.sa(),new h4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:y4.bind(null,n),t_:_4.bind(null,n),r_:v4.bind(null,n),H_:E4.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Up(n)?Pp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ub(n))}))),n.ma}function br(n){return n.fa||(n.fa=(function(i,r,o){const c=Ne(i);return c.sa(),new f4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:S4.bind(null,n),r_:x4.bind(null,n),ta:w4.bind(null,n),na:A4.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Zh(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(ca,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const h=Date.now()+r,m=new zp(e,i,h,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(n,e){if(Ts("AsyncQueue",`${e}: ${n}`),Ao(n))return new me(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||Ee.comparator(i.key,r.key):(i,r)=>Ee.comparator(i.key,r.key),this.keyedMap=kl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.ga=new ht(Ee.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class vo{constructor(e,i,r,o,c,h,m,p,g){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,i,r,o,c){const h=[];return i.forEach((m=>{h.push({type:0,doc:m})})),new vo(e,i,ho.emptySet(i),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class N4{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ne(i),c=o.queries;o.queries=e0(),c.forEach(((h,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function e0(){return new ma((n=>lb(n)),Kh)}async function Hb(n,e){const i=Ne(n);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new C4,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const m=Bp(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&qp(i)}async function Fb(n,e){const i=Ne(n),r=e.query;let o=3;const c=i.queries.get(r);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function I4(n,e){const i=Ne(n);let r=!1;for(const o of e){const c=o.query,h=i.queries.get(c);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&qp(i)}function D4(n,e,i){const r=Ne(n),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function qp(n){n.Ca.forEach((e=>{e.next()}))}var Wm,t0;(t0=Wm||(Wm={})).Ma="default",t0.Cache="cache";class Gb{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class O4{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=cb(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Z1,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),k=Qh(this.query,T)?T:null,B=!!w&&this.mutatedKeys.has(w.key),H=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let L=!1;w&&k?w.data.isEqual(k.data)?B!==H&&(r.track({type:3,doc:k}),L=!0):this.su(w,k)||(r.track({type:2,doc:k}),L=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!w&&k?(r.track({type:0,doc:k}),L=!0):w&&!k&&(r.track({type:1,doc:w}),L=!0,(p||g)&&(m=!0)),L&&(k?(h=h.add(k),c=H?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:h,iu:r,Cs:m,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(k,B){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:L})}};return H(k)-H(B)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new vo(this.query,e.tu,c,h,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Qb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Kb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class k4{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class M4{constructor(e){this.key=e,this.hu=!1}}class V4{constructor(e,i,r,o,c,h){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>lb(m)),Kh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Ee.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function j4(n,e,i=!0){const r=Zb(n);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Yb(r,e,i,!0),o}async function L4(n,e){const i=Zb(n);await Yb(i,e,!0,!1)}async function Yb(n,e,i,r){const o=await i4(n.localStore,Li(e)),c=o.targetId,h=n.sharedClientState.addLocalQueryTarget(c,i);let m;return r&&(m=await P4(n,e,c,h==="current",o.resumeToken)),n.isPrimaryClient&&i&&Lb(n.remoteStore,o),m}async function P4(n,e,i,r,o){n.pu=(T,w,k)=>(async function(H,L,F,z){let P=L.view.ru(F);P.Cs&&(P=await Q1(H.localStore,L.query,!1).then((({documents:C})=>L.view.ru(C,P))));const re=z&&z.targetChanges.get(L.targetId),ae=z&&z.targetMismatches.get(L.targetId)!=null,ce=L.view.applyChanges(P,H.isPrimaryClient,re,ae);return i0(H,L.targetId,ce.au),ce.snapshot})(n,T,w,k);const c=await Q1(n.localStore,e,!0),h=new O4(e,c.Qs),m=h.ru(c.documents),p=cc.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=h.applyChanges(m,n.isPrimaryClient,p);i0(n,i,g.au);const E=new k4(e,i,h);return n.Tu.set(e,E),n.Iu.has(i)?n.Iu.get(i).push(e):n.Iu.set(i,[e]),g.snapshot}async function U4(n,e,i){const r=Ne(n),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!Kh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&jp(r.remoteStore,o.targetId),Jm(r,o.targetId)})).catch(wo)):(Jm(r,o.targetId),await $m(r.localStore,o.targetId,!0))}async function z4(n,e){const i=Ne(n),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),jp(i.remoteStore,r.targetId))}async function B4(n,e,i){const r=Y4(n);try{const o=await(function(h,m){const p=Ne(h),g=at.now(),E=m.reduce(((k,B)=>k.add(B.key)),ze());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=ws(),H=ze();return p.Ns.getEntries(k,E).next((L=>{B=L,B.forEach(((F,z)=>{z.isValidDocument()||(H=H.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,B))).next((L=>{T=L;const F=[];for(const z of m){const P=nI(z,T.get(z.key).overlayedDocument);P!=null&&F.push(new wr(z.key,P,eb(P.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,F,m)})).next((L=>{w=L;const F=L.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(k,L.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:hb(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(Ue)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(r,o.batchId,i),await hc(r,o.changes),await Zh(r.remoteStore)}catch(o){const c=Bp(o,"Failed to persist write");i.reject(c)}}async function $b(n,e){const i=Ne(n);try{const r=await e4(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=i.Au.get(c);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await hc(i,r,e)}catch(r){await wo(r)}}function n0(n,e,i){const r=Ne(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ne(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&qp(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q4(n,e,i){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new ht(Ee.comparator);h=h.insert(c,Jt.newNoDocument(c,Re.min()));const m=ze().add(c),p=new Xh(Re.min(),new Map,new ht(Ue),h,m);await $b(r,p),r.du=r.du.remove(c),r.Au.delete(e),Fp(r)}else await $m(r.localStore,e,!1).then((()=>Jm(r,e,i))).catch(wo)}async function H4(n,e){const i=Ne(n),r=e.batch.batchId;try{const o=await ZI(i.localStore,e);Wb(i,r,null),Xb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await hc(i,o)}catch(o){await wo(o)}}async function F4(n,e,i){const r=Ne(n);try{const o=await(function(h,m){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);Wb(r,e,i),Xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await hc(r,o)}catch(o){await wo(o)}}function Xb(n,e){(n.mu.get(e)||[]).forEach((i=>{i.resolve()})),n.mu.delete(e)}function Wb(n,e,i){const r=Ne(n);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Jm(n,e,i=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Jb(n,r)}))}function Jb(n,e){n.Eu.delete(e.path.canonicalString());const i=n.du.get(e);i!==null&&(jp(n.remoteStore,i),n.du=n.du.remove(e),n.Au.delete(i),Fp(n))}function i0(n,e,i){for(const r of i)r instanceof Kb?(n.Ru.addReference(r.key,e),G4(n,r)):r instanceof Qb?(pe(Hp,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Jb(n,r.key)):Se(19791,{wu:r})}function G4(n,e){const i=e.key,r=i.path.canonicalString();n.du.get(i)||n.Eu.has(r)||(pe(Hp,"New document in limbo: "+i),n.Eu.add(r),Fp(n))}function Fp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const i=new Ee(it.fromString(e)),r=n.fu.next();n.Au.set(r,new M4(i)),n.du=n.du.insert(i,r),Lb(n.remoteStore,new ur(Li(Rp(i.path)),r,"TargetPurposeLimboResolution",Hh.ce))}}async function hc(n,e,i){const r=Ne(n),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,e,i).then((g=>{if((g||i)&&r.isPrimaryClient){const E=g?!g.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Mp.As(p.targetId,g);c.push(E)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(g,(w=>se.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>se.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!Ao(T))throw T;pe(Vp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=E.Ms.get(w),B=k.snapshotVersion,H=k.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(w,H)}}})(r.localStore,c))}async function K4(n,e){const i=Ne(n);if(!i.currentUser.isEqual(e)){pe(Hp,"User change. New user:",e.toKey());const r=await kb(i.localStore,e);i.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(ne.CANCELLED,h))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(i,r.Ls)}}function Q4(n,e){const i=Ne(n),r=i.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const c=i.Iu.get(e);if(!c)return o;for(const h of c){const m=i.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Zb(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.Pu.H_=I4.bind(null,e.eventManager),e.Pu.yu=D4.bind(null,e.eventManager),e}function Y4(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return JI(this.persistence,new $I,e.initialUser,this.serializer)}Cu(e){return new Ob(kp.mi,this.serializer)}Du(e){return new r4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class $4 extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qe(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MI(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Ob((r=>Ch.mi(r,i)),this.serializer)}}class Zm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new N4})()}createDatastore(e){const i=Wh(e.databaseInfo.databaseId),r=(function(c){return new u4(c)})(e.databaseInfo);return(function(c,h,m,p){return new m4(c,h,m,p)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,h,m){return new g4(r,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return X1.v()?new X1:new a4})())}createSyncEngine(e,i){return(function(o,c,h,m,p,g,E){const T=new V4(o,c,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ne(i);pe(ca,"RemoteStore shutting down."),r.Ea.add(5),await uc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="FirestoreClient";class X4{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{pe(Tr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(pe(Tr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Bp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wm(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Tr,"Initializing OfflineComponentProvider");const i=n.configuration;await e.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await kb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function s0(n,e){n.asyncQueue.verifyOperationInProgress();const i=await W4(n);pe(Tr,"Initializing OnlineComponentProvider"),await e.initialize(i,n.configuration),n.setCredentialChangeListener((r=>J1(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>J1(e.remoteStore,o))),n._onlineComponents=e}async function W4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Tr,"Using user provided OfflineComponentProvider");try{await wm(n,n._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;mo("Error using user provided cache. Falling back to memory cache: "+i),await wm(n,new Ih)}}else pe(Tr,"Using default OfflineComponentProvider"),await wm(n,new $4(void 0));return n._offlineComponents}async function tT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Tr,"Using user provided OnlineComponentProvider"),await s0(n,n._uninitializedComponentsProvider._online)):(pe(Tr,"Using default OnlineComponentProvider"),await s0(n,new Zm))),n._onlineComponents}function J4(n){return tT(n).then((e=>e.syncEngine))}async function nT(n){const e=await tT(n),i=e.eventManager;return i.onListen=j4.bind(null,e.syncEngine),i.onUnlisten=U4.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=L4.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=z4.bind(null,e.syncEngine),i}function Z4(n,e,i={}){const r=new ys;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,p,g){const E=new eT({next:w=>{E.Nu(),h.enqueueAndForget((()=>Fb(c,T)));const k=w.docs.has(m);!k&&w.fromCache?g.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Gb(Rp(m.path),E,{includeMetadataChanges:!0,qa:!0});return Hb(c,T)})(await nT(n),n.asyncQueue,e,i,r))),r.promise}function e3(n,e,i={}){const r=new ys;return n.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,p,g){const E=new eT({next:w=>{E.Nu(),h.enqueueAndForget((()=>Fb(c,T))),w.fromCache&&p.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Gb(m,E,{includeMetadataChanges:!0,qa:!0});return Hb(c,T)})(await nT(n),n.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",a0=!0;class o0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=a0}else this.host=e.host,this.ssl=e.ssl??a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Db;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OI)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aN;switch(r.type){case"firstParty":return new uN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=r0.get(i);r&&(pe("ComponentProvider","Removing Datastore"),r0.delete(i),r.terminate())})(this),Promise.resolve()}}function t3(n,e,i,r={}){n=Ss(n,ef);const o=ha(e),c=n._getSettings(),h={...c,emulatorOptions:n._getEmulatorOptions()},m=`${e}:${i}`;o&&(cp(`https://${m}`),up("Firestore",!0)),c.host!==sT&&c.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:r};if(!sa(p,h)&&(n._setSettings(p),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=Wt.MOCK_USER;else{g=$0(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}n._authCredentials=new oN(new qE(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class vt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(ac(i,vt._jsonSchema))return new vt(e,r||null,new Ee(it.fromString(i.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Ot("string",vt._jsonSchemaVersion),referencePath:Ot("string")};class pr extends Ro{constructor(e,i,r){super(e,i,Rp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new Ee(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function ep(n,e,...i){if(n=en(n),HE("collection","path",e),n instanceof ef){const r=it.fromString(e,...i);return E1(r),new pr(n,null,r)}{if(!(n instanceof vt||n instanceof pr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...i));return E1(r),new pr(n.firestore,null,r)}}function lh(n,e,...i){if(n=en(n),arguments.length===1&&(e=bp.newId()),HE("doc","path",e),n instanceof ef){const r=it.fromString(e,...i);return v1(r),new vt(n,null,new Ee(r))}{if(!(n instanceof vt||n instanceof pr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...i));return v1(r),new vt(n.firestore,n instanceof pr?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="AsyncQueue";class c0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vb(this,"async_queue_retry"),this._c=()=>{const r=Sm();r&&pe(l0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;pe(l0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",u0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=zp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:u0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function u0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class fc extends ef{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new c0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c0(e),this._firestoreClient=void 0,await e}}}function n3(n,e){const i=typeof n=="object"?n:dp(),r=typeof n=="string"?n:bh,o=Ph(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=K0("firestore");c&&t3(o,...c)}return o}function Gp(n){if(n._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||i3(n),n._firestoreClient}function i3(n){const e=n._freezeSettings(),i=(function(o,c,h,m){return new RN(o,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new X4(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Yt.fromBase64String(e))}catch(i){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ac(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(ac(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ot("string",zi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ac(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Bi(e.vectorValues);throw new me(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=/^__.*__$/;class r3{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new lc(e,this.data,i,this.fieldTransforms)}}class rT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function aT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class Qp{constructor(e,i,r,o,c,h){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aT(this.Ac)&&s3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a3{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Wh(e)}Cc(e,i,r,o=!1){return new Qp({Ac:e,methodName:i,Dc:r,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(n){const e=n._freezeSettings(),i=Wh(n._databaseId);return new a3(n._databaseId,!!e.ignoreUndefinedProperties,i)}function o3(n,e,i,r,o,c={}){const h=n.Cc(c.merge||c.mergeFields?2:0,e,i,o);$p("Data must be an object, but it was:",h,r);const m=oT(r,h);let p,g;if(c.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const w=tp(e,T,i);if(!h.contains(w))throw new me(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cT(E,w)||E.push(w)}p=new Rn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new r3(new yn(m),p,g)}class nf extends Kp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function l3(n,e,i,r){const o=n.Cc(1,e,i);$p("Data must be an object, but it was:",o,r);const c=[],h=yn.empty();Sr(r,((p,g)=>{const E=Xp(e,p,i);g=en(g);const T=o.yc(E);if(g instanceof nf)c.push(E);else{const w=dc(g,T);w!=null&&(c.push(E),h.set(E,w))}}));const m=new Rn(c);return new rT(h,m,o.fieldTransforms)}function c3(n,e,i,r,o,c){const h=n.Cc(1,e,i),m=[tp(e,r,i)],p=[o];if(c.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(tp(e,c[w])),p.push(c[w+1]);const g=[],E=yn.empty();for(let w=m.length-1;w>=0;--w)if(!cT(g,m[w])){const k=m[w];let B=p[w];B=en(B);const H=h.yc(k);if(B instanceof nf)g.push(k);else{const L=dc(B,H);L!=null&&(g.push(k),E.set(k,L))}}const T=new Rn(g);return new rT(E,T,h.fieldTransforms)}function u3(n,e,i,r=!1){return dc(i,n.Cc(r?4:3,e))}function dc(n,e){if(lT(n=en(n)))return $p("Unsupported field value:",e,n),oT(n,e);if(n instanceof Kp)return(function(r,o){if(!aT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const m of r){let p=dc(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(n,e)}return(function(r,o){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=at.fromDate(r);return{timestampValue:Rh(o.serializer,c)}}if(r instanceof at){const c=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:wb(o.serializer,r._byteString)};if(r instanceof vt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Bi)return(function(h,m){return{mapValue:{fields:{[JE]:{stringValue:ZE},[Th]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,g)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${qh(r)}`)})(n,e)}function oT(n,e){const i={};return KE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(n,((r,o)=>{const c=dc(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function lT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof at||n instanceof zi||n instanceof Gn||n instanceof vt||n instanceof Kp||n instanceof Bi)}function $p(n,e,i){if(!lT(i)||!FE(i)){const r=qh(i);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function tp(n,e,i){if((e=en(e))instanceof tf)return e._internalPath;if(typeof e=="string")return Xp(n,e);throw Dh("Field path arguments must be of type string or ",n,!1,void 0,i)}const h3=new RegExp("[~\\*/\\[\\]]");function Xp(n,e,i){if(e.search(h3)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new tf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function Dh(n,e,i,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new me(ne.INVALID_ARGUMENT,m+n+p)}function cT(n,e){return n.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Wp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class f3 extends uT{data(){return super.data()}}function Wp(n,e){return typeof e=="string"?Xp(n,e):e instanceof tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class m3 extends Jp{}function np(n,e,...i){let r=[];e instanceof Jp&&r.push(e),r=r.concat(i),(function(c){const h=c.filter((p=>p instanceof Zp)).length,m=c.filter((p=>p instanceof sf)).length;if(h>1||h>0&&m>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class sf extends m3{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new sf(e,i,r)}_apply(e){const i=this._parse(e);return hT(e._query,i),new Ro(e.firestore,e.converter,Hm(e._query,i))}_parse(e){const i=Yp(e.firestore);return(function(c,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){f0(T,E);const B=[];for(const H of T)B.push(h0(p,c,H));w={arrayValue:{values:B}}}else w=h0(p,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||f0(T,E),w=u3(m,h,T,E==="in"||E==="not-in");return Dt.create(g,E,w)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function ip(n,e,i){const r=e,o=Wp("where",n);return sf._create(o,r,i)}class Zp extends Jp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Zp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:li.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const p of m)hT(h,p),h=Hm(h,p)})(e._query,i),new Ro(e.firestore,e.converter,Hm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h0(n,e,i){if(typeof(i=en(i))=="string"){if(i==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ob(e)&&i.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(it.fromString(i));if(!Ee.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C1(n,new Ee(r))}if(i instanceof vt)return C1(n,i._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(i)}.`)}function f0(n,e){if(!Array.isArray(n)||n.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(n,e){const i=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class p3{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Sr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Th].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new Bi(i)}convertGeoPoint(e){return new zi(_t(e.latitude),_t(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Gh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new at(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=it.fromString(e);Qe(Ib(r),9688,{name:e});const o=new Ql(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(n,e,i){let r;return r=n?n.toFirestore(e):e,r}class Vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends uT{constructor(e,i,r,o,c,h){super(e,i,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Ot("string",ia._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class ch extends ia{data(e={}){return super.data(e)}}class fo{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ch(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:y3(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(n){n=Ss(n,vt);const e=Ss(n.firestore,fc);return Z4(Gp(e),n._key).then((i=>E3(e,n,i)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Ot("string",fo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class fT extends p3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,i)}}function uh(n){n=Ss(n,Ro);const e=Ss(n.firestore,fc),i=Gp(e),r=new fT(e);return d3(n._query),e3(i,n._query).then((o=>new fo(e,r,n,o)))}function dT(n,e,i){n=Ss(n,vt);const r=Ss(n.firestore,fc),o=g3(n.converter,e);return mT(r,[o3(Yp(r),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,Pi.none())])}function v3(n,e,i,...r){n=Ss(n,vt);const o=Ss(n.firestore,fc),c=Yp(o);let h;return h=typeof(e=en(e))=="string"||e instanceof tf?c3(c,"updateDoc",n._key,e,i,r):l3(c,"updateDoc",n._key,e),mT(o,[h.toMutation(n._key,Pi.exists(!0))])}function mT(n,e){return(function(r,o){const c=new ys;return r.asyncQueue.enqueueAndForget((async()=>B4(await J4(r),o,c))),c.promise})(Gp(n),e)}function E3(n,e,i){const r=i.docs.get(e._key),o=new fT(n);return new ia(n,o,e._key,r,new Vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){So=o})(fa),ra(new gr("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),m=new fc(new lN(r.getProvider("auth-internal")),new hN(h,r.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(g.options.projectId,E)})(h,o),h);return c={useFetchStreams:i,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Mi(p1,g1,e),Mi(p1,g1,"esm2020")})();var b3="firebase",T3="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(b3,T3,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firebasestorage.googleapis.com",S3="storageBucket",w3=120*1e3,A3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Qi{constructor(e,i,r=0){super(Am(e),`Firebase Storage: ${i} (${Am(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Am(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fi||(Fi={}));function Am(n){return"storage/"+n}function x3(){const n="An unknown error occurred, please check the error payload for server response.";return new Yi(Fi.UNKNOWN,n)}function R3(){return new Yi(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C3(){return new Yi(Fi.CANCELED,"User canceled the upload/download.")}function N3(n){return new Yi(Fi.INVALID_URL,"Invalid URL '"+n+"'.")}function I3(n){return new Yi(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function d0(n){return new Yi(Fi.INVALID_ARGUMENT,n)}function gT(){return new Yi(Fi.APP_DELETED,"The Firebase app was deleted.")}function D3(n){return new Yi(Fi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=oi.makeFromUrl(e,i)}catch{return new oi(e,"")}if(r.path==="")return r;throw I3(e)}static makeFromUrl(e,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",T=i.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),B={bucket:1,path:3},H=i===pT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,L="([^?#]*)",F=new RegExp(`^https?://${H}/${o}/${L}`,"i"),P=[{regex:m,indices:p,postModify:c},{regex:k,indices:B,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<P.length;re++){const ae=P[re],ce=ae.regex.exec(e);if(ce){const C=ce[ae.indices.bucket];let x=ce[ae.indices.path];x||(x=""),r=new oi(C,x),ae.postModify(r);break}}if(r==null)throw N3(e);return r}}class O3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(n,e,i){let r=1,o=null,c=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,n(k,p())},L)}function w(){c&&clearTimeout(c)}function k(L,...F){if(g){w();return}if(L){w(),E.call(null,L,...F);return}if(p()||h){w(),E.call(null,L,...F);return}r<64&&(r*=2);let P;m===1?(m=2,P=0):P=(r+Math.random())*1e3,T(P)}let B=!1;function H(L){B||(B=!0,w(),!g&&(o!==null?(L||(m=2),clearTimeout(o),T(0)):L||(m=1)))}return T(0),c=setTimeout(()=>{h=!0,H(!0)},i),H}function M3(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n){return n!==void 0}function m0(n,e,i,r){if(r<e)throw d0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>i)throw d0(`Invalid value for '${n}'. Expected ${i} or less.`)}function j3(n){const e=encodeURIComponent;let i="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var Oh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Oh||(Oh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n,e){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return i||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,i,r,o,c,h,m,p,g,E,T,w=!0,k=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,H)=>{this.resolve_=B,this.reject_=H,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Xu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const m=c.getErrorCode()===Oh.NO_ERROR,p=c.getStatus();if(!m||L3(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Oh.ABORT;r(!1,new Xu(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new Xu(g,c))})},i=(r,o)=>{const c=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());V3(p)?c(p):c()}catch(p){h(p)}else if(m!==null){const p=x3();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?gT():C3();h(p)}else{const p=R3();h(p)}};this.canceled_?i(!1,new Xu(!1,null,!0)):this.backoffId_=k3(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xu{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function U3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function z3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function B3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function q3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function H3(n,e,i,r,o,c,h=!0,m=!1){const p=j3(n.urlParams),g=n.url+p,E=Object.assign({},n.headers);return B3(E,e),U3(E,i),z3(E,c),q3(E,r),new P3(g,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function G3(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,i){this._service=e,i instanceof oi?this._location=i:this._location=oi.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new kh(e,i)}get root(){const e=new oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G3(this._location.path)}get storage(){return this._service}get parent(){const e=F3(this._location.path);if(e===null)return null;const i=new oi(this._location.bucket,e);return new kh(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw D3(e)}}function p0(n,e){const i=e?.[S3];return i==null?null:oi.makeFromBucketSpec(i,n)}function K3(n,e,i,r={}){n.host=`${e}:${i}`;const o=ha(e);o&&(cp(`https://${n.host}/b`),up("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(n._overrideAuthToken=typeof c=="string"?c:$0(c,n.app.options.projectId))}class Q3{constructor(e,i,r,o,c,h=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=pT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w3,this._maxUploadRetryTime=A3,this._requests=new Set,o!=null?this._bucket=oi.makeFromBucketSpec(o,this._host):this._bucket=p0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,e):this._bucket=p0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kh(this,e)}_makeRequest(e,i,r,o,c=!0){if(this._deleted)return new O3(gT());{const h=H3(e,this._appId,r,o,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,o).getPromise()}}const g0="@firebase/storage",y0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="storage";function Y3(n=dp(),e){n=en(n);const r=Ph(n,yT).getImmediate({identifier:e}),o=K0("storage");return o&&$3(r,...o),r}function $3(n,e,i,r={}){K3(n,e,i,r)}function X3(n,{instanceIdentifier:e}){const i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Q3(i,r,o,e,fa)}function W3(){ra(new gr(yT,X3,"PUBLIC").setMultipleInstances(!0)),Mi(g0,y0,""),Mi(g0,y0,"esm2020")}W3();const J3={apiKey:"AIzaSyCMcWQBH1lxPNm6dSNoeT9RDSvUwAlFAkM",authDomain:"streetbites-app.firebaseapp.com",projectId:"streetbites-app",storageBucket:"streetbites-app.firebasestorage.app",messagingSenderId:"543680507157",appId:"1:543680507157:web:ca617d6b495f7fb6f2cd1c",measurementId:"G-5EWKZJ0V6W"},eg=J0(J3),xm=sN(eg),ta=n3(eg);Y3(eg);class Z3{async emailExists(e){try{const i=ep(ta,"users"),r=np(i,ip("email","==",e.toLowerCase().trim()));return!(await uh(r)).empty}catch(i){return console.error("Error checking email existence:",i),!1}}async waitForAuth(e=3e3){const i=Date.now();for(;Date.now()-i<e;){if(xm.currentUser){console.log("✓ Auth user detected:",xm.currentUser.uid);return}await new Promise(r=>setTimeout(r,100))}throw new Error("Auth timeout - user not found")}async createUserDocument(e,i){const{email:r,firstName:o,lastName:c,contactNumber:h}=i,m={uid:e,email:r.toLowerCase().trim(),first_name:o.trim(),last_name:c.trim(),contact_number:h.replace(/\s/g,""),role:"user",account_status:"active",created_at:new Date,updated_at:new Date};console.log("Creating document at path: users/"+e),console.log("Document data:",m);const p=lh(ta,"users",e);await dT(p,m),console.log("✓ Document created successfully")}async signup(e){let i=null;try{const{email:r,password:o,firstName:c,lastName:h,contactNumber:m}=e;if(!r||!o||!c||!h||!m)throw new Error("All fields are required");if(console.log(`
=== SIGNUP PROCESS STARTED ===`),console.log("Email:",r),console.log(`
[1/5] Checking email availability...`),await this.emailExists(r))throw new Error("This email is already registered. Please use a different email or try logging in.");console.log("✓ Email available"),console.log(`
[2/5] Creating Firebase Auth account...`),i=(await GR(xm,r,o)).user,console.log("✓ Auth account created"),console.log("   UID:",i.uid),console.log(`
[3/5] Waiting for authentication to initialize...`),await this.waitForAuth(),console.log(`
[4/5] Getting authentication token...`);const E=await i.getIdToken(!0);return console.log("✓ Token obtained:",E.substring(0,20)+"..."),console.log("   Waiting for token to propagate..."),await new Promise(T=>setTimeout(T,2e3)),console.log(`
[5/5] Creating user profile in database...`),await this.createUserDocument(i.uid,e),console.log(`
=== SIGNUP COMPLETED SUCCESSFULLY ===
`),{uid:i.uid,docId:i.uid,email:r.toLowerCase().trim(),firstName:c.trim(),lastName:h.trim(),contactNumber:m.replace(/\s/g,""),role:"user",accountStatus:"active"}}catch(r){if(console.error(`
=== SIGNUP FAILED ===`),console.error("Error code:",r.code),console.error("Error message:",r.message),console.error("Full error:",r),i&&(r.code==="permission-denied"||r.message.includes("permission"))){console.log(`
Cleaning up: Attempting to delete auth user...`);try{await i.delete(),console.log("✓ Auth user deleted")}catch(o){console.error("✗ Failed to delete auth user:",o)}}return this.handleSignupError(r)}}handleSignupError(e){throw e.code==="auth/email-already-in-use"?new Error("This email is already registered. Please try logging in or use a different email."):e.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):e.code==="auth/invalid-email"?new Error("Invalid email format. Please enter a valid email address."):e.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):e.code==="permission-denied"||e.message.includes("permission")?new Error("Unable to create user profile. Please ensure you are properly authenticated and try again."):e.message.includes("already registered")||e.message.includes("All fields are required")?e:(console.error("Unhandled error:",e),new Error("Signup failed: "+(e.message||"Please try again.")))}}const eD=new Z3,tD=()=>{const n=Cn(),[e,i]=Q.useState(1),[r,o]=Q.useState({firstName:"",lastName:"",contactNumber:"",email:"",password:""}),[c,h]=Q.useState({}),[m,p]=Q.useState(!1),g=F=>{const z=F.replace(/\D/g,"");let P=z;return z.length>4&&z.length<=7?P=`${z.slice(0,4)} ${z.slice(4)}`:z.length>7&&(P=`${z.slice(0,4)} ${z.slice(4,7)} ${z.slice(7,11)}`),P},E=F=>{const z=F.replace(/\D/g,"");return/^09\d{9}$/.test(z)},T=F=>/\S+@\S+\.\S+/.test(F),w=F=>F.trim().toLowerCase(),k=F=>{const{name:z,value:P}=F.target;if(z==="contactNumber"){const re=g(P);o(ae=>({...ae,contactNumber:re})),E(re)&&h(ae=>({...ae,contactNumber:""}))}else if(z==="email"){const re=w(P);o(ae=>({...ae,email:re})),T(re)&&h(ae=>({...ae,email:""}))}else o(re=>({...re,[z]:P}))},B=F=>{if(F.preventDefault(),!E(r.contactNumber)){h({contactNumber:"Please enter a valid mobile number (09XX XXX XXXX)"});return}h({}),i(2)},H=()=>{e===2?i(1):n("/login")},L=async F=>{if(F.preventDefault(),!T(r.email)){h({email:"Please enter a valid email address"});return}if(r.password.length<6){h({password:"Password must be at least 6 characters"});return}h({}),p(!0);try{const z=await eD.signup({email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName,contactNumber:r.contactNumber});console.log("Signup successful:",z),n("/home")}catch(z){console.error("Signup error:",z),h({general:z.message})}finally{p(!1)}};return y.jsx("div",{className:"login-page",children:y.jsxs("div",{className:"login-wrapper",children:[y.jsxs("div",{className:"login-hero",children:[y.jsx("button",{className:"back-btn",onClick:H,children:"← Back"}),y.jsx("h1",{className:"logo-title",children:"Sign Up"}),y.jsx("p",{className:"logo-subtitle",children:e===1?"Tell us about yourself":"Create your account"}),y.jsx("p",{className:"hero-description",children:e===1?"Let's start with your basic information. We'll need your name and contact details.":"Almost there! Set up your email and password to complete your registration."})]}),y.jsxs("main",{className:"login-content",children:[e===1?y.jsxs("form",{className:"email-form",onSubmit:B,noValidate:!0,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),y.jsx("input",{type:"text",id:"firstName",name:"firstName",className:"form-input",placeholder:"Juan",value:r.firstName,onChange:k,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),y.jsx("input",{type:"text",id:"lastName",name:"lastName",className:"form-input",placeholder:"Dela Cruz",value:r.lastName,onChange:k,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"contactNumber",className:"form-label",children:"Contact Number"}),y.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",className:"form-input",placeholder:"09XX XXX XXXX",value:r.contactNumber,onChange:k,required:!0}),c.contactNumber&&y.jsx("span",{className:"error-message",children:c.contactNumber})]}),y.jsx("button",{type:"submit",className:"submit-btn",children:"Next"})]}):y.jsxs("form",{className:"email-form",onSubmit:L,noValidate:!0,children:[c.general&&y.jsx("div",{className:"error-message",style:{marginBottom:"1rem"},children:c.general}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),y.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"juan@example.com",value:r.email,onChange:k,required:!0,disabled:m}),c.email&&y.jsx("span",{className:"error-message",children:c.email})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),y.jsx("input",{type:"password",id:"password",name:"password",className:"form-input",placeholder:"Create a strong password",value:r.password,onChange:k,required:!0,minLength:"6",disabled:m}),c.password&&y.jsx("span",{className:"error-message",children:c.password})]}),y.jsx("button",{type:"submit",className:"submit-btn",disabled:m,children:m?"Creating Account...":"Create Account"})]}),y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Already have an account? ",y.jsx("a",{href:"/login",className:"signup-link",children:"Sign In"})]})})]})]})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),_0=n=>{const e=iD(n);return e.charAt(0).toUpperCase()+e.slice(1)},_T=(...n)=>n.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),sD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:h,...m},p)=>Q.createElement("svg",{ref:p,...rD,width:e,height:e,stroke:n,strokeWidth:r?Number(i)*24/Number(e):i,className:_T("lucide",o),...!c&&!sD(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>Q.createElement(g,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=(n,e)=>{const i=Q.forwardRef(({className:r,...o},c)=>Q.createElement(aD,{ref:c,iconNode:e,className:_T(`lucide-${nD(_0(n))}`,`lucide-${n}`,r),...o}));return i.displayName=_0(n),i};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],v0=As("camera",oD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vT=As("eye",lD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ET=As("heart",cD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],E0=As("map-pin",uD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],fD=As("message-circle",hD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mD=As("plus",dD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],b0=As("star",pD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],T0=As("trending-up",gD);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bT=As("user",yD),_D=`
  .vendor-dashboard {
    font-family: Arial, sans-serif;
    background-color: #f5f5f5;
    min-height: 100vh;
    padding-bottom: 80px;
  }

  .vendor-header {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    color: white;
    padding: 16px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .vendor-header h1 {
    font-size: 24px;
    font-weight: bold;
    margin: 0;
  }

  .vendor-badge {
    background-color: rgba(255, 255, 255, 0.2);
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
  }

  .vendor-main {
    padding: 20px;
    max-width: 100%;
  }

  .vendor-content {
    animation: fadeIn 0.3s ease-in;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .content-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .content-header h2 {
    font-size: 22px;
    font-weight: bold;
    color: #111827;
    margin: 0;
  }

  .add-button {
    background-color: #dc2626;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: background-color 0.3s;
  }

  .add-button:hover {
    background-color: #b91c1c;
  }

  .vendor-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 24px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .vendor-profile {
    display: flex;
    gap: 16px;
    align-items: start;
  }

  .vendor-image-container {
    position: relative;
    flex-shrink: 0;
  }

  .vendor-image {
    width: 100px;
    height: 100px;
    border-radius: 12px;
    object-fit: cover;
  }

  .edit-image-btn {
    position: absolute;
    bottom: -8px;
    right: -8px;
    background-color: #dc2626;
    color: white;
    border: 2px solid white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }

  .vendor-info {
    flex: 1;
  }

  .vendor-info h3 {
    font-size: 18px;
    font-weight: bold;
    color: #111827;
    margin: 0 0 8px 0;
  }

  .vendor-description {
    font-size: 14px;
    color: #6b7280;
    margin: 0 0 12px 0;
  }

  .vendor-meta {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    font-size: 13px;
  }

  .vendor-meta .location {
    display: flex;
    align-items: center;
    gap: 4px;
    color: #6b7280;
  }

  .vendor-meta .category {
    background-color: #f3f4f6;
    padding: 4px 10px;
    border-radius: 12px;
    color: #374151;
  }

  .vendor-meta .rating {
    display: flex;
    align-items: center;
    gap: 4px;
    color: #111827;
    font-weight: 600;
  }

  .edit-button {
    background-color: #f3f4f6;
    color: #374151;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: background-color 0.3s;
  }

  .edit-button:hover {
    background-color: #e5e7eb;
  }

  .listings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
  }

  .listing-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .listing-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .listing-image-wrapper {
    position: relative;
    height: 180px;
    overflow: hidden;
  }

  .listing-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .listing-stats {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 8px;
  }

  .listing-stats span {
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .listing-details {
    padding: 12px;
  }

  .listing-details h4 {
    font-size: 16px;
    font-weight: 600;
    color: #111827;
    margin: 0 0 6px 0;
  }

  .listing-price {
    font-size: 18px;
    font-weight: bold;
    color: #dc2626;
    margin: 0 0 12px 0;
  }

  .edit-listing-btn {
    width: 100%;
    background-color: #f3f4f6;
    color: #374151;
    border: none;
    padding: 8px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: background-color 0.3s;
  }

  .edit-listing-btn:hover {
    background-color: #e5e7eb;
  }

  .period-select {
    padding: 8px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    background-color: white;
    cursor: pointer;
    font-size: 14px;
    color: #374151;
  }

  .insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 24px;
  }

  .insight-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    display: flex;
    gap: 12px;
  }

  .insight-icon {
    width: 44px;
    height: 44px;
    background-color: #fee2e2;
    color: #dc2626;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .insight-info {
    flex: 1;
  }

  .insight-label {
    font-size: 13px;
    color: #6b7280;
    margin: 0 0 4px 0;
  }

  .insight-value {
    font-size: 24px;
    font-weight: bold;
    color: #111827;
    margin: 0 0 4px 0;
  }

  .insight-change {
    font-size: 12px;
    font-weight: 600;
  }

  .insight-change.positive {
    color: #10b981;
  }

  .chart-placeholder {
    background: white;
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .chart-placeholder h3 {
    font-size: 18px;
    font-weight: bold;
    color: #111827;
    margin: 0 0 16px 0;
  }

  .chart-content {
    background-color: #f9fafb;
    border-radius: 8px;
    padding: 40px;
    text-align: center;
    color: #6b7280;
  }

  .chart-content p {
    margin: 8px 0;
  }

  .chart-note {
    font-size: 13px;
  }

  .messages-list {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .message-item {
    display: flex;
    gap: 12px;
    padding: 16px;
    border-bottom: 1px solid #f3f4f6;
    cursor: pointer;
    transition: background-color 0.3s;
    position: relative;
  }

  .message-item:hover {
    background-color: #f9fafb;
  }

  .message-item.unread {
    background-color: #fef2f2;
  }

  .message-avatar {
    width: 44px;
    height: 44px;
    background-color: #f3f4f6;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #6b7280;
    flex-shrink: 0;
  }

  .message-content {
    flex: 1;
  }

  .message-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
  }

  .message-header h4 {
    font-size: 15px;
    font-weight: 600;
    color: #111827;
    margin: 0;
  }

  .message-time {
    font-size: 12px;
    color: #9ca3af;
  }

  .message-text {
    font-size: 14px;
    color: #6b7280;
    margin: 0;
  }

  .unread-indicator {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    width: 8px;
    height: 8px;
    background-color: #dc2626;
    border-radius: 50%;
  }

  .profile-section {
    background: white;
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .profile-field {
    margin-bottom: 20px;
  }

  .profile-field label {
    display: block;
    font-size: 14px;
    font-weight: 500;
    color: #374151;
    margin-bottom: 8px;
  }

  .profile-field input,
  .profile-field textarea,
  .profile-field select {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 14px;
    color: #374151;
    box-sizing: border-box;
  }

  .profile-field textarea {
    resize: vertical;
    font-family: Arial, sans-serif;
  }

  .save-button {
    background-color: #dc2626;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    width: 100%;
    transition: background-color 0.3s;
  }

  .save-button:hover {
    background-color: #b91c1c;
  }

  .vendor-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: white;
    border-top: 1px solid #e5e7eb;
    padding: 8px 16px 12px;
    display: flex;
    justify-content: space-around;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
    z-index: 100;
  }

  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px 12px;
    color: #6b7280;
    transition: color 0.3s;
    position: relative;
  }

  .nav-item.active {
    color: #dc2626;
  }

  .nav-item span {
    font-size: 11px;
    font-weight: 500;
  }

  .notification-badge {
    position: absolute;
    top: 0;
    right: 8px;
    background-color: #dc2626;
    color: white;
    font-size: 10px;
    font-weight: bold;
    padding: 2px 5px;
    border-radius: 10px;
    min-width: 16px;
    text-align: center;
  }

  .modal-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    padding: 20px;
  }

  .modal-content {
    background: white;
    border-radius: 16px;
    padding: 24px;
    max-width: 500px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
  }

  .modal-content h3 {
    font-size: 20px;
    font-weight: bold;
    color: #111827;
    margin: 0 0 20px 0;
  }

  .modal-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .form-field {
    display: flex;
    flex-direction: column;
  }

  .form-field label {
    font-size: 14px;
    font-weight: 500;
    color: #374151;
    margin-bottom: 8px;
  }

  .form-field input,
  .form-field textarea {
    padding: 10px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 14px;
    color: #374151;
  }

  .upload-area {
    border: 2px dashed #e5e7eb;
    border-radius: 8px;
    padding: 32px;
    text-align: center;
    cursor: pointer;
    transition: border-color 0.3s;
  }

  .upload-area:hover {
    border-color: #dc2626;
  }

  .upload-area p {
    margin: 8px 0 0 0;
    font-size: 13px;
    color: #6b7280;
  }

  .modal-actions {
    display: flex;
    gap: 12px;
    margin-top: 8px;
  }

  .cancel-btn,
  .submit-btn {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    transition: background-color 0.3s;
  }

  .cancel-btn {
    background-color: #f3f4f6;
    color: #374151;
  }

  .cancel-btn:hover {
    background-color: #e5e7eb;
  }

  .submit-btn {
    background-color: #dc2626;
    color: white;
  }

  .submit-btn:hover {
    background-color: #b91c1c;
  }

  @media (max-width: 640px) {
    .vendor-profile {
      flex-direction: column;
    }

    .insights-grid {
      grid-template-columns: 1fr;
    }

    .listings-grid {
      grid-template-columns: 1fr;
    }
  }
`,vD=()=>{const n=an.c(58),[e,i]=Q.useState("listings"),[r,o]=Q.useState(!1);let c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={name:"Boss Karl's Cart",description:"Authentic Filipino street food since 2020",location:"Sampaloc, Manila",category:"Street Food",rating:4.8,image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400&h=400&fit=crop"},n[0]=c):c=n[0];const h=c;let m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m=[{id:1,name:"Isaw Combo",price:"₱35",image:"https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?w=300&h=200&fit=crop",views:234,likes:45},{id:2,name:"Kwek-Kwek Special",price:"₱25",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=300&h=200&fit=crop",views:189,likes:38},{id:3,name:"Barbecue Stick",price:"₱15",image:"https://images.unsplash.com/photo-1529692236671-f1f6cf9683ba?w=300&h=200&fit=crop",views:312,likes:67}],n[1]=m):m=n[1];const p=m;let g;n[2]===Symbol.for("react.memo_cache_sentinel")?(g={label:"Profile Views",value:"1,234",change:"+12%",icon:y.jsx(vT,{size:20})},n[2]=g):g=n[2];let E;n[3]===Symbol.for("react.memo_cache_sentinel")?(E={label:"Total Likes",value:"456",change:"+8%",icon:y.jsx(ET,{size:20})},n[3]=E):E=n[3];let T;n[4]===Symbol.for("react.memo_cache_sentinel")?(T={label:"Listing Views",value:"2,891",change:"+15%",icon:y.jsx(T0,{size:20})},n[4]=T):T=n[4];let w;n[5]===Symbol.for("react.memo_cache_sentinel")?(w=[g,E,T,{label:"Engagement Rate",value:"23%",change:"+3%",icon:y.jsx(b0,{size:20})}],n[5]=w):w=n[5];const k=w;let B;n[6]===Symbol.for("react.memo_cache_sentinel")?(B=[{id:1,user:"Maria S.",message:"What time do you open?",time:"10 min ago",unread:!0},{id:2,user:"Juan D.",message:"Do you have vegetarian options?",time:"1 hour ago",unread:!0},{id:3,user:"Anna R.",message:"Great food! Will visit again.",time:"2 hours ago",unread:!1}],n[6]=B):B=n[6];const H=B;let L;n[7]===Symbol.for("react.memo_cache_sentinel")?(L=()=>y.jsxs("div",{className:"vendor-content",children:[y.jsxs("div",{className:"content-header",children:[y.jsx("h2",{children:"My Listings"}),y.jsxs("button",{className:"add-button",onClick:()=>o(!0),children:[y.jsx(mD,{size:18}),y.jsx("span",{children:"Add New"})]})]}),y.jsx("div",{className:"vendor-card",children:y.jsxs("div",{className:"vendor-profile",children:[y.jsxs("div",{className:"vendor-image-container",children:[y.jsx("img",{src:h.image,alt:h.name,className:"vendor-image"}),y.jsx("button",{className:"edit-image-btn",children:y.jsx(v0,{size:16})})]}),y.jsxs("div",{className:"vendor-info",children:[y.jsx("h3",{children:h.name}),y.jsx("p",{className:"vendor-description",children:h.description}),y.jsxs("div",{className:"vendor-meta",children:[y.jsxs("span",{className:"location",children:[y.jsx(E0,{size:14}),h.location]}),y.jsx("span",{className:"category",children:h.category}),y.jsxs("span",{className:"rating",children:[y.jsx(b0,{size:14,fill:"#fbbf24",color:"#fbbf24"}),h.rating]})]})]}),y.jsx("button",{className:"edit-button",children:"Edit"})]})}),y.jsx("div",{className:"listings-grid",children:p.map(ED)})]}),n[7]=L):L=n[7];const F=L;let z;n[8]===Symbol.for("react.memo_cache_sentinel")?(z=()=>y.jsxs("div",{className:"vendor-content",children:[y.jsxs("div",{className:"content-header",children:[y.jsx("h2",{children:"Insights"}),y.jsxs("select",{className:"period-select",children:[y.jsx("option",{children:"Last 7 days"}),y.jsx("option",{children:"Last 30 days"}),y.jsx("option",{children:"Last 90 days"})]})]}),y.jsx("div",{className:"insights-grid",children:k.map(bD)}),y.jsxs("div",{className:"chart-placeholder",children:[y.jsx("h3",{children:"Engagement Over Time"}),y.jsxs("div",{className:"chart-content",children:[y.jsx("p",{children:"Chart visualization would go here"}),y.jsx("p",{className:"chart-note",children:"Track your profile views, likes, and engagement metrics"})]})]})]}),n[8]=z):z=n[8];const P=z;let re;n[9]===Symbol.for("react.memo_cache_sentinel")?(re=()=>y.jsxs("div",{className:"vendor-content",children:[y.jsx("div",{className:"content-header",children:y.jsx("h2",{children:"Messages"})}),y.jsx("div",{className:"messages-list",children:H.map(TD)})]}),n[9]=re):re=n[9];const ae=re;let ce;n[10]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>y.jsxs("div",{className:"vendor-content",children:[y.jsx("div",{className:"content-header",children:y.jsx("h2",{children:"Profile Settings"})}),y.jsxs("div",{className:"profile-section",children:[y.jsxs("div",{className:"profile-field",children:[y.jsx("label",{children:"Business Name"}),y.jsx("input",{type:"text",defaultValue:h.name})]}),y.jsxs("div",{className:"profile-field",children:[y.jsx("label",{children:"Description"}),y.jsx("textarea",{rows:"3",defaultValue:h.description})]}),y.jsxs("div",{className:"profile-field",children:[y.jsx("label",{children:"Location"}),y.jsx("input",{type:"text",defaultValue:h.location})]}),y.jsxs("div",{className:"profile-field",children:[y.jsx("label",{children:"Category"}),y.jsxs("select",{defaultValue:h.category,children:[y.jsx("option",{children:"Street Food"}),y.jsx("option",{children:"Beverages"}),y.jsx("option",{children:"Desserts"}),y.jsx("option",{children:"Grilled Items"})]})]}),y.jsxs("div",{className:"profile-field",children:[y.jsx("label",{children:"Operating Hours"}),y.jsx("input",{type:"text",placeholder:"e.g., 8:00 AM - 8:00 PM"})]}),y.jsxs("div",{className:"profile-field",children:[y.jsx("label",{children:"Contact Number"}),y.jsx("input",{type:"tel",placeholder:"+63 XXX XXX XXXX"})]}),y.jsx("button",{className:"save-button",children:"Save Changes"})]})]}),n[10]=ce):ce=n[10];const C=ce;let x;n[11]===Symbol.for("react.memo_cache_sentinel")?(x=y.jsx("style",{children:_D}),n[11]=x):x=n[11];let R;n[12]===Symbol.for("react.memo_cache_sentinel")?(R=y.jsxs("header",{className:"vendor-header",children:[y.jsx("h1",{children:"StreetBites"}),y.jsx("span",{className:"vendor-badge",children:"Vendor"})]}),n[12]=R):R=n[12];let I;n[13]!==e?(I=e==="listings"&&F(),n[13]=e,n[14]=I):I=n[14];let D;n[15]!==e?(D=e==="insights"&&P(),n[15]=e,n[16]=D):D=n[16];let M;n[17]!==e?(M=e==="messages"&&ae(),n[17]=e,n[18]=M):M=n[18];let N;n[19]!==e?(N=e==="profile"&&C(),n[19]=e,n[20]=N):N=n[20];let ye;n[21]!==I||n[22]!==D||n[23]!==M||n[24]!==N?(ye=y.jsxs("div",{className:"vendor-main",children:[I,D,M,N]}),n[21]=I,n[22]=D,n[23]=M,n[24]=N,n[25]=ye):ye=n[25];const we=`nav-item ${e==="listings"?"active":""}`;let G,ie,oe;n[26]===Symbol.for("react.memo_cache_sentinel")?(G=()=>i("listings"),ie=y.jsx(E0,{size:22}),oe=y.jsx("span",{children:"My Listings"}),n[26]=G,n[27]=ie,n[28]=oe):(G=n[26],ie=n[27],oe=n[28]);let de;n[29]!==we?(de=y.jsxs("button",{className:we,onClick:G,children:[ie,oe]}),n[29]=we,n[30]=de):de=n[30];const he=`nav-item ${e==="insights"?"active":""}`;let V,Z,ue;n[31]===Symbol.for("react.memo_cache_sentinel")?(V=()=>i("insights"),Z=y.jsx(T0,{size:22}),ue=y.jsx("span",{children:"Insights"}),n[31]=V,n[32]=Z,n[33]=ue):(V=n[31],Z=n[32],ue=n[33]);let fe;n[34]!==he?(fe=y.jsxs("button",{className:he,onClick:V,children:[Z,ue]}),n[34]=he,n[35]=fe):fe=n[35];const Te=`nav-item ${e==="messages"?"active":""}`;let xe,ke,ot,Ye;n[36]===Symbol.for("react.memo_cache_sentinel")?(xe=()=>i("messages"),ke=y.jsx(fD,{size:22}),ot=y.jsx("span",{children:"Messages"}),Ye=y.jsx("span",{className:"notification-badge",children:"2"}),n[36]=xe,n[37]=ke,n[38]=ot,n[39]=Ye):(xe=n[36],ke=n[37],ot=n[38],Ye=n[39]);let on;n[40]!==Te?(on=y.jsxs("button",{className:Te,onClick:xe,children:[ke,ot,Ye]}),n[40]=Te,n[41]=on):on=n[41];const ui=`nav-item ${e==="profile"?"active":""}`;let Kn,Qn,tn;n[42]===Symbol.for("react.memo_cache_sentinel")?(Kn=()=>i("profile"),Qn=y.jsx(bT,{size:22}),tn=y.jsx("span",{children:"Profile"}),n[42]=Kn,n[43]=Qn,n[44]=tn):(Kn=n[42],Qn=n[43],tn=n[44]);let Nn;n[45]!==ui?(Nn=y.jsxs("button",{className:ui,onClick:Kn,children:[Qn,tn]}),n[45]=ui,n[46]=Nn):Nn=n[46];let ln;n[47]!==de||n[48]!==fe||n[49]!==on||n[50]!==Nn?(ln=y.jsxs("nav",{className:"vendor-bottom-nav",children:[de,fe,on,Nn]}),n[47]=de,n[48]=fe,n[49]=on,n[50]=Nn,n[51]=ln):ln=n[51];let In;n[52]!==r?(In=r&&y.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:y.jsxs("div",{className:"modal-content",onClick:SD,children:[y.jsx("h3",{children:"Add New Listing"}),y.jsxs("div",{className:"modal-form",children:[y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:"Item Name"}),y.jsx("input",{type:"text",placeholder:"e.g., Chicken Barbecue"})]}),y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:"Price"}),y.jsx("input",{type:"text",placeholder:"₱"})]}),y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:"Description"}),y.jsx("textarea",{rows:"3",placeholder:"Describe your item..."})]}),y.jsxs("div",{className:"form-field",children:[y.jsx("label",{children:"Upload Photo"}),y.jsxs("div",{className:"upload-area",children:[y.jsx(v0,{size:32}),y.jsx("p",{children:"Click to upload or drag and drop"})]})]}),y.jsxs("div",{className:"modal-actions",children:[y.jsx("button",{className:"cancel-btn",onClick:()=>o(!1),children:"Cancel"}),y.jsx("button",{className:"submit-btn",children:"Add Listing"})]})]})]})}),n[52]=r,n[53]=In):In=n[53];let hi;return n[54]!==ye||n[55]!==ln||n[56]!==In?(hi=y.jsxs(y.Fragment,{children:[x,y.jsxs("div",{className:"vendor-dashboard",children:[R,ye,ln,In]})]}),n[54]=ye,n[55]=ln,n[56]=In,n[57]=hi):hi=n[57],hi};function ED(n){return y.jsxs("div",{className:"listing-card",children:[y.jsxs("div",{className:"listing-image-wrapper",children:[y.jsx("img",{src:n.image,alt:n.name,className:"listing-image"}),y.jsxs("div",{className:"listing-stats",children:[y.jsxs("span",{children:[y.jsx(vT,{size:12})," ",n.views]}),y.jsxs("span",{children:[y.jsx(ET,{size:12})," ",n.likes]})]})]}),y.jsxs("div",{className:"listing-details",children:[y.jsx("h4",{children:n.name}),y.jsx("p",{className:"listing-price",children:n.price}),y.jsx("button",{className:"edit-listing-btn",children:"Edit"})]})]},n.id)}function bD(n,e){return y.jsxs("div",{className:"insight-card",children:[y.jsx("div",{className:"insight-icon",children:n.icon}),y.jsxs("div",{className:"insight-info",children:[y.jsx("p",{className:"insight-label",children:n.label}),y.jsx("h3",{className:"insight-value",children:n.value}),y.jsx("span",{className:"insight-change positive",children:n.change})]})]},e)}function TD(n){return y.jsxs("div",{className:`message-item ${n.unread?"unread":""}`,children:[y.jsx("div",{className:"message-avatar",children:y.jsx(bT,{size:24})}),y.jsxs("div",{className:"message-content",children:[y.jsxs("div",{className:"message-header",children:[y.jsx("h4",{children:n.user}),y.jsx("span",{className:"message-time",children:n.time})]}),y.jsx("p",{className:"message-text",children:n.message})]}),n.unread&&y.jsx("div",{className:"unread-indicator"})]},n.id)}function SD(n){return n.stopPropagation()}class wD{async getUserByEmail(e){try{const i=e.toLowerCase().trim();console.log("Searching for user with email:",i);const r=ep(ta,"users"),o=np(r,ip("email","==",i)),c=await uh(o);if(console.log(`Found ${c.size} matching user(s)`),c.empty){console.warn("No user found. Attempting alternative search with original case...");const p=(await uh(r)).docs.find(g=>g.data().email?.toLowerCase()===i);return p?(console.log("✓ User found via case-insensitive search"),{uid:p.id,...p.data()}):null}const h=c.docs[0];return console.log("✓ User found:",h.data()),{uid:h.id,...h.data()}}catch(i){throw console.error("Error checking user existence:",i),new Error(`Failed to search for user: ${i.message}`)}}async isAlreadyVendor(e){try{const i=lh(ta,"vendors",e);return(await _3(i)).exists()}catch(i){return console.error("Error checking vendor existence:",i),!1}}async businessNameExists(e){try{const i=ep(ta,"vendors"),r=np(i,ip("business_name","==",e.trim()));return!(await uh(r)).empty}catch(i){return console.error("Error checking business name existence:",i),!1}}async updateUserRoleToVendor(e){try{console.log("Attempting to update user role for UID:",e);const i=lh(ta,"users",e);await v3(i,{role:"vendor",updated_at:new Date}),console.log("✓ User role updated to vendor")}catch(i){throw console.error("Error updating user role:",i.code,i.message),new Error(`Failed to update user role: ${i.message}`)}}async createVendorDocument(e,i){const{businessName:r,address:o,operatingHours:c}=i,h={user_id:`/users/${e}`,business_name:r.trim(),address:o.trim(),operating_hours:c.trim(),verification_status:"pending",created_at:new Date,updated_at:new Date};console.log("Creating vendor document at path: vendors/"+e),console.log("Vendor document data:",h);const m=lh(ta,"vendors",e);await dT(m,h),console.log("✓ Vendor document created successfully")}async applyAsVendor(e){try{const{email:i,businessName:r,address:o,operatingHours:c}=e;if(!i||!r||!o||!c)throw new Error("All fields are required");console.log(`
=== VENDOR APPLICATION PROCESS STARTED ===`),console.log("Email provided:",i),console.log("Business Name:",r),console.log(`
[1/5] Checking if user account exists...`);const h=await this.getUserByEmail(i);if(!h)throw console.error("User not found in database"),console.error("Troubleshooting tips:"),console.error("1. Make sure the email matches exactly (case-sensitive in some systems)"),console.error('2. Verify the account was created in the "users" collection'),console.error("3. Check browser console and Firebase console for details"),new Error(`No user account found with this email. Please verify:
1. You used the correct email
2. The account was successfully created
3. Try refreshing the page and try again`);if(console.log("✓ User account found"),console.log("   UID:",h.uid),console.log("   Email:",h.email),console.log(`
[2/5] Checking if user is already a vendor...`),await this.isAlreadyVendor(h.uid))throw new Error("This account is already registered as a vendor.");if(console.log("✓ User is not yet a vendor"),console.log(`
[3/5] Checking business name availability...`),await this.businessNameExists(r))throw new Error("This business name is already registered. Please use a different name.");return console.log("✓ Business name available"),console.log(`
[4/5] Updating user role to vendor...`),await this.updateUserRoleToVendor(h.uid),console.log(`
[5/5] Creating vendor profile in database...`),await this.createVendorDocument(h.uid,{businessName:r,address:o,operatingHours:c}),console.log(`
=== VENDOR APPLICATION COMPLETED SUCCESSFULLY ===
`),{uid:h.uid,email:h.email,firstName:h.first_name,lastName:h.last_name,contactNumber:h.contact_number,role:"vendor",businessName:r.trim(),address:o.trim(),operatingHours:c.trim(),verificationStatus:"pending"}}catch(i){return console.error(`
=== VENDOR APPLICATION FAILED ===`),console.error("Error code:",i.code),console.error("Error message:",i.message),console.error("Full error:",i),this.handleApplicationError(i)}}handleApplicationError(e){throw e.code==="permission-denied"||e.message.includes("permission")?new Error("Unable to create vendor profile. Please ensure you are properly authenticated and try again."):e.message.includes("No user account found")||e.message.includes("already registered as a vendor")||e.message.includes("already registered")||e.message.includes("All fields are required")?e:(console.error("Unhandled error:",e),new Error("Vendor application failed: "+(e.message||"Please try again.")))}}const AD=new wD,xD=()=>{const n=Cn(),[e,i]=Q.useState(1),[r,o]=Q.useState({email:"",businessName:"",address:"",operatingHours:""}),[c,h]=Q.useState({}),[m,p]=Q.useState(!1),g=H=>/\S+@\S+\.\S+/.test(H),E=H=>H.trim().toLowerCase(),T=H=>{const{name:L,value:F}=H.target;if(L==="email"){const z=E(F);o(P=>({...P,email:z})),g(z)&&h(P=>({...P,email:""}))}else o(z=>({...z,[L]:F}))},w=H=>{H.preventDefault();const L={};if(g(r.email)||(L.email="Please enter a valid email address"),Object.keys(L).length>0){h(L);return}h({}),i(2)},k=()=>{e===2?i(1):n("/login")},B=async H=>{H.preventDefault();const L={};if(r.businessName.trim()||(L.businessName="Business name is required"),r.address.trim()||(L.address="Address is required"),r.operatingHours.trim()||(L.operatingHours="Operating hours are required"),Object.keys(L).length>0){h(L);return}h({}),p(!0);try{const F=await AD.applyAsVendor({email:r.email,businessName:r.businessName,address:r.address,operatingHours:r.operatingHours});console.log("Vendor application successful:",F),n("/vendor-dashboard")}catch(F){console.error("Vendor application error:",F),h({submit:F.message||"Application failed. Please try again."})}finally{p(!1)}};return y.jsx("div",{className:"login-page",children:y.jsxs("div",{className:"login-wrapper",children:[y.jsxs("div",{className:"login-hero",children:[y.jsx("button",{className:"back-btn",onClick:k,disabled:m,children:"← Back"}),y.jsx("h1",{className:"logo-title",children:"Apply as Vendor"}),y.jsx("p",{className:"logo-subtitle",children:e===1?"Verify Your Account":"Business Information"}),y.jsx("p",{className:"hero-description",children:e===1?"Enter the email address associated with your existing user account to continue.":"Tell us about your business. Your application will be reviewed by our team for approval."})]}),y.jsxs("main",{className:"login-content",children:[e===1&&y.jsxs("form",{className:"email-form",onSubmit:w,noValidate:!0,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),y.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",placeholder:"juan@example.com",value:r.email,onChange:T,required:!0}),c.email&&y.jsx("span",{className:"error-message",children:c.email}),y.jsx("small",{style:{display:"block",marginTop:"8px",color:"#6b7280",fontSize:"13px"},children:"Use the email from your existing StreetBites account"})]}),y.jsx("button",{type:"submit",className:"submit-btn",children:"Next"})]}),e===2&&y.jsxs("form",{className:"email-form",onSubmit:B,noValidate:!0,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"businessName",className:"form-label",children:"Business Name"}),y.jsx("input",{type:"text",id:"businessName",name:"businessName",className:"form-input",placeholder:"Jack's Cool Drinks",value:r.businessName,onChange:T,required:!0,disabled:m}),c.businessName&&y.jsx("span",{className:"error-message",children:c.businessName})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"address",className:"form-label",children:"Business Address"}),y.jsx("input",{type:"text",id:"address",name:"address",className:"form-input",placeholder:"Etivac",value:r.address,onChange:T,required:!0,disabled:m}),c.address&&y.jsx("span",{className:"error-message",children:c.address})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"operatingHours",className:"form-label",children:"Operating Hours"}),y.jsx("input",{type:"text",id:"operatingHours",name:"operatingHours",className:"form-input",placeholder:"1pm to 3pm",value:r.operatingHours,onChange:T,required:!0,disabled:m}),c.operatingHours&&y.jsx("span",{className:"error-message",children:c.operatingHours})]}),y.jsxs("div",{className:"form-group",style:{backgroundColor:"#f3f4f6",padding:"12px",borderRadius:"8px",marginBottom:"20px"},children:[y.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#6b7280"},children:[y.jsx("strong",{children:"📋 Application Status:"})," Pending Review"]}),y.jsx("small",{style:{display:"block",marginTop:"4px",color:"#6b7280",fontSize:"12px"},children:"Your vendor application will be reviewed by our team. You'll receive an email notification once approved."})]}),c.submit&&y.jsx("div",{className:"error-message",style:{marginBottom:"16px",textAlign:"center"},children:c.submit}),y.jsx("button",{type:"submit",className:"submit-btn",disabled:m,children:m?"Submitting Application...":"Submit Application"})]}),y.jsx("div",{className:"signup-section",children:y.jsxs("span",{className:"signup-text",children:["Don't have an account?"," ",y.jsx("a",{href:"/user-sign",className:"signup-link",children:"Create User Account First"})]})})]})]})})};function RD(){const n=an.c(19);let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=y.jsx(Nt,{path:"/",element:y.jsx(Bw,{})}),n[0]=e):e=n[0];let i;n[1]===Symbol.for("react.memo_cache_sentinel")?(i=y.jsx(Nt,{path:"/profile",element:y.jsx(qw,{})}),n[1]=i):i=n[1];let r;n[2]===Symbol.for("react.memo_cache_sentinel")?(r=y.jsx(Nt,{path:"/search/:query",element:y.jsx(Gw,{})}),n[2]=r):r=n[2];let o;n[3]===Symbol.for("react.memo_cache_sentinel")?(o=y.jsx(Nt,{path:"/maps",element:y.jsx(Kw,{})}),n[3]=o):o=n[3];let c;n[4]===Symbol.for("react.memo_cache_sentinel")?(c=y.jsx(Nt,{path:"/email-settings",element:y.jsx(Yw,{})}),n[4]=c):c=n[4];let h;n[5]===Symbol.for("react.memo_cache_sentinel")?(h=y.jsx(Nt,{path:"/faq",element:y.jsx($w,{})}),n[5]=h):h=n[5];let m;n[6]===Symbol.for("react.memo_cache_sentinel")?(m=y.jsx(Nt,{path:"/privacy-policy",element:y.jsx(Xw,{})}),n[6]=m):m=n[6];let p;n[7]===Symbol.for("react.memo_cache_sentinel")?(p=y.jsx(Nt,{path:"/security",element:y.jsx(Ww,{})}),n[7]=p):p=n[7];let g;n[8]===Symbol.for("react.memo_cache_sentinel")?(g=y.jsx(Nt,{path:"/terms-of-service",element:y.jsx(Jw,{})}),n[8]=g):g=n[8];let E;n[9]===Symbol.for("react.memo_cache_sentinel")?(E=y.jsx(Nt,{path:"/account",element:y.jsx(Qw,{})}),n[9]=E):E=n[9];let T;n[10]===Symbol.for("react.memo_cache_sentinel")?(T=y.jsx(Nt,{path:"/favorites",element:y.jsx(Zw,{})}),n[10]=T):T=n[10];let w;n[11]===Symbol.for("react.memo_cache_sentinel")?(w=y.jsx(Nt,{path:"/admin-login",element:y.jsx(U0,{})}),n[11]=w):w=n[11];let k;n[12]===Symbol.for("react.memo_cache_sentinel")?(k=y.jsx(Nt,{path:"/admin-sign",element:y.jsx(uA,{})}),n[12]=k):k=n[12];let B;n[13]===Symbol.for("react.memo_cache_sentinel")?(B=y.jsx(Nt,{path:"/login",element:y.jsx(cA,{})}),n[13]=B):B=n[13];let H;n[14]===Symbol.for("react.memo_cache_sentinel")?(H=y.jsx(Nt,{path:"/user-login",element:y.jsx(B0,{})}),n[14]=H):H=n[14];let L;n[15]===Symbol.for("react.memo_cache_sentinel")?(L=y.jsx(Nt,{path:"/user-sign",element:y.jsx(tD,{})}),n[15]=L):L=n[15];let F;n[16]===Symbol.for("react.memo_cache_sentinel")?(F=y.jsx(Nt,{path:"/vendor-login",element:y.jsx(z0,{})}),n[16]=F):F=n[16];let z;n[17]===Symbol.for("react.memo_cache_sentinel")?(z=y.jsx(Nt,{path:"/vendor-dashboard",element:y.jsx(vD,{})}),n[17]=z):z=n[17];let P;return n[18]===Symbol.for("react.memo_cache_sentinel")?(P=y.jsx("div",{className:"App",children:y.jsx(Sw,{children:y.jsxs(ew,{children:[e,i,r,o,c,h,m,p,g,E,T,w,k,B,H,L,F,z,y.jsx(Nt,{path:"/vendor-signup",element:y.jsx(xD,{})})]})})}),n[18]=P):P=n[18],P}o2.createRoot(document.getElementById("root")).render(y.jsx(Q.StrictMode,{children:y.jsx(RD,{})}));
